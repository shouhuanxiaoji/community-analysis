{"edge": [{"commit_oid": "75dcdc2cf37478fad6c0e3427403d198b554951d", "commit_date": "2023-06-13T14:47:15Z", "commit_message": "unistr.c: Fix use-after-free in 'ntfs_uppercase_mbs'.\n\nIf 'utf8_to_unicode' throws an error due to an invalid UTF-8 sequence,\nthen 'n' will be less than 0 and the loop will terminate without storing\nanything in '*t'. After the loop the uppercase string's allocation is\nfreed, however after it is freed it is unconditionally accessed through\n'*t', which points into the freed allocation, for the purpose of NULL-\nterminating the string. This leads to a use-after-free.\nFixed by only NULL-terminating the string when no error has been thrown.\n\nThanks for Jeffrey Bencteux for reporting this issue:\nhttps://github.com/tuxera/ntfs-3g/issues/84", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6b3f0960690ec6f4f157815adad532dc4cea1dbe", "commit_date": "2023-05-28T05:21:34Z", "commit_message": "ntfsprogs/Makefile.am: Only install manpages for 'extras' when enabled.\n\nWe used to always install all the manpages, but some are specific to the\n'extras' enabled with the configure option '--enable-extras'.\nFixed by only installing the 'extras' manpages when '--enable-extras' is\nactive.\n\nAlso since this commit touches the list of manpages a bit of cleanup was\ndone to make sure there's only one manpage per line (helps to minimize\ndiffs) and also that the manpages are sorted in alphabetical order in\nntfsprogs/Makefile.am to avoid future confusion.\n\nThanks to user 'opty77' for reporting this issue:\nhttps://github.com/tuxera/ntfs-3g/issues/82", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "233658e5a1599e40bbd8211e64bb98a12751b1ea", "commit_date": "2023-05-19T09:20:54Z", "commit_message": "attrib.c: Fix another instance of errno not being set on error.", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1565b01e215c74e5c5f83f3ecde1ed682637dc5a", "commit_date": "2023-05-09T08:25:10Z", "commit_message": "mft.c: Fix broken free MFT records accounting during bitmap extension.\n\nWhen the bitmap needs extending, 'vol->free_mft_records' is incremented\nby 8*8=64 records. This is due to the bitmap's initialized area being\nextended 8 bytes at a time.\nHowever the way 'vol->free_mft_records' is being initialized is that all\nthe bits that are currently allocated to the MFT bitmap are already\ntaken into account at initialization time. This leads to a value for\n'vol->free_mft_records' that is larger than the actual available number\nof MFT records.\n\nFor example if there are 20 used MFT records and the bitmap has a 4096\nbyte allocation where 16 bytes are initialized, the number of free MFT\nrecords are ((8 * 16) - 20) + (8 * (4096 - 16)) = 32748 records\navailable.\nIf we now expand the bitmap by 8 initialized bytes, we'd be adding 64\nMFT entries according to the logic in the function\n'ntfs_mft_bitmap_extend_initialized'.\nHowever we are expanding it within the bounds of the existing allocation\nwhere there is (4096 - 16) bytes free, so they shouldn't be added at all\nat this stage.\n\nThe result is that our internal accounting is that we have 32748 + 64 =\n32812 available MFT records, but in reality we will have 32748 records\navailable all the time until we expand the allocation beyond 4096 bytes.\n\nFixed by incrementing 'vol->free_mft_records' when the allocation is\nexpanded, not when the initialized size is.", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "241ddb38605b6b298174e6f1019e8e2502a45558", "commit_date": "2023-05-03T08:44:57Z", "commit_message": "index.c: Fix crash when a reparse tag cannot be found in the index.\n\nWhen 'remove_reparse_index', called by 'ntfs_delete_reparse_index',\nfails to look up a reparse key in the index, it leaves the\n'ntfs_index_context' without a populated 'INDEX_BLOCK *ib' field.\n\nThis causes 'remove_reparse_index' to fail but the index entry is then\nmarked dirty unconditionally in 'ntfs_index_entry_mark_dirty', called by\n'ntfs_delete_reparse_index', even though 'ib' may be NULL.\n\nThe following 'ntfs_index_ctx_put' call then starts to write out the\ndirty 'INDEX_BLOCK', which causes a crash.\n\nFixed by only marking the index block dirty in if it's non-NULL.\n\nThanks to Stephen Greenham <sg@solarisfire.com> for reporting this issue\nand providing debug information.", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "01b9bddc0c2165baa46abe7562550ef4e8c2752b", "commit_date": "2023-05-03T07:57:34Z", "commit_message": "attrib.c: Fix errno not being set on NULL character in attribute name.\n\nThis is an error condition as we jump to err_out, but there's no errno\nvalue set to accompany it. Fixed by setting EIO.", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e73d481a76a5814076ff78a1c3a70e9b7da7c0e9", "commit_date": "2022-12-12T16:51:12Z", "commit_message": "mkntfs.c: Enable microsecond-precision volume creation time.\n\nPreviously the creation time was filled in with seconds (obtained using\ntime(NULL)) but the microsecond part was left zeroed. Fixed by using\ngettimeofday when available.", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "71ecccf279d3660812b18803a75f368d2f76eea6", "commit_date": "2022-11-08T11:54:36Z", "commit_message": "configure.ac: fix bashism in fuse check\n\nconfigure scripts need to be runnable with a POSIX-compliant /bin/sh.\n\nOn many (but not all!) systems, /bin/sh is provided by Bash, so errors\nlike this aren't spotted. Notably Debian defaults to /bin/sh provided\nby dash which doesn't tolerate such bashisms as '=='.\n\nThis retains compatibility with bash.\n\nFixes configure warnings/errors like:\n```\nchecking Windows OS... no\n./configure: 13360: test: xinternal: unexpected operator\nchecking for pthread_create in -lpthread... yes\nchecking Solaris OS... no\n```\n\nSigned-off-by: Sam James <sam@gentoo.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}]}