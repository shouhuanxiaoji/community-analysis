{"base": [{"commit_oid": "c2d31e6a5555ed113ab20b2e4e9180fca69d77f5", "commit_date": "2023-10-18T09:29:56Z", "commit_message": "ovn: Tidy up the ovs/ovn code\n\n * Remove the extensive use of `clone()`.\n * Use Trait instead C-like functions for dedup and sort.\n * Remove the use of `unwrap()` will crash the library user.\n * Less public API.\n * Deprecate `OvnBridgeMappingState::Present` and hide it from querying.\n * Isolate code to modules, for example, NetState should not hold code\n   require knowledge of detail implementation of OVN.\n * Sort HashMap of ovsdb `external_ids` and `other_config` when\n   serializing.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4538b0a1e51f59d9889bb697e6158673bc8cdb35", "commit_date": "2023-10-17T13:41:08Z", "commit_message": "bond: Add support for the `ports-config`\n\nThe `ports-config` is the field to specify a list of ports\nconfiguration, the supported settings are `priority` and `queue-id`.\nThe bond port priority is only supported to set when bonding mode is\nactive-backup(1) or balance-tlb (5) or balance-alb (6).\n\nPlease note that the `port` field is not required when specifying the\n`ports-config`. An InvalidArgument error will be raised during apply\nwhen user also specifies the `port` and the port names specified in\n`port` conflict with the port names specified in `ports-config`.\n\nExample:\n\n```\ninterfaces:\n  - name: bond0\n    type: bond\n    state: up\n    link-aggregation:\n      mode: active-backup\n      options:\n        miimon: 140\n      ports-config:\n        - name: eth1\n          priority: -1\n          queue-id: 0\n        - name: eth2\n          priority: 2\n          queue-id: 1\n```\n\nSigned-off-by: Wen Liang <liangwen12year@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "107382a9dc5a669473f5766846b502d2e1a33630", "commit_date": "2023-10-16T14:56:48Z", "commit_message": "ip: validate prefix_length\n\nReject configurations with invalid prefix_lengths.\n\nAdded unit tests.\n\nSigned-off-by: \u00cd\u00f1igo Huguet <ihuguet@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a579e0418a60b0077380f312c6b7fd5d69f59e85", "commit_date": "2023-10-16T14:56:48Z", "commit_message": "ip: don't check \"ipv4 in ipv6\" in sanitize without error checking\n\nFrom the documentation in file lib/iface.rs, Interface::sanitize:\n  The `is_desired` is used to suppress error checking and logging on\n  non-desired state.\n\nMove error checking \"Got IPv4 address in ipv6 config section\" to inside\nan `if is_desired` block.\n\nFixes: 5f1107fdfa8f2d\nSigned-off-by: \u00cd\u00f1igo Huguet <ihuguet@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e18942b5fe4cc44cb466fd5b723ee3bdc4922361", "commit_date": "2023-10-09T10:43:40Z", "commit_message": "kubevirtci: Bump to 1.27\n\nSigned-off-by: Enrique Llorente <ellorent@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6f629d53bc0b23f51f95e9f4379e4fa85fd698ca", "commit_date": "2023-09-30T16:04:50Z", "commit_message": "test: Remove verify_change=False for absent action\n\nFor test `test_create_ovs_with_internal_ports_in_reverse_order` which\ncheck absent of interface right after the `state: absent` applied,\nif we use `verify_change=False`, nmstate will not wait till interface\ngone.\n\nThis patch removed all `verify_change=False` for absent action.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3d8ec196a67d26fca332355c33f4510b323197c2", "commit_date": "2023-09-30T03:00:26Z", "commit_message": "test: Remove old workaround on dnf cache\n\nThe dnf in container has been improved a lot, no workaround required for\nmissing lock on `/var/cache/dnf/metadata_lock.pid`\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "19e3e71945ff525cc1f8d107fdce9f0085ab8f23", "commit_date": "2023-09-29T17:09:51Z", "commit_message": "Run cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "261adfd722ac351481155b541ccab588074978f4", "commit_date": "2023-09-29T17:09:51Z", "commit_message": "test: Move eth1 and eth2 setup to pytest fixture\n\nPreviously we were using run-tests.sh to setup the eth1 and eth2,\nafter moving this into pytest fixture, the `pytest` could works out of\nbox.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "51e9cb63baea7c698eb513d2d05e175ebac1c6ec", "commit_date": "2023-09-21T11:19:16Z", "commit_message": "Bump version to 2.2.17\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a15f663e03eeb185b2aee42ba635b301747d77e7", "commit_date": "2023-09-21T06:50:48Z", "commit_message": "New release\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Support to MACsec interface. (14d307f2)\n - Support DNS options. (b77a1883)\n\n=== Bug fixes\n - Deny unknown field for global and iface ovsdb. (6baaa5ae)\n - Fix nmstatectl `persist-nic-names` on bond port. (2a2e36c1)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2a2e36c155c010cd4b64fd9ad18381d523081696", "commit_date": "2023-09-21T06:23:39Z", "commit_message": "cli: Fix `persist-nic-names` on bond port\n\nWhen interface been attached to bond, all bond ports might holding the\nsame MAC address of bond.\n\nInvoking `persist-nic-names` on bond port which does not have permanent\nMAC address will cause nmstatectl using this incorrect MAC to pin the\nNIC name.\n\nTo fix this problem, for bond port, we find its permanence MAC address\nfirst, if failed, we use MAC address stored in netlink\n`IFLA_BOND_PORT_PERM_HWADDR` message. The current MAC address will never\nbeen use for bond port.\n\nIn order to retrieve the `IFLA_BOND_PORT_PERM_HWADDR`, we introduce\ndependency on nispor to get such information. Considering nmstate crate\nalso depend on nispor, we are not expanding our dependency chain.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b77a18832f00c26b6f4a95c2f233c9585640a128", "commit_date": "2023-09-21T02:03:29Z", "commit_message": "dns: Support DNS options\n\nExample on DNS options:\n\n```yml\n---\ndns-resolver:\n  config:\n    options:\n      - rotate\n      - debug\n```\n\nNmstate only support these DNS options:\n * `attempts`\n * `debug`\n * `edns0`\n * `inet6`\n * `ip6-bytestring`\n * `ip6-dotint`\n * `ndots`\n * `no-aaaa`\n * `no-check-names`\n * `no-ip6-dotint`\n * `no-reload`\n * `no-tld-query`\n * `rotate`\n * `single-request-reopen`\n * `single-request`\n * `timeout`\n * `trust-ad`\n * `use-vc`\n\nExample YAML updated.\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "14d307f279eac2d87e6af76eab49c7011985036e", "commit_date": "2023-09-21T01:28:07Z", "commit_message": "macsec: add support to MACsec interface\n\nPlease notice that `mka-cak` and `mka-ckn` parameters are retrieved from\nNetworkManager connection. In addition, `mka-cak` is sensitive so it\nwill show only if the --show-secrets option is set.\n\nExample:\n\n```\ninterfaces:\n- name: macsec0\n  type: macsec\n  state: up\n  macsec:\n    encrypt: true\n    parent: eth1\n    mka-cak: 50b71a8ef0bd5751ea76de6d6c98c03a\n    mka-ckn: f2b4297d39da7330910a74abc0449feb45b5c0b9fc23df1430e1898fcf1c4550\n    port: 0\n    validation: strict\n    send-sci: true\n```\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "698b65d84d507a5a14e6c48ebf8e310e15e15775", "commit_date": "2023-09-21T01:28:07Z", "commit_message": "dep: upgrade nispor to 1.2.14\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "58e77007aede6f675ee0ba600078adb0a52dc718", "commit_date": "2023-09-19T01:45:14Z", "commit_message": "test: Add the --centos-stream option back\n\nThe knmstate CI is using this `--centos-stream` option, add it back as\nalias of `--el9`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fdc37637c388f76da2c9512dd322eee61447c277", "commit_date": "2023-09-18T12:45:43Z", "commit_message": "test: Promote checkpoint related tests to tier1\n\nThe manual commit and rollback is fundamental for all OpenShift use\ncases, hence these test cases should be marked as tier1:\n\n * `test_manual_confirmation`\n * `test_manual_rollback`\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2681135147ecfa9637271c0ac48b72a0b3bb6a35", "commit_date": "2023-09-15T04:23:31Z", "commit_message": "test: Change `test_add_iface_with_same_static_ipv4_address_to_existing` to tier2\n\nThe use case of `test_add_iface_with_same_static_ipv4_address_to_existing`\ndoes not have actual use case attached, change to tier2.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2ef32e106044e638799c127c99f58741a1b61230", "commit_date": "2023-09-10T08:47:12Z", "commit_message": "ci: Support Fedora latest and rawhide\n\nBoth `run-tests-in-nmci.sh` and `run-tests.sh` supports:\n * `--fed` to run test in Fedora latest\n * `--rawhide` to run test in Fedora rawhide\n\nNmstate CI has expanded to include tier 1 test on Fedora latest with\nstocked NetworkManager.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4cf6064432e67a79636fd6c2234800590f261af3", "commit_date": "2023-09-08T11:53:09Z", "commit_message": "CI: Add container image for Fedora\n\nNMCI would like to run test on Fedora, hence including Dockerfile for:\n * Fedora Rawhide\n * Fedora latest stable\n\nFor Fedora Rawhide, we do not use `dnf upgrade` as we noticed it will\nbreak the binary of `dnf`.\n\nThe Fedora ELN does not have openvswitch yet, hence we skip it for now.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d1919d347aff814e4e31455c2826d6990b09cc39", "commit_date": "2023-09-07T04:35:33Z", "commit_message": "LICENSE: Clarify the code license state\n\nThe main code of nmstate is under Apache 2.0 except test codes in `tests`\nfolder are licensed in LGPL 2.1 or later.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "94556cc76a7fa55d82c14696c4745f5b79918cb8", "commit_date": "2023-09-06T00:04:56Z", "commit_message": "rust, clippy: Fix last error from nightly\n\nSigned-off-by: Enrique Llorente <ellorent@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6baaa5ae5679f14bcec1791d43fb4080f73bb4e9", "commit_date": "2023-08-25T07:20:04Z", "commit_message": "ovs: Deny unknown field for global and iface ovsdb\n\nSince we using customized deserializer for ovsdb, we should deny unknown\nfield by ourselves.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "edabefe30f3e0a880a234f6f85be590db5357af8", "commit_date": "2023-08-25T07:20:04Z", "commit_message": "test: Fix incorrect YAML in `test_change_ovsdb_ext_id_of_ovs_path`\n\nThe `test_change_ovsdb_ext_id_of_ovs_path` is using incorrect desire\nstate. The `foo: abd` should be placed under `OvsDB.EXTERNAL_IDS`\nsection.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4869bdc44b1b6d250bc6c3cd5b25b599b074de3b", "commit_date": "2023-08-24T14:59:07Z", "commit_message": "Bump version to 2.2.16\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a09ca27d8f4bf50c9031dd8045c4a10b4575247e", "commit_date": "2023-08-23T08:33:47Z", "commit_message": "New release 2.2.15\n\n=== Breaking changes\n - N/A\n\n=== New features\n - N/A\n\n=== Bug fixes\n - OVN: mappings changes do not clear ext ids keys. (f0e5a8e6)\n - Fix DNS changes with OVS geneve interface holding IP. (dffaa0b0)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dffaa0b0f9b00ea2e06ba38ed6ba17cc0e647bd5", "commit_date": "2023-08-23T05:33:34Z", "commit_message": "nm: Do not use `Other` interface type\n\nFor OVS geneve interface, nmstate is incorrect showing it as managed\neven NM marked it as unmanaged.\n\nThe root cause is NM is using `InterfaceType::Other(\"generic\")` for this\nkind of interface, while nispor is showing it as Ethernet interface.\nSince `InterfaceType::Other` is treated as user space interface, the\nmerging will not working correctly.\n\nTo fix the issue, for NM unknown interface, we set the interface type to\n`InterfaceType::Unknown` when it has MAC address.\n\nReference bug: https://bugzilla.redhat.com/show_bug.cgi?id=2232578\n\nTier1 test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "07f2809574b3d21c4cb13ac7eaba41b64335c25b", "commit_date": "2023-08-22T09:41:25Z", "commit_message": "tests: check ovs-bridge and ovs-interface same name can modify\n\nWhen ovs-bridge and ovs-interface share names, Nmstate should be able to\nmodify ovs-interface without any error.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=2231843\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f0e5a8e661350be67ccc3524628c8953126d00ea", "commit_date": "2023-08-21T08:06:32Z", "commit_message": "ovn, ovsdb: mappings changes do not clear ext ids keys\n\nWhen adding/deleting a mapping (and not changing anything under the\novsdb key) we were causing the external IDs / other config of the ovsdb\nto be cleared, since the ovsdb properly list was empty - [0].\n\nThis commit changes that, and ensures that when mappings are provided,\nthe ovsdb property list has something, which in turn will prevent the\nexternal ids, and other_config maps from being cleared.\n\n[0] - https://github.com/nmstate/nmstate/blob/6a87b702f8c130fe9825f738177105f7913e9918/rust/src/lib/ovs.rs#L168\n\nSigned-off-by: Miguel Duarte Barroso <mdbarroso@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "98a1916bba7af1ea7509ac33c2e2c2119286996d", "commit_date": "2023-08-17T13:24:33Z", "commit_message": "Run cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e646a8b8ddd0270966f7052eb0f27ba84bbd28b9", "commit_date": "2023-08-17T13:24:33Z", "commit_message": "Bump version to 2.2.15\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c509a6a76695ede804a096b2ec0bec649ea25c63", "commit_date": "2023-07-26T14:28:51Z", "commit_message": "New release 2.2.14\n\n=== Breaking changes\n - Changed `EthtoolFeatureConfig` from type alias of HashMap into\n   `struct` (37a100f5). No YAML/JSON API changes for this.\n\n=== New features\n - Support route rule option suppress-prefix-length. (b42197ae)\n - New OVS `allow-extra-patch-ports` option. (769fe911)\n\n=== Bug fixes\n - Fix ECMP route in `gen_conf` mode. (fe6002aa)\n - Preserve gateway when not desired. (2b766619)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "37a100f577b7eca9db2da06813d7dae6f25689ce", "commit_date": "2023-07-26T08:31:04Z", "commit_message": "ethtool: Sort features when serialize (rust api break)\n\nIn order to sort the features when serialize, we need to change\ndefinition of `EthtoolFeatureConfig` from type alias of `HashMap` to a\nprivate struct.\n\nIn order to minimize the impact, has implemented these:\n\n * `From<HashMap<String, bool>> for EthtoolFeatureConfig`\n   Rust API use can simply add `.into()` to their code converting\n   HashMap to `EthtoolFeatureConfig`.\n\n * `impl<'a> IntoIterator for &'a EthtoolFeatureConfig`\n   Rust API can still use iterator over &EthtoolFeatureConfig like the\n   did.\n\n * `remove()`, `insert()`, `get()`.\n\nUnit test case included for checking serialize.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b42197aeadddf8c9439fe710058e6f6cdefab46f", "commit_date": "2023-07-26T08:05:03Z", "commit_message": "route rule: Support suppress-prefix-length\n\nAdding support of ip route rule `suppress-prefix-length` which equal to\n`suppress_prefixlength` option in `ip route` command.\n\nExample:\n\n```\nroute-rules:\n  config:\n    - ip-from: 192.168.3.2/32\n      suppress-prefix-length: 0\n      route-table: 200\n    - ip-from: 2001:db8:b::/64\n      suppress-prefix-length: 1\n      route-table: 200\n```\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "769fe9115ec2e5ee11fd59b2d95ab05f771ba7cc", "commit_date": "2023-07-20T11:54:23Z", "commit_message": "ovs: New `allow-extra-patch-ports` option\n\nIntroducing `allow-extra-patch-ports` to OVS bridge section which will\nallows extra OVS patch port found when applying or verifying. For\nexample:\n\n```yml\n- name: br0\n  type: ovs-bridge\n  state: up\n  bridge:\n    allow-extra-patch-ports: true\n    port:\n    - name: eth1\n```\n\nThis YAML will not remove existing patch port of `br0` when applying,\nand also ignore extra OVS patch found during verification.\n\nThis property will not be persisted, every time you modify\nports of specified OVS bridge, you need to explicitly define this\nproperty if not using default value.\n\nUnit test cases and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fe6002aac07e215ab2e4c1e64f4005c405e63251", "commit_date": "2023-07-20T11:26:26Z", "commit_message": "gen_conf: Fix ECMP route\n\nThe `gen_conf` should include ECMP weight.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "47368a62fffc7672bb750244d4e3c61d6f5f4e47", "commit_date": "2023-07-20T05:23:23Z", "commit_message": "test: Use correct config for ignore carrier\n\nThis is the preferred config for ignore carrier on all interfaces.\n\n```\n[device]\nmatch-device=interface-name:*\nignore-carrier=no\n```\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2b766619712aa9371426f42851a721324a4aaca7", "commit_date": "2023-07-18T02:31:13Z", "commit_message": "nm: Preserve gateway when not desired\n\nNmstate is using `routes` instead of `gateway` for storing gateway.\nWhen a NM connection has IP config change without route changes, the\ngateway stored in `gateway` property will lose.\n\nTo fix that, we do not reset `gateway` property unless IP been disabled\nor has route changes.\n\nIntegration test case included.\n\nReference: https://bugzilla.redhat.com/show_bug.cgi?id=2212741\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c7749148394fa1db58f7f8ec27f0146a2dd7a6ed", "commit_date": "2023-07-13T08:35:37Z", "commit_message": "Bump version to 2.2.14\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6d10a4c4736e4f3b4482e86151b9d878ef367e3f", "commit_date": "2023-07-13T03:58:34Z", "commit_message": "New release 2.2.13\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Support OVN mapping. (72b54fd9, 2efba01b, 6a87b702, 1a57b595, af2ffc39)\n - Support bond `arp_missed_max` option. (aeae2f7d, bbe63918)\n\n=== Bug fixes\n - Fix SR-IOV retry. (407f68fc)\n - Remove dependency on ipnet crate. (28e7d052)\n - Handle unknown interface type for SRIOV. (8764f450)\n - Perform pre-apply check before creating checkpoint. (c4b25a77)\n - Fix regression on waiting SRIOV. (bbd091cc)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "cdfaced8b1662075f970dc01354f4c63e805815c", "commit_date": "2023-07-13T03:58:34Z", "commit_message": "test: Fix `vlan_over_bond_with_port_down` on NM 1.43.11\n\nIn NM 1.43.11, we noticed the bond or its vlan will not be deleted when\nall bond port link down, this will fail the setup of test\n`vlan_over_bond_with_port_down`.\n\nInstead of checking intermediate state, changed this test to just check\nlink state of VLAN during setup.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "407f68fca4733686aefcd12a767c483f4334b680", "commit_date": "2023-07-12T07:02:08Z", "commit_message": "sriov: Use SR-IOV specific retry for VF parameter changes\n\nPreviously, we think only VF count changes need extra retry, but we\nnoticed when ethtool or other config applied to PF, a full activation is\nrequired in NM where SR-IOV will be disable and re-enable. Hence we\nchange the verify count for any desire state has SR-IOV interface.\n\nUnit test case updated, integration test case added.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "af2ffc39b0b7d6d5cbbacbcb754db000dc9099f3", "commit_date": "2023-07-07T12:17:18Z", "commit_message": "ovn: ensure add/modify mappings require bridge\n\nAdds a sanitize function that ensures each mapping being provisioned -\nor updated - provides the bridge over which the localnet traffic will be\nforwarded.\n\nSigned-off-by: Miguel Duarte Barroso <mdbarroso@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1a57b5956d6c276191b1cec3539581a7c43d3dc5", "commit_date": "2023-07-07T12:17:18Z", "commit_message": "ovn: do not allow for duplicate localnet keys\n\nThis commit makes it impossible for the user to provide multiple\n`OvnBridgeMappings` with the same `localnet` key in the desired state.\n\nThe way for updating a key is to simply refer to it once, and provide\nthe update `bridge` value. When doing that, the `state` attribute is not\nrequired. Refer to the following snippet for an example (assuming an\nexisting `net1: br1` mapping):\n\n```yaml\novn:\n  bridge-mappings:\n  - localnet: net1\n    bridge: new-bridge-123\n```\n\nThe example above will change the `net1` `localnet` mapping to the\n`new-bridge-123` OVS bridge.\n\nSigned-off-by: Miguel Duarte Barroso <mdbarroso@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6a87b702f8c130fe9825f738177105f7913e9918", "commit_date": "2023-07-07T12:17:18Z", "commit_message": "ovsdb: preserve the `ovn-bridge-mappings` value\n\nWhen the user clears the ovsdb external IDS, preserve the existing\nbridge mappings. In case the user wants to remove these mappings from\nthe OVS system, they should use the upper level OVN API (which supports\npartial editing) by setting the OVN bridge mapping's state to absent.\n\nSigned-off-by: Miguel Duarte Barroso <mdbarroso@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2efba01b7695cbe257046721b5730890ac7cada3", "commit_date": "2023-07-07T12:17:18Z", "commit_message": "ovsdb: error when ovn-bridge-mappings ext id key is used\n\nThe users should use the proper API to manipulate the OVN bridge\nmappings; to make it more explicit to the user, we throw an error when\nthey attempt to manipulate the external ID key directly.\n\nSigned-off-by: Miguel Duarte Barroso <mdbarroso@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "72b54fd9d797324a07ba96e07957f513ef9a76b2", "commit_date": "2023-07-07T12:17:18Z", "commit_message": "API: add ovn subtree\n\nThis commit adds a new subtree - `ovn` - to the `NetworkState`. This\nfeature requires the ovsdb module enabled, since it is essentially just\nsyntactic sugar on top of the ovsdb `ovn-bridge-mappings` external ID\nkey.\n\nTo add a new bridge-mapping the user should apply the following snippet:\n```yaml\novn:\n  bridge-mappings:\n  - localnet: tenantblue\n    bridge: ovsbr1\n    state: present\n```\n\nThis API supports partial editing; thus, to delete a particular mapping,\nthe user **must** set its state to absent:\n```yaml\novn:\n  bridge-mappings:\n  - localnet: tenantred\n    bridge: ovsbr1\n    state: absent\n```\n\nKeep in mind the `bridge` attribute is optional when deleting.\n\nSigned-off-by: Miguel Duarte Barroso <mdbarroso@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0c6baf891953418ef48e8bfddc48121f16df14ab", "commit_date": "2023-07-04T14:43:19Z", "commit_message": "test: Remove test_new_bond_uses_mac_of_first_port_by_name from tier1\n\nThe `test_new_bond_uses_mac_of_first_port_by_name` test case has random\nfailure in Github CI and NMCI environment, considering this is a ovirt\nuse case which holds low priority,\nLet's remove it from tier1 temporary till issue been resolved.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c4ce1e8bd03ae5570020d1c5161668ce00da6e8e", "commit_date": "2023-07-04T14:43:19Z", "commit_message": "Run cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "59148e75dbff8b4360c62850545af77ed919df12", "commit_date": "2023-07-03T08:48:00Z", "commit_message": "test: add test for bond port revive\n\nAdd test case to simulate the import use case in\nhttps://bugzilla.redhat.com/show_bug.cgi?id=2207690\n\nThe IP on VLAN of bond should be assigned back when bond port link\nrevived.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "63864339fb02047476c7de5a1b5e500dc7366bdf", "commit_date": "2023-06-29T10:39:56Z", "commit_message": "README: Remove IRC channel\n\nMost questions on IRC are ignored, therefore it does not make sense to mention it in the README.\n\nSigned-off-by: Till Maas <opensource@till.name>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "28e7d052f333128c2466481bdf6e8486770f6eab", "commit_date": "2023-06-28T07:08:23Z", "commit_message": "ip: Remove dependency on ipnet crate\n\nThe new ipnet 2.8 release breaks our compiling. Considering we only use\na very few functions from ipnet, I have replace the ipnet usage to self\nmaintaining code.\n\nUnit test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bbe639186584f19401b4d1fcae2907fd03e56da7", "commit_date": "2023-06-27T11:32:11Z", "commit_message": "nm bond: Fix error on NM 1.42 or older for `arp_missed_max` option\n\nOn NM 1.42 or older, the test case `test_change_bond_option_miimon` will fail\nthe `arp_missed_max` is not supported by NM.\n\nThe root cause is that test case is applying full state retrieved by\nnispor including the default `arp_missed_max: 2` kernel value.\n\nTo fix it, we do not set `arp_missed_max` explicitly unless pre-exit in\ncurrent config or not a default value.\n\nNo additional test case required, running\n`test_change_bond_option_miimon` on NM 1.42 and older version will\nreproduce the problem.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b76c06a3f9b1f9bbe12762c14bdf70efdc3cc846", "commit_date": "2023-06-26T08:30:41Z", "commit_message": "test: Skip `test_change_bond_option_arp_missed_max` on old NM\n\nOnly NM 1.43+ support bond option `arp_missed_max`, mark test as skip\nfor older NM.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "aeae2f7d6c184fed59433482e7cce19cbd9b49d6", "commit_date": "2023-06-22T10:22:08Z", "commit_message": "bond: Add support of arp_missed_max option\n\nExample yaml:\n\n```yml\n---\ninterfaces:\n- name: bond99\n  type: bond\n  state: up\n  link-aggregation:\n    mode: balance-xor\n    options:\n      arp_missed_max: 100\n```\n\nIntegration test case included and been marked as skipped as Ubuntu 5.15\nkernel in Github CI does not support this feature(need kernel 5.17+ or\nbackport).\n\nSigned-off-by: Beniamino Galvani <bgalvani@redhat.com>\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9139bf54334fac2aacc7625d93f6fc0d6cc6171d", "commit_date": "2023-06-16T08:38:02Z", "commit_message": "Grammar fix in nmstate.service.README\n\nSigned-off-by: Marc Muehlfeld <mmuehlfeld@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8f2d8ef20866ec264946f85a55d9203fa8b56d17", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Make `persist-nic-names --cleanup` still print state\n\nThis way, we get the equivalent of `--inspect`.  The MCO can just\nrun `--cleanup` on every boot and not have to care about\nany implementation details.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "54e9e09210d58647dc9e5d0fd1c54a5d5bba437d", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Deduplicate karg logging\n\nIn `--dry-run` mode we don't actually write to `--karg-file`\nanyways, so move the kargs handling outside of the `!dry_run`\nconditional, which allows us to deduplicate the logging.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1b85892b28e59b13842be30306beaa3afb4dd582", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Ensure stamp path parent exists\n\nFixes https://issues.redhat.com/browse/OCPBUGS-14298\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "acd1e9e6e7ea682c367f2cf0d1f96f0a10fdd428", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Readd `perist-nic-names --inspect`, rework internals\n\nToday the logs from this invocation may end up either\nin the systemd journal or in a container log.\n\nAnd after that one run, they will quickly get lost back in the\nshuffle.\n\nThe original motivation behind `--inspect` is to be able\nto quickly and conveniently see the state of the system; it's\nsomething we can run every time the OpenShift machine-config-daemon\nstarts up on a node.\n\nThat way, we'll always be able to look at the logs and see what\nhappened with NIC persistence.\n\nIn the implementation of this, rework things such that \"dry_run\"\nis a bool passed down instead of augmenting the action.\n\nThis makes the code flow much more clearly; instead of having\nan early return in `run_persist_immediately` if the action is\nto cleanup we separate the persist action into its own function\ntoo, and then just dispatch to one or the other.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "851640fec5cdd9bd695565f8eb1d0a79b79599bd", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Only append `ifname` kargs if `rd.neednet` is used\n\nIf networking isn't required in the initramfs, then there's no need to\nappend `ifname` kargs. Key off of the `rd.neednet` karg to know if that's\nthe case.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "aa1b79f7f89bde8e1514a117159b5e81b8bd65e7", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Split out `has_any_kargs` helper function\n\nPrep for checking for another karg.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d75ff094dadd708a5c58b2d9d62d68b39ea9fbe5", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Strengthen karg checking for net.ifnames=0\n\nA karg like `foonet.ifnames=0` will make this function think that\npredictable ifnames are disabled. We need the check to be word boundary-\naware.\n\nSplit the kernel cmdline on whitespace and check for each element.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1da7f70d8840974b248d3a70b067c5081367132f", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Simplify and make consistent logging in `persist-nic-names`\n\nIn the pinning path, we used \"would\", which would be more appropriate\nfor dry run mode, but we also used it in non-dry run mode. In the\ncleanup path, we used \"will\" only in dry run mode.\n\nSince \"will\" works for both dry run mode and non-dry run mode, tweak\nthings so we always say \"will\". This simplifies things since we don't\nneed different logging for each mode.\n\nIn the cleanup path, log when we actually remove the link file for\nconsistency with the pinning path.\n\nWhile we're here, merge the kernel arg and link file logging.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "87058539c828ed2dac99bac06075d8e078152fc8", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Mention kargs in persist_nic doc and minor tweaks\n\nAdd kernel arguments to the `persist_nic` module docstring. Fix a typo\nin the predictable ifname function name. Don't capitalize systemd at the\nbeginning of sentences.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "18a9456f929843c37b707687251bf4c46f4aef5f", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Teach `persist-nic-names` to pin via kargs too\n\nPinning by kargs has the additional benefit of also covering the\ninitramfs, which is relevant if networking is necessary there (for\ne.g. a Tang-pinned rootfs), and network kargs are in use that rely on a\nspecific interface name.\n\nTo keep it simpler, we don't have nmstate itself call out to rpm-ostree.\nInstead, a new `--kargs-out` flag is added where nmstate can write out\nthe kargs that the MCO should add/remove.\n\nRelated: https://github.com/openshift/machine-config-operator/pull/3684\nRelated: https://github.com/openshift/machine-config-operator/pull/3706\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8764f4500fb2d58cd6a5358be6cf3b6431c73a7f", "commit_date": "2023-06-07T03:41:02Z", "commit_message": "sriov: Handle unknown interface type for SRIOV\n\nWhen changing SRIOV VF change without defining interface type, nmstate\nwill incorrectly treat it as non-SRIOV interface which lead to incorrect\nverification retry count (5).\n\nTo support that use case, we need to use `MergedNetworkState` to resolve\nthe unknown interface type, then check whether we have SRIOV VF changes\nto determine the timeout and verification retry count.\n\nUnit test case included.\nIntegration test case `test_change_vf_from_62_to_63` does not have\ninterface type defined which is enough to reproduce this issue after\nmultiple retry.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c4b25a77c821ce45d861ec5cf70ebe0180b0fa2c", "commit_date": "2023-06-07T03:41:02Z", "commit_message": "apply: Perform pre-apply check before creating checkpoint\n\nDo pre-apply check before creating the checkpoint when the desire does\nnot contains future VF(in this case the pre-check only happens after\nSRIOV VF count changed).\n\nIt is hard to test this in auto test case. Manual checked using\noverbook bond port.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bbd091cc566743dc9e218389efadf4654e3ff65d", "commit_date": "2023-06-07T03:41:02Z", "commit_message": "sriov: Fix regression on waiting SRIOV\n\nThe 20871bac introduced a regression causing SR-IOV verification error\nwhen enabling large mount(60+) VF.\n\nThe root cause is we only retry verification\n`VERIFY_RETRY_COUNT_SRIOV(60)` times when VF changed with missing ethernet\nVF. Fixed by use `VERIFY_RETRY_COUNT_SRIOV` when we have VF count\nchanged.\n\nIn test with ixgbe, we noticed 60 seconds is not enough, hence increase\nto 300 seconds for verification retry.\n\nIntegration test case included and manually tested on ixgbe card.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "21fe40785164b8a2a1f07ad30f39505e339b8085", "commit_date": "2023-06-02T08:25:38Z", "commit_message": "tests: skip test_netdev_data_path in NM-1.38- env\n\nTest is not working in NM 1.36 and older. Skip it.\n\nSigned-off-by: Vladim\u00edr Bene\u0161 <vbenes@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d75de57755191e27b33f8373aa609d148992a659", "commit_date": "2023-06-01T10:15:47Z", "commit_message": "VERSION: Bump to 2.2.13\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "71dd2292b002d113905ba0ae996acdc9e2adb857", "commit_date": "2023-06-01T07:46:07Z", "commit_message": "CHANGELOG: New release 2.2.12\n\n* Breaking changes\n - Rust API: BridgePortTunkTag renamed as BridgePortTrunkTag. (148ecd1)\n\n* New features\n - Support `vlan-default-pvid` in bridge options. (e73b147)\n\n* Bug fixes\n - Fix rollback blocked due to waiting for DHCP. (861110b)\n - Fix creating a VLAN or bridge above an interface with multiple NM profiles. (a463a28)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fd4c1aae725c3dd2e1a846d757aa176262cbccaf", "commit_date": "2023-06-01T06:27:12Z", "commit_message": "RPM SPEC: Remove runtime requirement of nmstate-libs\n\nThe `nmstate-libs` is not required for `nmstate` package.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a463a2852fe4ae1a2b4c588b08d4414c9f9627db", "commit_date": "2023-05-29T12:18:59Z", "commit_message": "nm: Use activated connection when referring parent or controller\n\nWhen a interface has multiple NM profiles, creating a VLAN or bridge\nabove it will get failure on\n\n    libnmstate.error.NmstateInternalError: Manager(UnknownDevice):\n    Failed to find a compatible device for this connection\n\nThe root cause of this is `use_uuid_for_controller_reference()` and\n`use_uuid_for_parent_reference()` is searching all existing NM\nconnections if not desired, this might lead to nmstate choosing the\ninactivate profile as parent/controller.\n\nTo fix it, patched `use_uuid_for_parent_reference()` and\n`use_uuid_for_controller_reference()` to prefer activated NM profiles\nover other existing ones.\n\nResolves: RHBZ#2202999\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e73b147f5ff469007303d1892a5337bb3fee10bd", "commit_date": "2023-05-23T16:44:14Z", "commit_message": "bridge: add support to vlan-default-pvid property\n\nWhen setting the vlan-default-pvid property, a VLAN is created with that\ntag. We must control it and skip it. In the past, we were doing that but\nonly for tag 1. This was because the vlan-default-pvid default value is\n1, therefore we needed to control that case only.\n\nAdd integration test.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "148ecd104251e324fccd7cfa35fcf9beee65dc90", "commit_date": "2023-05-23T16:44:14Z", "commit_message": "Rust API break: fix a typo in BridgePortTrunkTag struct\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "23be5826d45d27cb6d123aa5e93a03f6ffaf08cf", "commit_date": "2023-05-22T16:41:47Z", "commit_message": "test: Fix random failure of `test_new_bond_uses_mac_of_first_port_by_name`\n\nThe `test_new_bond_uses_mac_of_first_port_by_name` has random failure\nwith 1% rate, it is caused by nmstate not properly clean up in previous\ntest as it is instructed to delete interface with `verify=False` which\ncause nmstate return when interface might be still deleting by\nNetworkManager.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d7927f663c7ab452b2a8f136225cb9f92cde2e7e", "commit_date": "2023-05-22T08:31:33Z", "commit_message": "test: Refresh the expired CA keys\n\nRecreated SSL keys for 802.1x tests with 100 years lifetime.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "861110b31b25d10a4a6801df0ab4d1e663f18d6b", "commit_date": "2023-05-18T08:57:42Z", "commit_message": "nm: Do not wait DHCP in rollback\n\nWhen rollback, the `wait_checkpoint_rollback()` will continue the wait\non IP_CONFIG which might cause rollback blocked when there is no DHCP\nserver\n\nManual test required, hence no auto CI test case.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bd814026b22ab94b350596404bbb5f95897414db", "commit_date": "2023-05-18T06:49:16Z", "commit_message": "CI: Fix random failure on `test_ignore_interface_mentioned_in_port_list`\n\nIn https://github.com/nmstate/nmstate/actions/runs/5000804973/jobs/8958880385\nwe noticed the `setup of test_ignore_interface_mentioned_in_port_list`\nwill fail as `ip link add brtest0 type bridge` return 2 indicating a\nbridge with the same name exists.\n\nThis is because in previous test, the clean up is using\n`verify_change=False` which does not grantee the linux bridge is removed\nby absent action.\n\nTo fix that, we remove `verify_change=False` and the clean up of\n`linux_bridge()` should make sure the bridge is removed.\n\nThe `ip link del` command does not guarantee on link been removed on\nexit, hence we use nmstate to replace all `ip link del` command in\ntests.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e5cd54501a76705cb22b593e9273f2c0fed9f8e4", "commit_date": "2023-05-17T08:54:47Z", "commit_message": "Bump version to 2.2.12\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "470648d47759061b386cd93b42c43555b8655642", "commit_date": "2023-05-16T06:40:01Z", "commit_message": "New release 2.2.11\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Support OVS DPDK `netdev` datapath. (ac8a4dee)\n\n=== Bug fixes\n - Skip connection activation if its controller will do. (7f93c374)\n - Fix error when DHCP with auto IP address on STP enabled bridge. (8ea675b6)\n - Fix error when running test locally. (21d63ed6)\n - Do nothing for `persist-nic-names` when got `net.ifnames=0`. (c9fd1e80)\n - Include cargo vendor files for s390 linux. (dc6a2149)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fb676a111ecfdad8cdf9001c02a510b9d8b3471e", "commit_date": "2023-05-16T04:41:07Z", "commit_message": "test: Add test case for ipv4 ipv6 using the same route table ID\n\nAs https://github.com/nmstate/nmstate/pull/2294 indicates, user might\nusing the same route table ID for IPv4 and IPv6 on different interfaces,\nwhen user desiring a route rule, nmstate are expected to find the\ncorrect interface for it.\n\nCurrent rust code works well, only adding integration test case for\nthis.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7f93c3743a7c4765e87b0d618f836e0a34f8f474", "commit_date": "2023-05-15T15:21:43Z", "commit_message": "nm: Skip connection activation if its controller will do\n\nFor new controller, its ports will be activated automatically by its\ncontroller via `autoconnect-slave` option in NetworkManager.\n\nWe skip actuation in NM when found new controller and new port when both\nboth controller and port never exist in current state. For OVS related\ninterfaces, we never skip activation.\n\nNo test case included as it is hard to observe(whether port been\nmanually activated) in CI. The performance of\n`test_lot_of_vlans_with_bridges` should be improved by this patch.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ac8a4dee863130cb2d9cd928afb9e23b1eb0f150", "commit_date": "2023-05-15T14:28:28Z", "commit_message": "OVS: Support OVS `netdev` datapath\n\nThe OVS `netdev` datapath will use TUN interface for OVS internal\ninterface, nmstate should merge this kernel TUN interface state with\nuser space OVS interface state, otherwise verification failure will\nhappen.\n\nThe `netdev` datapath is used for OVS DPDK. Manually tested with OVS\nDPDK on Intel E810-C card.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "18918451c3e6c9a67895b65427ed3255415db4e7", "commit_date": "2023-05-11T06:15:43Z", "commit_message": "gitignore: doc/nmstate.service.8\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8ea675b61bbac4248eaff308c9999d8ca5d39ede", "commit_date": "2023-05-05T03:54:41Z", "commit_message": "ip: Fix error when DHCP with auto IP address on STP enabled bridge\n\nWhen DHCP enabled with auto IP address on STP enabled bridge, nmstate\nwill fail with verification error:\n\n    Verification failure: br0.interface.ipv4.address desire '[]',\n    current 'null'\n\nThe root cause is STP suspended the DHCP action which cause current\nstate shows null IP address. And nmstate incorrectly treat [] != null\nfor IP address.\n\nFixed in `sanitize_current_for_verify()` to set empty array if None.\n\nTo reproduce this problem, we just enable DHCP with auto IP address\nwhere no DHCP server exists. Integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "21d63ed6846dc8a458fd4e81de7305a4ee2b6786", "commit_date": "2023-05-05T03:15:46Z", "commit_message": "CI: Fix error when running test locally\n\nWhen running `automation/run-tests.sh` with `sudo`, we get failure on\n\n    fatal: detected dubious ownership in repository at '/workspace/nmstate'\n    To add an exception for this directory, call:\n\n        git config --global --add safe.directory /workspace/nmstate\n\nFixed by run the `git config` in `container_pre_test_setup()`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c7b4773f8666870807d46180391d956236853d2c", "commit_date": "2023-05-04T13:27:23Z", "commit_message": "Run cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1e12f9ae2c0d5c787d3d4e8cb98d71ab7137c389", "commit_date": "2023-05-04T13:27:23Z", "commit_message": "CI: Sync container with latest CentOS stream 8 and 9\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c9fd1e80d3c87e1f844edcd86e9d36ae499ce717", "commit_date": "2023-04-23T10:26:53Z", "commit_message": "cli: Do nothing for `persist-nic-names` when got `net.ifnames=0`\n\nWhen `net.ifnames=0` is defined in kernel argument, systemd will disable\nthe predicable network interface name which make no sense for nmstate to\npin the interface names. Hence we do nothing in `persist-nic-names` in\nthat case.\n\nManually tested in CentOS stream 9 VM.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4fc0b3e09ad892e2b2da975b6786998729511ac6", "commit_date": "2023-04-23T10:26:34Z", "commit_message": "dep: Upgrade to nix 0.26.2\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e13e0a44a4ed2a2c90a0ac73a3065f874f03cca1", "commit_date": "2023-04-23T09:21:46Z", "commit_message": "Bump version to 2.2.11\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dc6a214972d8dc76daba408d250fe4ccc4b635f2", "commit_date": "2023-04-20T15:10:37Z", "commit_message": "cargo: Also vendor for s390 linux\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bd4103203698a5ecf621c86ccc6c841fc0ba481e", "commit_date": "2023-04-20T11:12:05Z", "commit_message": "New release 2.2.10\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Added CLI hiden `persist-nic-names` subcommand for OpenShift. (6f95011e,\n   03c7b03b, 5f4ede55)\n - Support static IP address on with auto ip stack. (334fcf2e)\n - Support static DNS search with auto DNS nameserver. (b222d5b1)\n - Support matching interface with MAC address. (508bbe74)\n - Support DHCP hostname/FQDN option. (ebe3fc86)\n\n=== Bug fixes\n - Ignore `dhcp-client-id` when DHCPv4 disabled. (16b42e0e)\n - Validate IP address type matching with ip stack type. (5f1107fd)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "76fb650acdab29e5dc98be96cba729ebf48712b3", "commit_date": "2023-04-20T11:12:05Z", "commit_message": "Add Fernando new GPG public key\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "035757ac4d96bb6fe2fea4f49fe99d6d61531647", "commit_date": "2023-04-20T10:49:02Z", "commit_message": "Upgrade dependency `env_logger`\n\nUpgrade `env_logger` to latest 0.10.0 as requested by Fedora.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ebe3fc86d0ea4e7c7d5eda4f4d0acaa541577aa1", "commit_date": "2023-04-20T10:44:34Z", "commit_message": "Feature: Support DHCP hostname/FQDN option\n\nIntroducing these two DHCP options:\n * `dhcp-send-hostname`: true of false, whether DHCP request should\n   contain hostname/FQDN option. Default is true.\n * `dhcp-custom-hostname`: String. Customer hostname/FQDN in DHCP\n   request.\n\nFor DHCPv4, if the hostname is FQDN, the 'Fully Qualified Domain Name\n(FQDN)' option(81) defined in RFC 4702 will be used.\nIf the hostname is not FQDN, the 'Host Name' option(12) defined in RFC\n2132 will be used.\n\nFor DHCPv6, custom string to override hostname used for DHCP request in\n`Fully Qualified Domain Name (FQDN)` option(29) defined in RFC 4704 as\nRFC 4704 allows empty domain name.\n\nExample YAML:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    type: ethernet\n    state: up\n    mtu: 1500\n    ipv4:\n      dhcp: true\n      dhcp-client-id: iaid+duid\n      enabled: true\n      dhcp-send-hostname: true\n      dhcp-custom-hostname: c9.example.org\n    ipv6:\n      dhcp: true\n      autoconf: true\n      enabled: true\n      dhcp-send-hostname: true\n      dhcp-custom-hostname: c9.example.net\n```\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "508bbe74e8bdef7a14c797e68959369e15e8dab6", "commit_date": "2023-04-20T09:52:54Z", "commit_message": "Feature: Matching interface with name\n\nIntroducing two properties to base interface:\n * `identifier` -- `name` or `mac-address`, default to `name`\n * `profile-name`: string\n\nWhen identifier been set to `mac-address`, nmstate will not use\n`interface.name` for NIC matching but use the `interface.mac-address`,\nThe `interface.name` will be used for `profile-name` when storing the\nnetwork configuration in backend.\n\nThe `profile-name` will be hide if it is equal to interface name.\n\nExample on creating MAC based profile:\n\n```yml\n---\ninterfaces:\n  - name: wan0\n    type: ethernet\n    state: up\n    identifier: mac-address\n    mac-address: 1e:bd:23:e9:fb:94\n```\n\nYou may delete above profile using `name: wan0` or its real interface\nname.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fb3b453ff3fb204ef3e149e05087fbff51593e21", "commit_date": "2023-04-20T09:52:54Z", "commit_message": "test: Remove leftover of `test_add_qinq_vlan`\n\nThe test case `test_add_qinq_vlan` forgot to remove the interface on\nfinish.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5548b34f52475a319aa61f8b8cf090d9582565c7", "commit_date": "2023-04-20T09:52:54Z", "commit_message": "Run cargo fmt, cargo clippy and python black\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "765c4c09f8190f58ca3b426c2bbe24cfeae88488", "commit_date": "2023-04-20T09:33:06Z", "commit_message": "New public key of Gris Ge as SHA1 deprecated\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5f4ede551b98856b2d1503b104c152d8d0fd67c4", "commit_date": "2023-04-20T08:08:44Z", "commit_message": "cli: Delete `persist-nic-names` stamp file after cleanup\n\nThis makes the `--cleanup` operation idempotent since it alreayd knows\nto no-op if the stamp file is missing. But also, the MCO can use the\npresence of the stamp file to know to even call `--cleanup`. Finally,\nthis \"resets\" the state so that we could in the future do this whole\ndance again for another RHEL transition.\n\nThe MCO logs will remember whether whether this logic was invoked, and\nthe link files are prefixed by `98-nmstate`, so there's no mistaking\nthat it was nmstate that wrote them.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5f1107fdfa8f2d6aac7993438329e985fc2bc586", "commit_date": "2023-04-20T06:02:03Z", "commit_message": "ip: Validate IP address type matching with ip stack type\n\nWe should raise `InvalidArgument` error when user define IPv6 address in\nipv4 section or vise versa.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b222d5b169a928e6af2a29c305e5891b2c0306e3", "commit_date": "2023-04-20T05:51:42Z", "commit_message": "dns: Support static DNS search with auto DNS nameserver\n\nIntroduce the support of static DNS search along with DNS nameserver\nlearn from DHCP/autoconf.\n\nFor implementation in NM, we try this order to find a interface to store\nthe DNS config:\n * Desired interface which currently hold DNS config and still valid for\n   DNS.\n * Auto interface, prefer desired interface.\n * IP enabled interface, prefer desired interface.\n\nWe will not use global DNS for this use case\nas it will suppress DNS nameserver learn from DHCP.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "03c7b03bd4c9b0067d3811dbbf72635201519356", "commit_date": "2023-04-19T16:27:14Z", "commit_message": "cli: Support clean up for `persist-nic-names` command\n\nThe whole workflow:\n\n * Use `nmstatectl persist-nic-names` to pin *every* ethernet interface to its\n   MAC via systemd .link file.\n * After boot into new environment, `nmstatectl persist-nic-names --cleanup`\n   will remove un-required systemd .link file.\n\nKey tech point:\n\n    Use `udevadm test-builtin net_id /sys/class/net/<iface_name>` to check\n    systemd preferred interface name and compare to current interface\n    name.\n\nExtra changes:\n\n * Removed `should_persist_nic_for()` as we are pinning every ethernet\n   interface.\n * Comment changed from `\\\\\\` to `\\\\` as this is not public\n   documentation.\n * The `--cleanup` might require chroot if running environment holds\n   different systemd/udev config than real host.\n\nTested:\n * CentOS stream 9 VM by renaming a existing interface to new name.\n\n * RHEL 8.8 and CentOS stream 9 on Mellanox MT27710:\n    * Not from upgrade, just reinstall CentOS stream 9 and restored the\n      nmstate created .link files.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "16b42e0e4e9c4cae3ec8b736ff9ee24dc63882a5", "commit_date": "2023-04-13T04:03:40Z", "commit_message": "ip: Ignore `dhcp-client-id` when DHCPv4 disabled\n\nWhen desire state has `dhcp-client-id` set with DHCPv4 disabled, nmstate\nverification will complain about:\n\n    NmstateVerificationError: Verification failure:\n    eth1.interface.ipv4.dhcp-client-id desire '\"ll\"', current 'null\n\nFixed by ignore `dhcp-client-id` and log a warning when DHCPv4 disabled.\nAlso hide the `dhcp-client-id` when querying if DHCPv4 disabled.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6f95011e23db8a8ff52583eb63d809777d1f19cb", "commit_date": "2023-04-11T03:16:22Z", "commit_message": "Add a hidden `persist-nic-names` command\n\nxref https://issues.redhat.com//browse/OCPBUGS-10787\n\nIn RHEL8 to RHEL9 upgrades, some NIC names may change; we saw\nthis in the wild with `mlx5` based interfaces at least.\nRHEL Leapp has logic to handle this, but adapting it to work\nwith rpm-ostree/coreos systems would be a heavy lift.\n\nThis logic is designed to be executed from a privileged container\n*before* the host upgrades, which fits in well with current\nOCP logic in the Machine Config Operator.\n\nSpecifically, https://github.com/openshift/machine-config-operator/pull/3650\nwill run this command.\n\nCo-authored-by: Gris Ge <fge@redhat.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d79166ecc4b9d410c014a56b96ea61e5f33c76e9", "commit_date": "2023-04-11T03:16:22Z", "commit_message": "clib: Add `doc=false`\n\nWe want to document the Rust library.  This fixes invoking\n`cargo doc`.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "334fcf2e814a1bf01fbf2a6cfcc969d4d070d693", "commit_date": "2023-04-10T09:12:45Z", "commit_message": "ip: Support static IP address on with auto ip stack\n\nIntroducing two properties for IP address:\n * `valid-left`: seconds for IP address been valid. `forever` means\n   static.\n * `preferred_left`: seconds for IP address been preferred. `forever`\n   means static.\n\nWith above properties, we can identify which certain IP address is\nretrieved from DHCP/Autoconf so we don't convert dynamic IP address to\nstatic when user apply the queried state back.\n\nWith this patch, user is allowed to set static IP address with\n`dhcp: true` and/or `autoconf: true`.\n\nWhen desire state has DHCP/Autoconf disabled but all desired IP\naddresses are dynamic, nmstate will convert those dynamic IP to static.\nThis is common use case where user just copy retrieved dynamic IP and\nhoping nmstate can convert it to static.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dbb3426c557bcfd4a239a525a5fdfb196a37a964", "commit_date": "2023-03-28T08:59:34Z", "commit_message": "test: Add test case for preserving IP order of external managed interface\n\nAdd test case ensuring we preserve the IP address order when consuming a\nexternal managed interface.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6e701425af308d225e57e2d044dba108da626bd9", "commit_date": "2023-03-24T03:20:17Z", "commit_message": "Bump version to 2.2.10\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "25f9917cbb0120ff9ce16ec73a3ec35cb7d7f9ea", "commit_date": "2023-03-23T10:36:29Z", "commit_message": "CHANGELOG: Fix incorrect features for 2.2.9\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dbe890514a5544d9d212e55adacad942612220af", "commit_date": "2023-03-23T10:30:21Z", "commit_message": "New release 2.2.9\n\n=== Breaking changes\n - N/A\n\n=== New features\n - cli: New subcommand `format`. (4f8c1af5)\n - Including `controller` property on query. (85b682e9)\n - Support policy file in service mode. (2dc296e2)\n - clib: Introduce YAML support. (c40cbcb8)\n\n=== Bug fixes\n - Do not use current interface which is unmanaged/external managed. (221521e2)\n - Fix problem when consuming down interface in bridge/bond/etc. (1728ae21)\n - cli: Ignore failure when reading /etc/nmstate folder. (2c03f3c1)\n - nmstate.service: remain after exit. (beb2fee9)\n - nmstate.service: Fix the dependency chain in systemd. (8bef2741, 9971c1ca)\n - Fix problem when changing veth peer. (a6a32a3f)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a6a32a3f3d337828865a4a64f97d843fdafdd705", "commit_date": "2023-03-23T07:38:35Z", "commit_message": "nm: Refresh active connection after deletion\n\nProblem:\n\nWhen changing veth peer, we noticed nmstate try to run `reapply()` on\nveth which its connection been deactivated before activation, this is\nincorrect.\n\nRoot cause:\n\nBefore `activate_nm_profiles()`, we have `deactivate_nm_profiles()`,\n`delete_exist_profiles()` and `delete_orphan_ovs_ports()` which could\nimpact on active connections.\n\nFix:\n\nRefresh the active connection list during `activate_nm_profiles()`.\n\nTest:\n\nThis is very hard to test automatically, manually confirmed veth peer\nchange will not trigger NM reapply action.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6a01fbbf0ed9409dd3ecb1280ae2d1ed3001df1e", "commit_date": "2023-03-23T07:27:24Z", "commit_message": "test: Add test case for `nmstatectl format`\n\nSimple integration test case approving `nmstatectl format` can tidy up\nthe desire state.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9971c1ca2e5822d55f84776895ce000bd036926f", "commit_date": "2023-03-22T10:50:41Z", "commit_message": "cli: Place nmstate.service before network-online.target\n\nBy placing `nmstate.service` before `network-online.target`, we make\nsure other network required service only been started after\nnmstate.service finished its work on changing network.\n\nManually test in VM, the log indicate the `network-online.target` is\nreached after `nmstate.service` finished.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8bef27414e1dfba1b04700590456a90762bfddb3", "commit_date": "2023-03-22T07:56:38Z", "commit_message": "cli: Change install section of nmstate.service\n\nInstead of `WantedBy=multi-user.target` which install nmstate.service to\n`multi-user.target`, we should use `WantedBy=NetworkManager.service` to\nmake sure we only run nmstate.service when NetworkManager been enabled.\n\nManually tested in VM. Since this require OS reboot, no auto test case\nyet.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "beb2fee9293202712b46db56524b0b30affed27a", "commit_date": "2023-03-22T07:38:18Z", "commit_message": "nmstate.service: remain after exit\n\nThis is generally a good idea for oneshot units.  If we don't remain after\nexit, the unit will run and then immediately stop itself.  As a result, if\na dependent unit is started in a subsequent transaction, nmstate.service\nwill run again.  Furthermore, if the service is stopped, systemd will\nconsider any dependent targets to no longer be running.\n\nSigned-off-by: Benjamin Gilbert <bgilbert@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2c03f3c1ba90d819c4ec486799fc586e3c37e1ea", "commit_date": "2023-03-22T03:52:28Z", "commit_message": "cli: Ignore failure when reading /etc/nmstate folder\n\nWhen /etc/nmstate not exists or other failure when reading it, we should\nignore it and exist 0.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1728ae21acb8764f49e5db321a64cb5a5414b504", "commit_date": "2023-03-21T13:22:36Z", "commit_message": "state: Set interface as up when `mark_as_changed()`\n\n== Problem\n\nWhen user create a linux bridge using eth1 in down state without\nhaving eth1 desired, Nmstate will fail at verification stage complaining\nport list not match with desired.\n\n== Root cause\n\nThe `apply_ctrller_change()` invoke `mark_as_changed()` copied the\ncurrent interface state(down) which instructed backend to deactivate the\ninterface.\n\n== Fix\n\n * Changed `apply_ctrller_change()` to mark port interface as up if\n   its controller is up.\n * Ignore deactivation failure on `ConnectionNotActive`. (Required for\n   testing creating a `down` linux bridge.\n\n== Tests\n\nIntegration test cases included for original problem.\nAdditional test case included for creating a `down` linux bridge with\nports meaning nmstate just create config instead of activate them.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4f8c1af5520d59ca63e899f0224be053d9a087c5", "commit_date": "2023-03-21T07:18:39Z", "commit_message": "cli: New subcommand `format`\n\nIntroduce `format` subcommand, `nmstatectl` read state file and print out\nthe formated one.\n\nThe subcommand `format` has alias `f` and `fmt`.\n\nThis is developer use only tool, no test required.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "221521e20d1fd826dd13a94a4d6f4ce598faf714", "commit_date": "2023-03-21T07:08:17Z", "commit_message": "nm dns: Do not use current interface which is unmanaged/external managed\n\nWhen search interface from current state, we should not use `unmanaged`\nor `external managed` interface for storing DNS information.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fecd61c83f3b55c89a6b7ca2d449ae8fe1d29396", "commit_date": "2023-03-21T04:23:30Z", "commit_message": "CI: Include python3-gobject-base in c8s CI image\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c59032746911b29fdf7fd677d7bb10f7187a7024", "commit_date": "2023-03-21T04:23:30Z", "commit_message": "test: Fix `test_wait_sriov_vf_been_created` on mlx5 NIC\n\nOn some `mlx5_core` NIC, the `ip -d link show <pf_name>` does not have\nVF interface name, which will fail the `test_wait_sriov_vf_been_created`\nfor VF name not found.\n\nThe fix would be changed the test code to use this folder for VF\ninterface name as the production code:\n\n    /sys/class/net/{pf_name}/device/virtfn{sriov_id}/net/\n\nManually test on mlx5 MT27710 NIC.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "85b682e9cf80353d8488dd7f3487dbd47d98aaab", "commit_date": "2023-03-17T06:09:31Z", "commit_message": "show: Don't hide controller property\n\nFor use cases where we want to filter by interfaces not owned by a\nbridge showing the controller is quite helpful.\n\nSigned-off-by: Enrique Llorente <ellorent@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2993de94265fcba49ce1f2ea3fe9e0407045c745", "commit_date": "2023-03-13T16:26:19Z", "commit_message": "Bump version to 2.2.9\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ad669296545a0fb7f3bd9745155016c8fd474aaf", "commit_date": "2023-03-10T08:53:40Z", "commit_message": "New release 2.2.8\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Add VXLAN properties for EVPN use. (5a0ca407)\n - Support policy file in service mode. (2dc296e2)\n - clib: Introduce YAML support. (c40cbcb8)\n\n=== Bug fixes\n - Retry when NetworkManager starting up. (393828a6)\n - Fix `n-rxq-desc` and `n-txq-desc` properties. (b234f9dd)\n - Fix random failure when changing VLAN protocol. (b12effd5)\n - Fix fetching loopback information from NM plugin. (d3864c19)\n - Fix `make install` on Debian and Ubuntu. (4647cd11)\n - Adjust `is_match` to consider family and priority 0. (811db479)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "393828a64860990008d269b48b8150f948ca854b", "commit_date": "2023-03-09T08:15:56Z", "commit_message": "nm: Retry when NetworkManager starting up\n\nWhen OS boot up with `nmstate.service` enabled, nmstate will fail as\nNetworkManager daemon is not fully setup the DBUS interface yet.\n\nThe `nmstate.service` has `After=NetworkManager.service`. Considering\n`NetworkManager.service` is dbus type systemd service, it is guaranteed\nthat when `nmstate.service` starts, the DBUS interface is acquired by\nNetworkManager. The failure is\n`org.freedesktop.DBus.Error.UnknownMethod` as NetworkManager has not\nfinished the DBUS interface setup yet.\n\nThe `org.freedesktop.DBus.Error.UnknownMethod` is too generic, we cannot\nassume it as daemon not started with checking the error string.\nConsidering the DBUS error string is not an API, we will not parse that\nerror message. Instead, we change top level retry to cover on querying\nfailures in `apply()`. The retry has been expend to twice with 2 seconds\ninterval(was 1 second interval).\n\nThe `nmstatectl service` command will sleep 2 seconds to avoid the\nmeaningless retry.\n\nDo not want to create complex integration test case for this corner case.\nManually tested.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5a0ca407420772946184290461f6cf9652a3025e", "commit_date": "2023-03-08T07:20:55Z", "commit_message": "vxlan: Add VXLAN properties for EVPN use\n\nIn order to be able to use VXLAN interfaces as part of an\nEVPN fabric (separate control plane for VTEP and MAC learning),\nsome expansions are done to the configurable properties:\n\n- Make base-if non-mandatory\n\n  EVPN networks are often run on top of a L3 underlay, which\n  means that there are several L3 links to the host where\n  ECMP routing is desired. The VXLAN interface should not be\n  tied to any physical interface (and it's not required since\n  multicast is not used) and the egress interface is determined\n  through standard routing.\n\n- Allow specifying local IP\n\n  Since the VXLAN interface is not tied to any physical interface,\n  it is often desired to source the tunnel from a loopback IP.\n\n- Disable data plane MAC learning\n\n  In EVPN MAC learning is handled through a separate control\n  plane like MP-BGP (e.g. FRR as daemon) writing entries to the\n  bridge FDB.\n\nUnit test cases and integration test case included.\n\nSigned-off-by: Esa Varemo <git@esav.fi>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5919d2f6b7e0c237b781ef442607e0ec742d065f", "commit_date": "2023-03-08T03:26:12Z", "commit_message": "test: Add test case for OVS DPDK using gc mode\n\nUsing `gc` mode to test OVS DPDK without hardware, just verify the\noutput NM connection string contains desired strings.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2dc296e2238993441d877ea44bdb62da83fff1ac", "commit_date": "2023-03-06T14:24:31Z", "commit_message": "cli: Support policy file in service mode\n\nThis patch enable the support of policy file format in service mode\n(`systemctl start nmstate`).\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b234f9dd8c71cb904a6ec3fd390948dd05266b4c", "commit_date": "2023-03-06T14:23:04Z", "commit_message": "nm ovs dpdk: Fix `n-rxq-desc` and `n-txq-desc` properties\n\nIn previous code, we never send `n-rxq-desc` and `n-txq-desc` properties\nto NM, which cause those two options been ignored.\n\nManually tested using existing integration test cases.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0c9512f0af265df1a1f8fda28c8038452439ec27", "commit_date": "2023-03-01T13:49:58Z", "commit_message": "test: Add test for undesired iface holding unsupported config\n\nIt is legal for kernel interface holding `autoconf: true` and `dhcp:\nfalse`, when not desiring such interface, we should not fail because its\nunsupported config.\n\nNo production code changes required, just adding test case exists in\nnmstate-1.x branch.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b12effd546a32da5d66160017ec31a9097325bc2", "commit_date": "2023-03-01T11:22:27Z", "commit_message": "nm vlan: Fix random failure on `test_change_vlan_protocl`\n\nIn Github CI, we noticed random failure on `test_change_vlan_protocl`\ncomplaining failed to change VLAN protocol from 802.1ad to default\n802.1q.\n\nThe root case of previous code does not set VLAN protocol 802.1q\nexplicitly in NM connection for backwards compatibility but depend on\npre-activation deactivation for VLAN changes. There is race that when\nnmstate ask for reapply right after invoked NM connection deactivation.\n\nTo fix the problem, we set 802.1q explicitly when existing NM connection\ncontains protocol property.\n\nExisting integration test case `test_change_vlan_protocol` can cover\nthis problem here, no extra test required.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d3864c192ed3326acfe740e8fb349fd5ca4a7de0", "commit_date": "2023-02-28T16:29:55Z", "commit_message": "rules, nm: fix fetching loopback information from NM plugin\n\nWhen fetching the nm_dev and nm_conn we build a Nmstate iface. The logic\nfor Loopback type was missing.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "811db47945e9c1e237bdb00956d319ad48ef6e6f", "commit_date": "2023-02-28T16:29:55Z", "commit_message": "route rule: adjust `is_match` to consider family and priority 0\n\nIf the user specified the family we should use it when comparing. From\nkernel family is always set. In addition, this patch is matching if\npriority is 0 and None.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4647cd11c6ad8f37271245db83bfe17d59846c51", "commit_date": "2023-02-23T08:43:55Z", "commit_message": "Makefile: Support `make install` on Debian and Ubuntu\n\nUbuntu and Debian are using `/usr/lib/x86_64-linux-gnu` instead of\n`/usr/lib64` like Fodora/RHEL/CentOS, these are their statement.\n\n * https://wiki.debian.org/Multiarch/\n * https://wiki.ubuntu.com/MultiarchSpec\n\nChanged the Makefile to use correct folder when found\n`/etc/debian_version` file.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "26938eb5fccfd9a4ab1befa9d3238147cbba6b8a", "commit_date": "2023-02-22T22:51:05Z", "commit_message": "vlan: Update protocol when `update_vlan()`\n\nWhen merging VLAN information via `update_vlan()`, we should update\nprotocol also.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c40cbcb825bd034befa71ee9189e49cd548e4b1d", "commit_date": "2023-02-22T22:47:11Z", "commit_message": "clib: Introduce YAML support\n\nAllowing both YAML and JSON input, the output format will matching input\nformat.\n\nFor `nmstate_net_state_retrieve()`, user can use\n`NMSTATE_FLAG_YAML_OUTPUT` flag to instruct the output to be YAML\nformat.\n\nC lib integration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "03492cd75a119f9aaf9a7503b4f4773d9047a077", "commit_date": "2023-02-20T03:52:54Z", "commit_message": "CI: Use NM 1.42 branch as base line\n\nUsing NM 1.42 as base line testing.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b37098233da90ac521bca962d53777716b18b6ab", "commit_date": "2023-02-20T03:28:36Z", "commit_message": "Bump version to 2.2.8\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6b1a2c4cfd5199e1e864cea794e36590a13e886a", "commit_date": "2023-02-16T13:27:02Z", "commit_message": "New release 2.2.7\n\n=== Breaking changes\n- N/A\n\n=== New features\n- Support static route with auto ip. (4fa5689a)\n- Support VLAN 802.1ad and 802.1q protocol. (9923657a)\n- Support enabling SR-IOV and use future VF in single desire state. (20871bac)\n\n=== Bug fixes\n- Fix error when reverting SR-IOV VFs conf to default. (3bbb3c21)\n- Fix SR-IOV enabling and use in single desire state. (8f680180)\n- Use loopback interface as final fallback interface to store route rule. (fb7ace9d)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3bbb3c216000b4d68d41186874adb2307379c047", "commit_date": "2023-02-16T11:45:20Z", "commit_message": "sriov: Fix error when reverting VFS conf to default\n\nPrevious code does not revert VFS config to default when desiring\n`vfs: []`.\n\nThis is caused by `sanitize()` convert `vfs: None` for verification\nseek. To clarify the workflow, we have three type of sanitize now:\n * `sanitize(is_desired)` for current, `for_apply`, `for_verify` state\n   pre-edit clean up and check. The `is_desired` is used to suppress\n   logging and error checking for verify or current state.\n * `sanitize_current_for_verify()` clean up post-apply current state.\n * `sanitize_desired_for_verify()` clean up desired state before verify.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4fa5689af12c38128db8b6cad8d0762fa4c6fdf6", "commit_date": "2023-02-16T07:38:19Z", "commit_message": "ip: Support static route with auto ip\n\nSupporting assigning static route to interface with auto ip. For\nexample:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    type: ethernet\n    state: up\n    ipv4:\n      dhcp: true\n      enabled: true\n    ipv6:\n      dhcp: true\n      autoconf: true\n      enabled: true\nroutes:\n  config:\n  - destination: 198.51.100.0/24\n    metric: 150\n    next-hop-address: 192.0.2.1\n    next-hop-interface: eth1\n    table-id: 254\n  - destination: 2001:db8:2::/64\n    metric: 151\n    next-hop-address: 2001:db8:1::2\n    next-hop-interface: eth1\n```\n\nIntegration test case included and been marked as tier1.\n\nResovles: RHBZ#2169982\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9923657ab72a866f64e30123a1e983b2b4e5cc52", "commit_date": "2023-02-16T03:47:17Z", "commit_message": "vlan: Add VLAN protocol support\n\nIntroduce `vlan.protocol` support with:\n * `802.1q`: Default VLAN protocol\n * `802.1ad`: IEEE 802.1ad also known as stacked VLANs or QinQ\n\nExample YAML:\n\n```yml\n---\ninterfaces:\n  - name: eth1.101\n    type: vlan\n    state: up\n    vlan:\n      base-iface: eth1\n      id: 101\n      protocol: 802.1ad\n```\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "97cdee5f05bbcc80fad99aec59905ebcad2952f9", "commit_date": "2023-02-15T14:08:27Z", "commit_message": "CI: Remove VOLUME entry from Dockerfile\n\nPer https://bugzilla.redhat.com/show_bug.cgi?id=2155780 suggestions, we\nshould not use VOLUME entry in Dockerfile.\n\nAlso removed Fedora container image as we are not using it anymore.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9c22b5d7c53fbd11960ec3205df9c7a0db2dc23e", "commit_date": "2023-02-15T10:26:41Z", "commit_message": "test: Use retry on `test_replacing_port_set_mac_of_new_port_on_bond`\n\nThe github CI has 50% change of failing\n`test_replacing_port_set_mac_of_new_port_on_bond`, it might caused by\nslow server where bond MAC is not update to date yet.\n\nUse `retry_till_true_or_timeout()` when asserting MAC address.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8f6801800dfc2daac5d4d83ae1ca693b35e615e8", "commit_date": "2023-02-15T07:57:36Z", "commit_message": "sriov: Fix SR-IOV enabling and use in single desire state\n\nCurrently, we isolate SR-IOV PF changes out for `enable-and-use` use\ncase, but the second desire state contains no SR-IOV PF changes which\ncause the verification stage does not wait on VF shows up again.\n\nInstead of isolating PF changes out to apply first, we only clone PF\nchanges to apply first when VF count changed and has missing ethernet in\ndesire state. This means we will apply twice SR-IOV PF changes to ensure\nthe final apply also wait on VF shows up.\n\nUnit test cases included.\n\nCurrent integration test case `test_wait_sriov_vf_been_created` and\n`test_enable_sriov_and_use_future_vf` have covered the use case.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fb7ace9db317a626d78e35d97b2bc610353c8f73", "commit_date": "2023-02-14T09:47:43Z", "commit_message": "nm route rule: Use loopback interface as final fallback interface\n\nWhen we exhausted all the way to find a interface to store the routing\nroute, we use loopback interface. This is useful when user try to\nmodify route rule to 255(local) table, for example:\n\n```yml\nroute-rules:\n  config:\n    - route-table: 255\n      priority: 12345\n      family: ipv4\n    - route-table: 255\n      priority: 12346\n      family: ipv6\n```\n\nUnit and integration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ba42df5faed6923626f0ce824f9d4e46ffaef0e6", "commit_date": "2023-02-09T12:02:11Z", "commit_message": "CHANGELOG: New release 2.2.6\n\n* New features\n- Support Tokenised IPv6 identifiers. (91f8e45c)\n- Support local(255) route table. (a2051822)\n- Support enabling SR-IOV and use future VF in single desire state. (20871bac)\n\n* Bug fixes\n- Fix error when removing a port with IP enabled. (23cf28d7)\n- Fix error when bringing down an unmanaged interface. (50148b63)\n- Treat empty string to match None in routes. (b52557b9)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d25910a26316509e145335fed4f68f93d6075060", "commit_date": "2023-02-09T11:28:15Z", "commit_message": "nm ovs: Do not touch ovs-port when not required\n\nCurrent code will always create ovs-port when desire state just modify\nMTU of OVS system interface.\n\nThe fix is `iface_to_nm_connections()` only modify or create OVS port\nwhen controller is changed.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "20871bac631c216a00950c091916a7845ce32a43", "commit_date": "2023-02-09T11:28:15Z", "commit_message": "sriov: Support enabling SR-IOV and use future VF in single desire state\n\nWhen changing SR-IOV to add more VF interface, this patch allows user to\ncrate VF and use it in single desire state, for example with SR-IOV\ndisabled on eth1, you can apply this state:\n\n```yml\n---\ninterfaces:\n  - name: sriov:eth1:1\n    type: ethernet\n    state: up\n    ipv4:\n      enabled: false\n    ipv6:\n      enabled: false\n  - name: eth1\n    type: ethernet\n    state: up\n    ethernet:\n      sr-iov:\n        total-vfs: 2\n```\n\nThe implementation detail is introducing\n`MergedNetworkState.isolate_sriov_conf_out()` to __move__ ethernet\nsection to new `MergedNetworkState` if SR-IOV config desired. This new\nPF only state will be applied first and the follow-up verification\nprocess will wait all VF shows up before proceed the original\nMergedNetworkState.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a2051822eaa3d839d016acb26afe5d7a6e75fa83", "commit_date": "2023-02-09T11:05:50Z", "commit_message": "route: Add support of local(255) route table support\n\nPreviously, we are filtering out all routes from 255(local) route table\nwhich cause verification failure when user desired so.\n\nRemoved the restriction in nispor plugin.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7545c0bfa15db969196797d6ef1a62ecc034d367", "commit_date": "2023-02-09T10:15:28Z", "commit_message": "test: Remove xfail of `test_apply_empty_state_preserve_routes`\n\nThe bug of `test_apply_empty_state_preserve_routes` is already fixed.\nThe reason it is failing is just the order of route between IPv6 and\nIPv4.\n\nFixed the test case and removed the xfail tag.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4d0d642a44c675ffa39b961ae8c8e6b94f363f30", "commit_date": "2023-02-09T09:50:54Z", "commit_message": "route rule: automatically set route rule priority\n\nWhen user appending route rule without priority to existing ones,\ncurrent nmstate code will have multiple 30000 priority. For example:\n\n    30000:  from 203.0.113.0/24 to 192.0.2.0/24 lookup 50 proto static\n    30000:  from 203.0.113.2 to 192.0.2.2 lookup 50 proto static\n\nFixed by always set auto increasing priority before sending to NM backend.\n\nIntegration and unit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "91f8e45cb181fddaa9e7c5d2e448a0639a581fe3", "commit_date": "2023-02-07T13:02:58Z", "commit_message": "ipv6: Support Tokenised IPv6 Identifiers\n\nSimilar to `ip token set ::123/64 dev eth1` which setting the IPv6\naddress retried from IPv6 RA/autoconf to `<ra_prefix>::<token>`.\n\nExample yaml:\n\n```yml\n---\ninterfaces:\n- name: eth1\n  state: up\n  ipv6:\n    token: ::fac1\n    autoconf: true\n    dhcp: true\n    enabled: true\n```\n\nTo remove the IPv6 token, you may set use:\n * Empty string: `token: \"\"`\n * Explicitly all zero: `token: \"::\"`\n\nDue to kernel limitation, you cannot set IPv6 token to all zero.\n\nYou will get invalid argument error when:\n * Specified token not been started with 64 bits of 0.\n * Setting `autoconf: false` with non-empty token and non-all-zero token.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b52557b9fccef4b10f654505137273fa6b1108de", "commit_date": "2023-02-07T11:51:57Z", "commit_message": "route: Treat empty string to match None\n\nWhen user desiring absent route or route rule with empty string, it\nshould means this absent route only matches current route/route_rule\nwith this property been set to None.\n\nFor example on route rule:\n\n```yml\n- ip-to: 2001:db8:b::/64\n  ip-from: ''\n  state: absent\n```\n\nShould match\n\n```yml\n- ip-to: 2001:db8:b::/64\n  priority: 1000\n  route-table: 50\n```\n\nShould not match\n```\n- ip-from: 2001:db8:b::/64\n  ip-to: 2001:db8:b::/64\n  priority: 20000\n  route-table: 50\n```\n\nThis change applied to `ip-from` and `ip-to` in route rule.\nThis change applied to `next-hop-address` in route.\n\nThe empty string in route destination is invalid IP address string, user\nshould set it to null/None or use proper IP address.\n\nUnit test cases and integration test cases included.\n\nThere is no integration test case as empty `next-hop-address` require\npoint to point interface which does not exist in CI. Unit test case is\nenough for this use case.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "311e5edee89e606367f9359b4b7a95c2fc9fb193", "commit_date": "2023-02-07T11:33:17Z", "commit_message": "ovs: fix clippy warnings\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "50148b63146c662d512cc98385e38c3670c705fc", "commit_date": "2023-02-07T11:33:17Z", "commit_message": "nm: Fix error when bring down unmanaged interface\n\nWhen set `state: down` for unmanaged interface, nmstate will fail on\nverification. This is because nmstate did not convert the interface to\nmanaged before deactivate the profile.\n\nThe fix is create profile for unmanaged down interface, activate it then\ndeactivate it, for virtual interface, delete the link also.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "23cf28d75fee2ac4ca0ae4a5b565d95fe40e85bf", "commit_date": "2023-02-06T15:46:11Z", "commit_message": "ip: Fix error when removing port with IP enabled in current\n\nThe kernel allows IP been assigned to ports even it is not correct.\nIn this mis-configured environment, marking that port as absent will\nfail with:\n\n    Interface eth1 cannot have IP enabled as it is attached to a\n    controller where IP is not allowed\n\nPlease check unit test case `test_absent_iface_holding_controller_and_ip` for\ndetail reproducer.\n\nThis is caused by two problems:\n\n    * The `resolve_unknown_ifaces()` is cloning the whole current\n      interface which contains both controller information and IP stack\n      interface.\n\n    * The `validate_can_have_ip()` is checking on absent interface.\n\nThe fixes are:\n    * The `resolve_unknown_ifaces()` will only clone type and name for\n      unknown interface.\n    * The `validate_can_have_ip()` do not check on absent interface.\n\nUnit test case included. Since this is not a valid use case, no\nintegration test case required.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "070deeb13a53e84c30e0b95ec2ddc94b4607c7fc", "commit_date": "2023-02-02T02:52:47Z", "commit_message": "Packit: Enable network access for cargo\n\nThe packit build need network access for cargo to fetch crates.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "03db22f2e315982fe2fa24642f7ac453f10f233e", "commit_date": "2023-02-01T13:56:04Z", "commit_message": "k8s: Bump kubevirtci to use 1.24\n\nSigned-off-by: Enrique Llorente <ellorent@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "575d975e194c7b66c69c7968b091621b8394cad6", "commit_date": "2023-01-27T10:35:54Z", "commit_message": "tests, integ: clean vlan101 interface correctly\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fd7860c434119c5dfa32381c5801dc0376375621", "commit_date": "2023-01-26T11:24:35Z", "commit_message": "VERSION: Bump version to 2.2.6\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "124009134c99b5ecaab1d271f079482865a258ce", "commit_date": "2023-01-26T10:34:07Z", "commit_message": "CHANGELOG: New release 2.2.5\n\n* New features\n- Support ECMP IPv4 routes. (b1b275cd)\n- Support OVS DPDK `n_rxq_desc` and `n_txq_desc` options. (936ac46a)\n- Support arbitrary DNS configuration. (a9397549)\n\n* Bug fixes\n- Fix route destination address validation error. (012052c3)\n- Fix route next-hop-interface missing validation. (40970942)\n- Fix error when new DNS interface hold IPv6 link local address only. (4e21e359)\n- Fix error when adding an OVS internal interface to an empty OVS bridge. (d6cd548f)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5ab3fba2040470ae565e87ea3d29daf8a59f4d40", "commit_date": "2023-01-26T10:17:01Z", "commit_message": "cli: Show syntax error detail when deserializing\n\nShow NetworkPolicy parse error if given yaml/json contains `desired` or\n`desiredState`, otherwise, show NetworkState parsing error.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d6cd548fff73e3557054eed2a359720135e47fbd", "commit_date": "2023-01-26T09:23:53Z", "commit_message": "ovs: Fix error when adding internal interface\n\nCurrent state:\n    * br1 OVS bridge has br1 OVS internal interface.\n\nDesire state:\n    * Replace this `br1` ovs internal interface with `ovs0`.\n\nError message:\n    Interface ovs0 cannot be in up state as its parent br1 has been\n    marked as absent\n\nRoot cause:\n * The `handle_changed_ports()` marked the orphan `br1` ovs interface as\n   absent.\n * The `ovs0` parent is now `br1`.\n * The `mark_orphan_interface_as_absent()` incorrectly think the `ovs0`\n   is depending on removed `br1` OVS interface.\n\nFixes:\n * The `mark_orphan_interface_as_absent()` should not check\n   `InterfaceType::OvsInterface` as it was be processed by\n   `handle_changed_ports()`.\n\n * Add additional check to fail when user desire the orphan interface as\n   `state: up`.\n\nIntegration test cases and unit test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "972ed25d41470e7b696528fb053f977f2ab6de27", "commit_date": "2023-01-26T08:30:26Z", "commit_message": "ipv6: Fix verification error on empty address list\n\nWhen user desiring empty list of IPv6 address, they get verification\nerror.\n\nTo fix it, we just set empty list of IPv6 address as None in\n`sanitize_for_verify()`.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4e21e35921b46f8f99c5aaa74e8a9ef569af0f38", "commit_date": "2023-01-26T08:10:31Z", "commit_message": "nm dns: Fix error when new DNS interface hold IPv6 link local address only\n\nWhen storing DNS to interface, the `reselect_dns_ifaces()` might use\na desired interface with current state holding IPv6 link local address only.\nThis will trigger a bug log(not error):\n\n    BUG: The dns interface is hold None IP {iface:?}\n\nRoot cause:\n * The `is_iface_valid_for_dns()` is checking `merged` interface state.\n * The `set_iface_dns_conf()` is using `for_apply` interface state.\n\nFixes:\n * Before calling `set_iface_dns_conf()`, copy IP stack from current.\n\nImprovement:\n * Move `is_iface_valid_for_dns()` to `nm/dns.rs` as it is NM specific\n   code.\n * Add `is_iface_prefered_for_dns()`. So we prefer desired interface\n   with desired IP stack info as DNS interface.\n * Interface with IPv6 link local address only is not preferred.\n * Raise error `set_iface_dns_conf()` if IP stack is None instead of log\n   only.\n * Sort the interfaces to make sure we are consistent on DNS interface\n   choice. Also make the problem be consistent instead of randomly\n   depend on HashMap::iter() order.\n * Removed noisy debug log which is not useful for debugging this issue.\n\nSince the original problem is random failure, it is hard to reproduce it\nusing integration test case. Added unit test cases instead.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a93975496002ef407198ff835e6563fe09f3c0a2", "commit_date": "2023-01-25T15:13:52Z", "commit_message": "nm dns: Support arbitrary DNS config\n\nBy using the `org.freedesktop.NetworkManager.GlobalDnsConfiguration`\nDBUS API, we can modify the `/etc/resolve.conf` directly overriding DNS\nsettings in NM profiles/connections.\n\nWe use this as fallback method when we failed to store DNS into\ninterface profile. And a warning message will be shown as:\n\n    Cannot store DNS to NetworkManager interface connection:\n    NotImplementedError: Placing IPv4/IPv6 nameserver in the middle of\n    IPv6/IPv4 nameservers is not supported yet\n\n    Storing DNS to NetworkManager via global dns API, this will cause\n    _all__ interface level DNS settings been ignored\n\nThis will not be used for `gen_conf` mode. User still get error when not\nable to store DNS into interface profile.\n\nRemoved the xfail of integration test case for `ipv6+ipv4+ipv6` and\n`ipv4+ipv6+ipv4` name server format.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "936ac46a5c0cfb815f388c1d50ce1895ede47c8d", "commit_date": "2023-01-25T14:42:11Z", "commit_message": "ovs dpdk: Add support of `n_rxq_desc` and `n_txq_desc`\n\nAdd support of `n_rxq_desc` and `n_txq_desc` for OVS DPDK. Please refer\nto manpage of `ovs-vswitchd.conf.db` for detail.\n\nThis patch also create alias for old property `rx-queue` to `n_rxq`, so\nthat we be consistent on OVS database naming scheme.\n\nExample yaml:\n\n```yaml\n---\ninterfaces:\n- name: ovs0\n  type: ovs-interface\n  state: up\n  dpdk:\n    devargs: \"0000:af:00.1\"\n    n_rxq: 100\n    n_rxq_desc: 1024\n    n_txq_desc: 2048\n- name: br0\n  type: ovs-bridge\n  state: up\n  bridge:\n    options:\n      datapath: \"netdev\"\n    port:\n    - name: ovs0\novs-db:\n  other_config:\n    dpdk-init: \"true\"\n```\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "012052c39b64133d7c915c42a8aa3073ea48f642", "commit_date": "2023-01-25T13:51:00Z", "commit_message": "route: Validate the route destination address\n\n'0.0.0.0/8' and its subnet should never be used as the destination\naddress for the route, and it may be a typo of the default gateway,\nthus raise the error during the route validation.\n\nSigned-off-by: Wen Liang <liangwen12year@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9e928f7bece1aad8752ea071d18b01ad970b9aef", "commit_date": "2023-01-25T13:51:00Z", "commit_message": "rust/lib: Replace unwrap_or with unwrap_or_else\n\nWhen passing the result of a function call, it is recommended to use\nunwrap_or_else instead of unwrap_or.\n\nhttps://rust-lang.github.io/rust-clippy/master/index.html#or_fun_call\n\nSigned-off-by: Wen Liang <liangwen12year@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "40970942e9a95785926d1942cbc92b3c61cefada", "commit_date": "2023-01-25T13:51:00Z", "commit_message": "routes: validate desired routes when creating MergedRoutes\n\nThis is the right place where we should validate the desired routes.\nThis call was missing and before there wasn't validation at all.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8949a4dc359f69f557a35d6d20b39c6dbc5b0994", "commit_date": "2023-01-23T13:33:41Z", "commit_message": "VERSION: Bump version to 2.2.5\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b1b275cdf21a738d87f5b20f253beee64832ea40", "commit_date": "2023-01-23T09:12:03Z", "commit_message": "Route: Support IPV4 ECMP routes\n\nAdd `weight` property to route for ECMP route. Example YAML:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    type: ethernet\n    state: up\n    ipv4:\n      address:\n      - ip: 192.0.2.251\n        prefix-length: 24\n      dhcp: false\n      enabled: true\n\nroutes:\n  config:\n  - destination: 198.51.100.0/24\n    metric: 150\n    next-hop-address: 192.0.2.1\n    next-hop-interface: eth1\n    weight: 2\n    table-id: 254\n  - destination: 198.51.100.0/24\n    metric: 150\n    next-hop-address: 192.0.2.2\n    next-hop-interface: eth1\n    weight: 25\n    table-id: 254\n```\n\nCurrently, IPv6 ECMP is not supported, nmstate will raise\n`NotSupportedError` when desired IPv6 route with `weight`.\n\nIntegration and unit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "39a056947abc390623d1bd47a7089a1c702dc80e", "commit_date": "2023-01-18T14:38:34Z", "commit_message": "CHANGELOG: New release 2.2.4\n\n* Breaking changes\n- Support interface level `other_config`. (8ec213b8)\n\nThe rust API changed: `OvsBridgeBondConfig.other_config: Option<HashMap>`\nchanged to `OvsBridgeBondConfig.ovs_db: Option<OvsDbIfaceConfig>`.\n\nThe YAML API changed: The `other_config` under OVS bond should be stored under\n`ovs-db` section.\n\n* Bug fixes\n- Fix support DNS uncompressed IPv6 server. (8fbb93a5)\n- Fix validation error on route rule when `ip-to` and `ip-from` is empty string. (c2e69269)\n- Fix `group-fwd-mask` conflict with `group-forward-mask` Linux bridge option. (e079f1d)\n- Fix partial detaching ports in OVS bond interfaces. (e2b3ea72)\n- Fix verification error when OVS daemon is off. (ae3f45a7)\n- Fix MPTCP error in older NetworkManager. (f38da12c)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f38da12c48549a1306f61044e6d421a15ea047df", "commit_date": "2023-01-18T13:50:53Z", "commit_message": "mptcp: Fix mptcp error on older NetworkManager\n\nWith NM 1.36, this is the status nmstate shows:\n\n```yml\ninterfaces:\n- name: eth1\n  type: ethernet\n  ipv4:\n    enabled: true\n    address:\n    - ip: 192.0.2.251\n      prefix-length: 24\n  ipv6:\n    enabled: true\n    address:\n    - ip: 2001:db8:1::1\n      prefix-length: 64\n  mptcp:\n    address-flags: []\n```\n\nBut when applying the same state back, nmstate will fail with\n\n    NmstateValueError:\n    Connection(InvalidProperty):connection.mptcp-flags: unknown property\n\nThis is because NM 1.36 does not support MPTCP yet.\n\nTo fix this problem, when MPTCP is not supported, we remove mptcp\nsettings from NM connection before sending to NM daemon.\n\nRemoved `ovs2_11-nm_stable-integ_tier1` as we never see a problem caused\nby different version of OVS.\n\nAdded `c9s-nm_1.36-integ_tier1`, `c9s-nm_1.36-integ_tier2` and\n`c9s-nm_1.36-integ_slow` to make sure we works well on NM 1.36 branch.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8ec213b8cb4abeaeca0805b412aebe0cc9c567f3", "commit_date": "2023-01-18T08:40:39Z", "commit_message": "ovs: Support interface level `other_config` (api break)\n\nThe Rust API changed:\n\n    The `OvsBridgeBondConfig.other_config: Option<HashMap>` changed to\n    `OvsBridgeBondConfig.ovs_db:  Option<OvsDbIfaceConfig>`\n\nThe YAML API changed:\n\n    The `other_config` under ovs bond should be stored under `ovs-db`\n    section, please check follow up example for detail.\n\nConsidering the interface level `other_config` never works in previous\nrelease, this is API change is acceptable.\n\nExample on `other_config` of OVS bridge:\n\n```yml\ninterfaces:\n- name: br0\n  type: ovs-bridge\n  state: up\n  ovs-db:\n    other_config:\n      in-band-queue: '12'\n  bridge:\n    port:\n    - name: eth1\n    - name: ovs0\n```\n\nExample on `other_config` of OVS Bond:\n\n```yml\n- name: br0\n  type: ovs-bridge\n  state: up\n  bridge:\n    port:\n    - name: bond1\n      link-aggregation:\n        mode: balance-slb\n        ovs-db:\n          other_config:\n            bond-miimon-interval: \"100\"\n        port:\n          - name: eth2\n          - name: eth1\n```\n\nExample on `other_config` of OVS interface:\n\n```yml\n- name: eth1\n  type: ethernet\n  state: up\n  ovs-db:\n    other_config:\n      emc-insert-inv-prob: 90\n```\n\nWe hide interface level `ovs-db` section if it is empty. This help us\nsupporting older NetworkManager where `other_config` is not supported\nyet. User will get error when they apply above yaml on old\nNetworkManager:\n\n    NmstateError: DependencyError: Please upgrade NetworkManager for\n    specified interface type: Connection(InvalidSetting):ovs-other-config:\n    unknown setting name\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e2b3ea72b9c68fdf1ed11d255132a2019eb1f13b", "commit_date": "2023-01-17T11:39:15Z", "commit_message": "nm ovs: Do not delete OVS bond port still in use\n\nWhen detaching 2 ports from a existing OVS 4 ports bond, nmstate NM\nplugin will remove the OVS bond port connection via\n`delete_orphan_ovs_ports()` which cause failure in follow up activation.\n\nThe fix is instruct `delete_orphan_ovs_ports()` do not delete profiles\nbeen marked in `nm_conns_to_activate`.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e079f1d9e7453d1cebfe5213eacf5ed2fa8ee7c6", "commit_date": "2023-01-17T11:22:33Z", "commit_message": "linux bridge: Handle group-fwd-mask conflict with group-forward-mask\n\nThe `group-forward-mask` is alias of `group-fwd-mask` for backwards\ncompatibility.\n\nUser should get InvalidArgument error when these two options are\nconflicting. For other valid use cases, they all unified into\n`group-fwd-mast` for applying and verifying.\n\nUnit test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c2e69269f940d55c817befde0977e50abea8764f", "commit_date": "2023-01-17T11:22:12Z", "commit_message": "route and route rule: Treat empty IP string as None\n\nWhen deleting route or route rule with empty string like\n\n```yml\n- ip-to: 2001:db8:1::2/64\n  ip-from: ''\n  state: absent\n```\n\nNmstate will fail with error on `Invalid IP network: invalid IP address\nsyntax`.\n\nFixed by treating empty IP string as None during `sanitize()` and\n`is_match()`.\n\nUnit test cases and integration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8fbb93a51301e112c986a3c791e142a31fd4beb0", "commit_date": "2023-01-17T10:57:14Z", "commit_message": "dns: Support uncompressed IPv6 server\n\nWhen user desiring DNS nameserver as uncompress IPv6\nformat or other legal format like `2001:Db8:0:0:0:0:0:1`, nmstate is\ncomplaining with VerificationError.\n\nFixed by sanitize DNS server before apply and verify.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "87443ef6cc36ecf717ec5d11b521e6c48709b7f2", "commit_date": "2023-01-12T16:12:18Z", "commit_message": "test bond: Retry when asserting MAC address\n\nThe github CI is randomly failing\n`test_new_bond_uses_mac_of_first_port_by_name` with MAC address\nmismatch.\n\nThis is because the desire state applied does not contain MAC address,\nthe `libnmstate.apply` will not wait on its MAC been properly set by\nkernel or NM.\n\nTo fix the random failure, this patch use `retry_till_true_or_timeout()`\nto retry when asserting MAC address of bond interface.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0b2deca7a8da55454fb26423b16fc329f5e8122f", "commit_date": "2023-01-11T09:52:38Z", "commit_message": "Bump version to 2.2.4\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ae3f45a725cb2639ef9e4c6fab1aead0debe7c29", "commit_date": "2023-01-10T17:02:17Z", "commit_message": "ovsdb: Fix verification error when ovs daemon off\n\nWhen applying `ovs-db: {}` with ovs daemon stopped, nmstate will fail\nwith:\n\n    NmstateError: VerificationError: Verification failure:\n    ovsdb.external_ids desire '{}', current 'null'\n\nFixed by treating `ovs-db: {}` as\n\n```yml\novs-db:\n  external_ids: {}\n  other_config: {}\n```\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8fbca078f0798ab752c62c9121c7d77c3daf3a8c", "commit_date": "2023-01-09T05:50:01Z", "commit_message": "New release 2.2.3\n\n=== Breaking changes\n - Minimum supported rust version changed from 1.60 to 1.58. (d2f669ed)\n\n=== New features\n - Support OVS VLAN filtering in trunk mode. (dce50734)\n - Support parital modification of SR-IOV VF config. (92827cbb)\n - Querying OVS database instead of NM daemon. (625fdb7a)\n\n=== Bug fixes\n - Fix regression on VRF interface. (3c88135d)\n - Improve NM retry. (2a506379)\n - Improve NM checkpoint refresh. (94c7341a)\n - Fix LLDP error on `neighbors` property. (0a6fac0e)\n - Improve state merging. (19133302)\n - Fix error when moving dns from port to controller. (f619d8b4)\n - Empty IPv4 address should be considered as disabled. (23535503)\n - Auto manage ignored port in desired controller. (399c46b2)\n - Fix error when searching default route table ID for route rule. (053db219)\n - Raise proper error when desired IPv6 enabled with MTU < 1280. (76379ae9)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "76379ae98b60ac38347dc9063c7b6b1456649280", "commit_date": "2023-01-09T04:51:02Z", "commit_message": "ipv6: raise proper error when MTU < 1280 and IPV6 enabled\n\nWhen IPv6 enabled, MTU should be bigger or equal to 1280.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "053db21965360cc23014dea212099fec7babc375", "commit_date": "2023-01-09T01:24:51Z", "commit_message": "nm route rule: Support searching default route table ID\n\nWhen desiring a route rule to table 254(main), nmstate should try to search\ninterfaces hold 254 as auto route id or static route to 254.\n\nDuring route rule sanitize, we should explicitly set `RouteRuleEntry` to\nroute table id 254 when both `action` and `table-id` is None.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "399c46b2730d15153fb46e1aaffb8d3fbb7d5fa7", "commit_date": "2023-01-08T13:36:30Z", "commit_message": "controller: Auto manage ignored port in desired controller\n\nWhen desired controller listed currently ignored interfaces as its\nport, nmstate will automatically convert these ignored interfaces from\n'state: ignore' to 'state: up' only when:\n 1. This ignored port is not mentioned in desire state.\n 2. This ignored port is listed as port of a desired controller.\n 3. Controller interface is new or does not contain ignored interfaces\n    currently.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8113ffc9a6122f6e60ac7f080faf0cf254878e9e", "commit_date": "2023-01-08T13:06:22Z", "commit_message": "bridge vlan: Add more sanity check\n\nAdd checks for these invalid use cases for both linux bridge and ovs\nbridge:\n\n * VLAN trunk mode with tag defined but without enable-native: true.\n * Overlap of VLAN trunk tags.\n * Access mode with enable-native: true defined.\n * Trunk mode without trunk-tags defined.\n * Access mode with trunk-tags defined.\n\nUnit test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f1f55fb5cc447f2bd589b45d13177b67bad1549a", "commit_date": "2023-01-08T09:23:22Z", "commit_message": "test: Add test for vlan with both parent and controller\n\nWith a VLAN attached to a controller, it holds both parent and\ncontroller information, when its controller been marked as absent,\nthe VLAN should be marked as absent automatically without causing any\nfailures.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "83cf0f1f4e8b43a92fbc808e21605ea69284459b", "commit_date": "2023-01-08T08:41:24Z", "commit_message": "veth: No allowing creating veth without veth peer\n\nWhen user is desiring new veth interface without veth peer, nmstate\nshould complains like:\n    Veth interface veth1 does not exists, peer name is required for\n    creating it\n\nInstead of `Ethernet interface veth1 does not exists`.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "23535503b3666f9ff83e0e5c98f1690871784eec", "commit_date": "2023-01-06T12:40:14Z", "commit_message": "ip: Empty IPv4 address should be considered as disabled\n\nThe empty IPv4 address is considered as IPv4 stack disabled.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f619d8b486c7537d693d7665f767d1526f28c323", "commit_date": "2023-01-06T11:54:41Z", "commit_message": "nm dns: Fix error when moving dns from port to controller\n\nWhen moving IP and DNS config from port to controller, nmstate will fail\nwith verification error as nmstate failed to store DNS config to\ncontroller.\n\nFixed by:\n * `apply_ctrller_change()` should purge IP stack if interface is not\n   valid to IP any more in merge state.\n\n * `store_dns_config()` should reconfig the DNS if changed interface is\n   DNS interface and not valid for current DNS anymore even DNS config\n   not changed.\n\n * `purge_dns_config()` should do nothing for absent interface.\n\nIntegration test case crated for two use cases:\n * Move identical IP and DNS config from port to controller.\n * Move identical IP from port to controller but with DNS changed.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "efd2e53023c09565b82a4a009c52b88fd55d00f7", "commit_date": "2023-01-06T08:48:35Z", "commit_message": "test: Ignore route metric in test\n\nthe `test_add_gateway` will fail if\n`NetworkManager-config-connectivity-redhat` installed.\n\nThe `NetworkManager-config-connectivity-redhat` will add 20000 to\nrequested metric before global connectivity checks out.\n\nNmstate production code ignore metric during verification. Changed the\ntest case to ignore metric also.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "78dc99fcd59c6c854bea79f3797c4f61de195d97", "commit_date": "2023-01-06T07:32:53Z", "commit_message": "ovs: Fix incorrect ovs bond mode\n\nThe `balance-tcp` mode also have `lacp: active` in database, we should\nonly set `lacp` mode when not `balance-tcp` mode.\n\nIntegration test case created to cover all four ovs bond mode.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d2f669ed3d50f2acea106d16ab8cd58d0a54f315", "commit_date": "2023-01-06T04:23:43Z", "commit_message": "cargo: Support rust 1.58\n\nAdd support of rust 1.58 which is shipped by RHEL 8.6 and 9.0 by:\n * Remove the use of named dependency which is for rust 1.60+.\n * Fixed a compile warning as rust 1.58 is not smart enough:\n\n    cannot borrow `self.user_ifaces` as mutable because it is also\n    borrowed as immutable\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c59a9cb3406154b43de4645c749818854de7398d", "commit_date": "2023-01-05T14:31:40Z", "commit_message": "test: Add test for assigning IP to detached port\n\nWe should allow assigned IP to port where its controller is marked as\nabsent.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1913330214950db36efd616d7df6218949fdf626", "commit_date": "2023-01-05T12:50:49Z", "commit_message": "state: Introduce crate level API - `MergedNetworkState`\n\nRewrite the state merging process of nmstate into `MergedNetworkState` which\ncontains:\n * `MergedHostNameState`\n * `MergedDnsState`\n * `MergedInterfaces`\n * `MergedOvsDbGlobalConfig`\n * `MergedRoutes`\n * `MergedRouteRules`\n\nThe most important `MergedInterfaces` performs actions in the order of:\n 1. `MergedInterface.pre_inter_ifaces_process()` for actions required to\n    be done before follow up. For example, empty OVS bridge should have\n    a OVS internal interface auto created.\n 2. `MergedInterfaces.process()` for actions require knowledge of\n    multiple interfaces.\n 3. `MergedInterface.post_inter_ifaces_process()` for actions require\n    single interface desire and current status.\n 4. `Interface.sanitize()` for actions apply to `for_apply` and\n    `for_verify`.\n 5. `Interface.sanitize_for_verify()` for action only for verify.\n\nThe `MergedInterface` has these three data stored:\n * `merged`: Contains both desired and current data.\n * `for_apply`: Optionally for state to apply.\n * `for_apply`: Optionally for state to verify.\n\nWith this design, when processing desire state, we can have clear\nknowledge on value source and be explicit on the type of\nmodification(for apply or for verify).\n\nAlso moved the ifaces-based route/route_rule/dns code to `nm` folder as\nthey are NetworkManager specific as:\n * `nm::dns::store_dns_config()`\n * `nm::route::store_route_config()`\n * `nm::route_rule::store_route_rule_config()`\n\nIn the future, we might expose `MergedNetworkState` out for `dry-run` or\npre-edit validation.\n\nAll unit tests and integration tests passed.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0a6fac0edd8811f9a8b3213a7ce184f35c9fd2b0", "commit_date": "2023-01-05T12:50:49Z", "commit_message": "lldp: Fix error when `neighbors` defined in desire\n\nThe serde-rs is now treating skipped filed as unknown:\n    https://github.com/serde-rs/serde/pull/682\n\nWhen user applying LLDP desire state like:\n\n```yml\ninterfaces:\n  - name: eth2\n    type: ethernet\n    lldp:\n      enabled: true\n      neighbors: []\n```\n\nThe nmstate will complain about unknown field `neighbors`.\n\nFixed by using manual `deserialize_with` to skip that field.\n\nExisting integration test case in `lldp_test.py` can reproduce this\nproblem, hence no test code attached.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "625fdb7a4ef64219476a50aec2e0c6e7f29edf84", "commit_date": "2023-01-04T06:59:44Z", "commit_message": "ovsdb: Switch to ovsdb plugin for querying all OVS related info\n\nPreviously we depend on NetworkManager for OVS information, with this\npatch we are querying OVS database directly which bring benefit of\n\n * Race problem on slow system where NM OVS information is not update to\n   date.\n * Support OVS bridge created by `ovs-vsctl` or other command.\n\nSince the ovsdb does not allows empty bridge, this patch will\nautomatically add a ovs internal interface with the same name as bridge\nitself.\n\nFor API level, included `other_config` to `OvsDbIfaceConfig` and\n`OvsBridgeBondConfig`.\n\nThere is not test case for interface level `other_config` yet as NM does\nnot support yet.\nExisting ovs test cases had covered all other known use cases.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "92827cbbc2e2a6a33652efa9c0cd2d62978b298d", "commit_date": "2023-01-03T13:10:21Z", "commit_message": "sriov: Support modify only defined VF\n\nIt is legal desire state to modify only defined VF via:\n\n```yml\ninterfaces:\n  - name: eth1\n    type: ethernet\n    ethernet:\n      sr-iov:\n        total-vfs: 4\n        vfs:\n          - id: 2\n            trust: true\n```\n\nPreviously, we will fail as we do exact match on list. For this use\ncase, this patch will instruct nmstate to auto convert above state to:\n\n```yml\ninterfaces:\n  - name: eth1\n    type: ethernet\n    ethernet:\n      sr-iov:\n        total-vfs: 4\n        vfs:\n          - id: 0\n          - id: 1\n          - id: 2\n            trust: true\n          - id: 3\n```\n\nUnit test case included for this use case.\n\nAlso patched nm code to preserver unmentioned VF.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d8d60750c453f047ba65c09f208a19b12ee0f340", "commit_date": "2023-01-02T14:22:17Z", "commit_message": "test: Retry till OVS interface shows up\n\nCurrently, we are using NM provided data for OVS interface status for\nverification which might lead to kernel has no OVS interface but\nverification passed.\n\nIn some slow server,\n`test_set_static_to_ovs_interface_with_the_same_name_bridge` will fail\ndue to missing OVS interface after `libnmstate.apply()` returned.\n\nTo fix that, we use `retry_till_true_or_timeout()` for the assertion.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "249961df2a21a85ea590fc6344e3fb8500fb454d", "commit_date": "2022-12-24T20:21:13Z", "commit_message": "test: Speed up test_state_absent_can_remove_down_profiles\n\nThe`test_state_absent_can_remove_down_profiles` takes 90 seconds to\nfinish as the `assertlib.assert_state_match()` will keep retrying till\nmatches or expired.\n\nFixed by add `no_retry` option to `assertlib.assert_state_match()`\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "94c7341ac5c833622f444a06c5303ad4396edc50", "commit_date": "2022-12-24T20:21:13Z", "commit_message": "nm: Improve checkpoint refresh\n\nInstead of having multiple checkpoint refresh call, this patch add\n`NmApi.set_checkpoint_auto_refresh(true)` to automatically refresh\non every dbus method call if checkpoint elapsed half of it.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2a5063795a0c3a71b0422679eb23e4fa1adf6c34", "commit_date": "2022-12-24T20:21:13Z", "commit_message": "nm: Improve error retry\n\nIn general, we have three types of retry:\n 1. NM activation retry\n 2. Nmstate verification retry with pure wait.\n 3. Nmstate verification retry by apply the same state again.\n\nOnly the 1) NM activation retry in changed by this patch.\nWith this patch we will retry only the __failed__ connection with\nretryable error after increasing(1,2,4,8,16,32 seconds) interval.\n\nRemoved the retry at `NmApi` level base on test results.\n\nTo identify which `NmError` is retryable, this patch expanded the\n`NmError` to cover detailed error class:\n * `NmManagerError`\n * `NmSettingError`\n * `NmConnectionError`\n\nThe `NmError` will convert to `NmstateError` for future processing.\n\nOnly these `NmstateError` are retryable:\n\n * `ErrorKind::PluginFailure`\n * `ErrorKind::Bug`\n * `ErrorKind::VerificationError`\n\nTested for 500 VLAN + 500 bridge, finished in 5 minutes.\nTested with OVS plugin uninstalled.\nTested with loopback not supported.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9fba85eb6f7bc4656a835193eaa816e6478e017e", "commit_date": "2022-12-22T03:07:19Z", "commit_message": "nmci test: Do not restart NetworkManager daemon before dbus is up\n\nThe `upgrade_nm_from_copr()` and `upgrade_nm_from_rpm_dir()` both do a\nNetworkManager daemon restart which is invalid as dbus server only\navailable after `check_services()` finished.\n\nSince `check_services()` already has NM daemon restart, we do not need\nto do extra in `upgrade_nm_from_copr()` and `upgrade_nm_from_rpm_dir()`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "07604ea31d53b5b5ff248643dda9b67fae78a3a4", "commit_date": "2022-12-21T13:09:23Z", "commit_message": "Fix link\n\nSigned-off-by: Sandro J\u00e4ckel <sandro.jaeckel@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "097553bea759ad50e0fafcfb9802e5b5ad7e8258", "commit_date": "2022-12-18T13:48:52Z", "commit_message": "test: Speed up the `test_ipv6_dhcp_switch_on_to_off`\n\nThe `test_ipv6_dhcp_switch_on_to_off` and other similar test cases\nuse `assert not _poll()` which only returns after `DEFAULT_TIMEOUT`\n(20 seconds) expires.\n\nFix it by introduce `_poll_till_not()` for waiting on false instead of\ntrue.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a60bdde579417874657271ca3287b0f0053d8f3c", "commit_date": "2022-12-18T13:23:40Z", "commit_message": "test: Wait till container is up before `container_exec`\n\nIn github CI, the `sleep 1` is not enough for container to be up after\n`podman run` which lead to failure on `container_exec`:\n\n    + podman exec -i\n      23c108712c04cec9e1ca87e95159025385804d51027175cd797d588dffe6ae8d\n      /bin/bash -c 'cd /workspace/nmstate && ulimit -c unlimited'\n      Error: timed out waiting for file\n\nFix it by use `podman inspect` to check whether container is up with\nretry.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c2e256aa71ed653067742637ecb680beef88a4b3", "commit_date": "2022-12-16T04:08:52Z", "commit_message": "test: Enable VRF test in github CI\n\nBy installing `linux-modules-extra-azure` package, github CI could\nsupport VRF tests now.\n\nAll VRF test cases are enabled in CI.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3c88135d591eb279434a61942d96926f3c635cfb", "commit_date": "2022-12-15T09:35:05Z", "commit_message": "iface: Include VRF as support type\n\nWe accidentally forgot VRF as supported type.\nThe existing VRF test was skipped by CI hence not been found initially.\n\nManually run the test in RHEL host works well.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dce5073432b4d7ce9bb0f3322c9970a714ae44a6", "commit_date": "2022-12-14T03:21:41Z", "commit_message": "ovs: add support for port trunks\n\nThis commit adds support for the \"trunk-tags\" property in ovs ports.\n\nExample:\n\n```yml\n  - name: ovs0\n    type: ovs-interface\n    state: up\n  - name: ovs-br0\n    type: ovs-bridge\n    state: up\n    bridge:\n      port:\n        - name: ovs0\n          vlan:\n            mode: trunk\n            trunk-tags:\n              - id-range:\n                  min: 20\n                  max: 22\n              - id-range:\n                  min: 30\n                  max: 32\n              - id: 40\n```\n\nThe property is implemented in NM via \"ovs-port.trunks\" and\ncorresponds to the \"trunks\" property of ports in ovs:\n\n```\n    Bridge ovs-br0\n        Port ovs0\n            trunks: [20, 21, 22, 30, 31, 32, 40]\n            Interface ovs0\n                type: internal\n\n```\n\nSigned-off-by: Beniamino Galvani <bgalvani@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c32252ded9fb6cc0a8550ca2feba7f8dd1d4a34d", "commit_date": "2022-12-13T14:34:46Z", "commit_message": "Bump version to 2.2.3\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e87f5f692eabb4f4e263ffd7823af5df2cb3d3df", "commit_date": "2022-12-13T14:11:42Z", "commit_message": "New release 2.2.2\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Support `iif` and `action` in IP route rule. (81c661c2)\n - Support loopback interface. (82a78a33)\n - Support of `controller` property for attaching and detaching ports.\n   (100cf325)\n - Support IPv6 link local address as DNS nameserver. (e1cae112)\n\n=== Bug fixes\n - Fix error when desired no DNS changes. (c7d22d9f)\n - Fix serialization of linux bridge VLAN trunk tags. (7a5d7639)\n - Fix error when moving OVS system interface to linux bridge. (891ab964)\n - Fix OVS VLAN with access mode with tag 0. (9f92170c)\n - Fix DNS probelm when running on NetworkManager 1.41+. (fd697fce)\n - Mark unsupported interface as ignored. (44199b3f)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "81c661c2f7971ec66a9eb425442684ad385bb840", "commit_date": "2022-12-13T13:43:38Z", "commit_message": "route rule: Add support of `iif` and `action`.\n\n* Added `RouteRule.iif` for matching on incoming interface name.\n* Added `RouteRule.action` for these actions:\n    * `RouteRuleAction::Blackhole`\n    * `RouteRuleAction::Unreachable`\n    * `RouteRuleAction::Prohibit`\n\nBumped required of nispor to 1.2.9 for the fix of route rule actions.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c7d22d9f6da04d22c49850485fe54cff8f2c37a2", "commit_date": "2022-12-13T13:00:32Z", "commit_message": "dns: Fix error when desired no DNS changes\n\nWhen a interface holding DNS information, applying simple state like\nbelow will cause failure on DNS interface not found.\n\n```yml\ninterfaces:\n  - name: eth1\n```\n\nThis is caused by `current_dns_ifaces_are_still_valid()` does not have\nIP stack info merged from current which lead to thinking IP stack\ndisabled.\n\nThe fix is skip the test if desired interface has unmentioned IP\nstack(set to None). This is a workaround, not final fix. The ideal fix\nshould given `desire_state` and `current_state`, get merged state for\nvalidation, state for verifying, state for applying. But that require\nmassive code changes.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9f92170cf845309195d14cae47196e54a9529cad", "commit_date": "2022-12-09T13:11:38Z", "commit_message": "ovs vlan: Support access mode with tag 0\n\nThe default tag of VLAN access mode is 0, hence we should allow user to\ndefine it explicitly.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ae59fdc57cc9591fd18460541e79126d919a2d32", "commit_date": "2022-12-09T11:34:21Z", "commit_message": "test: Fix NMCI script for overlapping of --el9 option\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "512d0d3051c31f00ca9da3a25aa992fd2457d380", "commit_date": "2022-12-09T11:30:33Z", "commit_message": "test: Add `--el8` and `--el9` options to NMCI script\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a66c3f0ecf2f1f6abd31509ce271f184f331a70a", "commit_date": "2022-12-09T11:17:35Z", "commit_message": "Fix cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7a5d7639b3b944fd024ada6ed29f7a9b2ab40179", "commit_date": "2022-12-09T11:17:35Z", "commit_message": "bridge: Fix serialization of VLAN trunk tags\n\nPreviously, the yaml serialization of VLAN trunk tags looks like:\n\n```yml\ntrunk-tags:\n- !id 101\n- !id-range\n  max: 599\n  min: 500\n```\n\nFixed by using custom serializer for `BridgePortTunkTag`.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "891ab964398a24b16d177f43cbda44b73d3b9456", "commit_date": "2022-12-09T08:42:35Z", "commit_message": "ovs: Fix error when moving OVS system interface to linux bridge\n\nWhen assigning current OVS system interface to linux bridge, nmstate\nwill complain about overbook with OVS bridge. This is incorrect as we\nallows port been moving around without referring its old controller.\n\nFixed by remove the unnecessary overbook pre-edit check.\n\nChanged NM code to remove the leftover OVS port connection.\n\nIntegration test case include.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fd697fceb72ecd700d81b1a26b60b0dad3717a03", "commit_date": "2022-12-09T08:17:43Z", "commit_message": "dns: Do not use loopback interface yet\n\nSince loopback interface is supported now, the `find_ifaces_in_desire()`\nand `find_valid_ifaces_for_dns()` might use loopback to store the DNS\ninformation, we do not like to store DNS into loopback interface yet as\nthis fails our CI at `test_route_rule_clear_state_with_minimum_iface_state`.\n\nLet's skip it for now.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "82a78a3314deedb10d140f8ab4dca707f0871a08", "commit_date": "2022-12-09T08:17:43Z", "commit_message": "loopback: Add support of loopback interface\n\nLimitations:\n * Cannot enable DHCP or autoconf.\n * The [InterfaceState::Absent] can only restore the loopback configure back\n   to default.\n * Ignore the request of disable IPv4 or IPv6.\n * Even not desired, the `127.0.0.1/8` and `::1` are always appended to\n   static IP address list.\n * Require NetworkManager 1.41+ unless in kernel only mode.\n\nExample yaml:\n\n```yml\ninterfaces:\n- name: lo\n  type: loopback\n  state: up\n  mtu: 65535\n  ipv4:\n    enabled: true\n    address:\n    - ip: 127.0.0.1\n      prefix-length: 8\n  ipv6:\n    enabled: true\n    address:\n    - ip: ::1\n      prefix-length: 128\n```\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "638704ff13dbc2a1ecbe2fa20908066c288c3ad6", "commit_date": "2022-12-09T02:57:11Z", "commit_message": "test: Retry on assert_absent()\n\nThere is a race when we delete OVS interface via NM and querying OVS\ninterface right after it. NM might still how this OVS interface in its\ncache.\n\nInstead of instant fail, we retry in `assert_absent()`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "59a60bb232ca6a71dc9b57a31299b386eb82f265", "commit_date": "2022-12-08T12:37:24Z", "commit_message": "test: nmci should have CI=true set\n\nLike github CI, NMCI container also has limitation on hostname dns and\netc, hence set `CI=true` environment.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "eb139e74ced7c71302362391f1ca0faf4a828560", "commit_date": "2022-12-08T12:15:22Z", "commit_message": "test: Include test script for NMCI to run tier1 test\n\nThe `automation/run-tests-in-nmci.sh` will be used for NMCI allowing two\narguments:\n * `--copr <copr_repo_name>`: Install NM rpm via copr\n * `--rpm-dir <rpm_dir>`: Install NM rpm from folder\n * `--debug-shell`: Provide a shell for debugging after tests\n\nWill only run tier 1 tests using CentOS stream 9 container.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "51b8ddc21ae44bf41487f693687de609db6973b6", "commit_date": "2022-12-08T11:47:17Z", "commit_message": "Fix cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fe4cb86545e4491ce2cce4e2ecb67a5feb82c57f", "commit_date": "2022-12-08T11:47:17Z", "commit_message": "test: Fix `test_ipv6_link_local_dns_srv` in NMCI\n\nNMCI also has extra interface configured as auto dns which fails the\n`test_ipv6_link_local_dns_srv`.\n\nFixed by only check first two dns servers for desired.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "76d802c37939bda7c72984a23afa1766f574f1f7", "commit_date": "2022-12-02T11:35:30Z", "commit_message": "tests, ethtool: add ethtool feature highdma test\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c8c776e9fee8e8097a7131242c7c63631af72bc6", "commit_date": "2022-11-30T07:52:33Z", "commit_message": "cargo: Less dependency\n\n * Set `default-features = false` for all dependent crates and only\n   build features we need explicitly.\n * Removed libc as not required anymore.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "35669c6f156a4406df8f814742d47e1be3ce2691", "commit_date": "2022-11-30T07:04:09Z", "commit_message": "cli: Include description in Cargo.toml\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "62909a16b438e9cc5fd7daa522c8a05c7b4a12e4", "commit_date": "2022-11-30T07:04:09Z", "commit_message": "cli: Add version of nmstate for dependency\n\nVersion is required to publish the `nmstatectl` crate to crates.io.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1a6524af343ae961a5ef70a062345d09f928bbe8", "commit_date": "2022-11-30T03:41:17Z", "commit_message": "Skip security leak check on automation/upload_test_artifacts.key\n\nThe `automation/upload_test_artifacts.key` is deactivated ssh key,\nit is not a security leak.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "42be78660772a858148cd2b90c67f2da832ecf8a", "commit_date": "2022-11-30T01:58:39Z", "commit_message": "k8s ci: Fix `test_ipv6_link_local_dns_srv`\n\nIn K8S CI, `test_ipv6_link_local_dns_srv` test will fail with:\n\n```\nE       AssertionError: assert ['2001:4860:4...8c:f616%eth0'] == ['2001:4860:48...ef:1%dhcpcli']\nE         Left contains more items, first extra item: '192.168.66.2'\nE         Full diff:\nE         + ['2001:4860:4860::8888', 'fe80::deef:1%dhcpcli']\nE         - ['2001:4860:4860::8888',\nE         -  'fe80::deef:1%dhcpcli',\nE         -  '192.168.66.2',\nE         -  'fd00::1',\nE         -  'fe80::5cb5:33ff:fe8c:f616%eth0']\n```\n\nThis is caused by extra interface tunl0 (TUN interface type) is\nconfigured with `auto_dns: true`, it is not configurable via nmstata\nwhich result extra DNS server appended after our desired ones.\n\nFixed by only checking first 2 DNS name servers in K8S CI.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "86d4ba9873d9311f9a5cf338960af50de06544df", "commit_date": "2022-11-29T23:20:46Z", "commit_message": "controller: Fix detaching port from controller\n\nWhen detaching port from controller via:\n\n```yml\n---\ninterfaces:\n- name: eth1\n  state: up\n  controller: \"\"\n```\n\nNmstate will fail with verification error.\n\nIt is caused by two problem:\n * Verification thinks `Some(\"\")` is different from `None`. Fixed by set\n   controller as `None` before verification.\n * The function `preserve_ctrl_cfg_if_unchanged()` copied current\n   controller information when got controller set as `Some(\"\")`. Fixed\n   by skipping the preserving.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "15b1e91608c9144eba8efbccedc427c3d95ed858", "commit_date": "2022-11-29T16:02:24Z", "commit_message": "ifaces: Expose `iter()` and `iter_mut()`\n\nAdding `Interfaces.iter()` and `Interfaces.iter_mut()` for easy access\nto internal interfaces.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "44199b3fc5ea1fe2216ff67f3e9e3f74cb922f12", "commit_date": "2022-11-29T10:59:14Z", "commit_message": "nm and nispor: Mark unsupported interface as ignored\n\nThe test case `test_dynamic_ip_with_static_dns` will fail on NM 1.41+\nwhere loopback interface is supported.\n\nMarking unsupported interface as ignored in both nispor and nm plugin\nwill fix this problem.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e360aeaeba8409f50913ccfa5130b4704b08cad4", "commit_date": "2022-11-29T05:51:24Z", "commit_message": "Revert \"packit: Remove the PR copr build for EPEL8 and EPEL9\"\n\nThe EPEL8 and EPEL9 has rust 1.62+ now, are ready for build this project.\n\nThis reverts commit 0bc69bc9484c672b29e7db7258b2e520eb75081a.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1203ba44ce8ea34448be4c543d905ffcacb37b24", "commit_date": "2022-11-29T04:41:29Z", "commit_message": "CI: Drop actions-rs actions\n\nThe actions-rs is unmaintained and causing deprecate warning on Node.js\n12 of github.\n\nReplacing it with rustup command.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e16dab3ac50628f0b2ee88dfe47f51b582297a7b", "commit_date": "2022-11-28T10:12:42Z", "commit_message": "rust/lib: Replace the unsafe 'libc::sysconf' to 'nix::unistd::sysconf'\n\nThe `libc::sysconf` is unsafe function of rust, use its safe\nreplacement `nix::unistd::sysconf` with proper error handling instead.\n\nSigned-off-by: Wen Liang <liangwen12year@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7ddd51853dfb7c34d2d173a068d39063d6bcb0c3", "commit_date": "2022-11-24T11:59:14Z", "commit_message": "tests, ovs: add updelay and downdelay ovs-bond options test\n\nAdd missing integration tests for OVS Link Aggregation support. We\nsupport downdelay and updelay so they need to be tested properly.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b66383095e347e56a6ff2c0013f6608a8699158e", "commit_date": "2022-11-24T11:31:19Z", "commit_message": "clippy: drop needless lifetimes\n\nAccording to\nhttps://rust-lang.github.io/rust-clippy/master/index.html#needless_lifetimes\nthese lifetimes can be dropped.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0d9ecc2f2d3876bbacbfd27be089eb8061445351", "commit_date": "2022-11-21T16:41:52Z", "commit_message": "key: Add ffmancera updated GPG key back\n\nWhen unifying the keys in a single entry, ffmancera updated key was\nremoved.  Please, consider this one instead.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "272cd4916177941b6402fb56c7a4e46cd2cc4649", "commit_date": "2022-11-18T08:52:36Z", "commit_message": "README: Change the title\n\nChanged the title to `Nmstate: A Declarative Network API`\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "100cf325d36a0cf35b6eaf8bdc445404305fcd1d", "commit_date": "2022-11-18T08:51:47Z", "commit_message": "iface: Add support of `controller` property\n\nIntroducing `BaseInterface.controller` property for attaching port to\nexisting controller without knowledge of current port list of that\ncontroller.\n\nExample on attach eth1 to br0:\n\n```yaml\n---\ninterfaces:\n- name: eth1\n  state: up\n  controller: br0\n```\n\nThe `controller` property is only valid for applying, always been set to\nNone(hidden during serializing) on show/`retrieve()`.\n\nUnit test cases and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e1cae112c92bd377ae4e76a8e21bcac8e896f0ff", "commit_date": "2022-11-17T12:48:53Z", "commit_message": "dns: Support IPv6 link local address as DNS nameserver\n\nWhen using IPv6 link local address as DNS nameserver, interface name is\nrequired, for example: `fe80::deef:1%eth1`\n\nExample yaml:\n\n```yml\n---\ndns-resolver:\n  config:\n    search:\n    - example.com\n    - example.org\n    server:\n    - fe80::deef:1%eth1\n    - 2001:4860:4860::8844\n    - 8.8.4.4\n    - 8.8.8.8\n```\n\nRestrictions:\n * You cannot have 2+ interface names in DNS server names. Massive work\n   required to handle the DNS ordering between interfaces with the\n   design of NetworkManager.\n\n * All other normal IPv6 nameserver will also stored in link local\n   interface if exists.\n\nUnit test cases and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c5e12bc4e18267ef36203da6aebc2dfe4f817bc4", "commit_date": "2022-11-17T10:59:16Z", "commit_message": "Update README\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "51a7cff3ed7686b3eec908a1b8dacd1b9e677722", "commit_date": "2022-11-16T00:36:12Z", "commit_message": "Bump version to 2.2.2\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "db328d09e9aae016a3efc692fc41f490e99de4f6", "commit_date": "2022-11-15T13:33:44Z", "commit_message": "New release 2.2.1\n\n== Breaking changes\n - Minimum supported rust version 1.60. (e997a2bb)\n\n== New features\n - Support IP route rule fwmark and fwmask. (95f1c193)\n - Support `dns-data` in NetworkManager 1.41+. (89d2fb0b)\n - Support IP route rule `from all to all`. (c53dc568)\n - Support bond `balance-slb` option. (16dadebe)\n - Support custom metric for DHCPv4 and IPv6-RA routes. (288014f1)\n - Introduce nmpolicy. (badcee4c)\n\n== Bug fixes\n - Fix deleting interface created by iproute. (dcea700a)\n - Fix infiniband parent UUID problem. (883f36fb)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "288014f1e62e613f943d762e42c44424bfb8b699", "commit_date": "2022-11-15T11:58:37Z", "commit_message": "ip: Add support of custom metric for auto routes\n\nExample:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    state: up\n    ipv4:\n      enabled: true\n      dhcp: true\n      auto-route-metric: 101\n    ipv6:\n      enabled: true\n      dhcp: true\n      autoconf: true\n      auto-route-metric: 102\n```\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "badcee4c8c8ecf0b488a5d0031d335e4f35600f7", "commit_date": "2022-11-15T07:56:11Z", "commit_message": "Introduce support of nmpolicy\n\nIntroducing support of nmpolicy syntax[1] including rust, python and C\nbindings.\n\nImplementation workflow:\n * `NetworkPolicy` could deserialize from existing nmpolicy file.\n * Each of capture line will produce a new `NetworkState` and stored for\n   follow up capture line processing.\n * Each capture line will be converted to `Vec<NetworkCaptureToken>`,\n   then fill into `NetworkCaptureCommand` for filtering or updating\n   matched `NetworkState`.\n * We use `serde_json::Map` to walk through the property defined in the\n   format of `routes.running.next-hop-interface`.\n\nThe cli tools could be used also:\n\n    nmstatectl p <policy.yml> [-c current_state.yml] \\\n        [-s saved_capture.yml] [-o /path/to/output_capture.yml]\n\nAPI:\n\n * Using running current to generate `NetworkState`:\n\n   ```rust\n   let policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   let state = NetworkState::try_from(policy)?\n   ```\n\n * Use saved current to generate `NetworkState`:\n\n   ```rust\n   let mut policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   policy.current = Some(serde_yaml::from_str(current_state_content)?);\n   let state = NetworkState::try_from(policy)?\n   ```\n\n * Store captured data:\n\n   ```rust\n   let policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   let current_state = serde_yaml::from_str(current_state_content)?;\n   let captured_states = policy.capture.execute(&current_state)?;\n   // Use your own way to store the captured data\n   // You may also use `NetworkCaptureRules::execute()` directly.\n   ```\n\n * Load captured data:\n\n   ```rust\n   // Use your own way to load the data. We just need\n   // HashMap<String, NetworkState> for captured_states\n   let current_state = serde_yaml::from_str(current_state_content)?;\n   let policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   let state = policy.desired.fill_with_captured_data(&captured_states)?;\n   // You may also use `NetworkStateTemplate::fill_with_captured_data()`\n   // directly.\n   ```\n\nBoth unit test cases and integration test case are included.\n\n[1]: https://nmstate.io/nmpolicy/user-guide/102-policy-syntax.html\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1ff45116374b15b435832f540b3d79b0d05b795b", "commit_date": "2022-11-14T17:32:29Z", "commit_message": "Make nmstate go module reflect v2\n\nWhen v2 was released and the tags started being v2.y.z, we introduced a\nmismatch between the go module definition (when it has no vX it is\nequivalent to v0/v1) and the repository (and release tags). This makes it\nhard to vendor the package referring to tags in other golang contexts.\n\nYou can read more about it in:\nhttps://github.com/golang/go/wiki/Modules#releasing-modules-v2-or-higher\n\nSigned-off-by: Antoni Segura Puimedon <antoni@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "200958151252c9ecbcb62f5821c7d2fd8614e84a", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for 802.1X authentication\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3d5e3e2a8dacf77a98a39c4c108d1fa3859ff21c", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for OVS\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0ff985480479241ff792975fe4460ff8b6539f3a", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for VxLAN interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9fc7e3c80d256d4a5e190dbdad000e7ededbc5f7", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for VRF interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a18326cd1cad61f633d8043cd428ce4481823444", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for VLAN interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d98d1b29213dd021ddf49de09bb9e58f6c956a5c", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for SR-IOV interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4013fd5176f66057cdc0dd229b49fc72f85f9b94", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for MAC VLAN and MAC VTAP\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1bdae2fc3da5faadb905dd454caf02ab512ff497", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for infiniband\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "767f3b0c852f6633974cc5b057ecf27f89d5c00e", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for ethtool\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3bbb5cc35c48531a3c0e950d90e666d6218afd92", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for ethernet\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "61bc15fa30b1e5eb7b7aa936a2a20dae6ccac982", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for dummy interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "02592948d076598721f44a5f6cf42a094eca404f", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for linux bridge interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4175dc2f0f0cc16cf3867f203037952b838a5d8a", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for bond interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "883f36fbb8d9a31bfb0b329967582a70aeccf39f", "commit_date": "2022-11-11T09:40:29Z", "commit_message": "nm infiniband: The infiniband parent cannot be UUID\n\nThe NetworkManager does not support `infiniband.parent` as UUID.\n\nThe test cases under `TestInfiniBand` has it covered.\nManually tested on Mellanox MT27800(mlx5_ib).\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "294116d9cfce5475d7100d3db53522272974a96c", "commit_date": "2022-11-11T08:53:15Z", "commit_message": "veth, tests: add veth peer renaming tests\n\nWhen renaming a veth peer the new peer must be managed by\nNetworkManager.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1966944\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "16dadebe53fd5f4e4adb913c7db2da9f2d460c86", "commit_date": "2022-11-11T08:26:30Z", "commit_message": "bond: Add support of balance-slb option\n\nThe NetworkManager 1.41 introduced new bond option `balance-slb` to\nachieve the same effect with ovs bond slb mode.\n\nExample yaml:\n\n```yml\n---\ninterfaces:\n- name: bond99\n  type: bond\n  state: up\n  link-aggregation:\n    mode: balance-xor\n    options:\n      xmit_hash_policy: \"vlan+srcmac\"\n      balance-slb: 1\n```\n\nUnit and integration test cases included.\n\nIntegration test case is shipped in CI as bond slb require patched\nkernel which is not in github CI ubuntu host yet.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "54fd2f812af951133a638fe7255e31392a8d433b", "commit_date": "2022-11-10T13:47:47Z", "commit_message": "CHANGELOG: Use conscious language\n\nThe CHANGELOG file contains offensive words that we are removing from\nthe project.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c53dc56824f74b9baa1d1f76bb3b03a6e44baea0", "commit_date": "2022-11-10T12:59:40Z", "commit_message": "route_rule: support `from all to all` routing policy\n\nAdd support to `from all to all` routing policy. In static config\ngenerator it will add `from 0.0.0.0/0` or `from ::/0` to the keyfile.\n\nA new parameter `family` have been introduced to the route-rule config\nfield. This parameter is used to specify the address family. If `family`\nis not specified it will fail on validation, if not specified from\nNispor it will assume IPv4 as it was done in the past.\n\nExample:\n\n```yaml\nroute-rules:\n  config:\n    - route-table: 254\n      priority: 100\n      family: ipv4\n```\n\nIntegration test cases added.\n\nFixes #1417\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "84e0b3e1764f364a1529d503b97ee2f4c9bbbe81", "commit_date": "2022-11-10T12:59:40Z", "commit_message": "ip: add AddressFamily enumerate\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "27f9a5195117a3700c89b56732d04e73d2c40029", "commit_date": "2022-11-10T12:59:40Z", "commit_message": "nispor: do not filter out route rules without ip-to/ip-from\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "13fb41734914dc3ec04c9b0bb7a1e6a63e6d2109", "commit_date": "2022-11-10T09:00:53Z", "commit_message": "doc: Add document for DNS, Route and RouteRule\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a9cee09dfe1de9c6778e3649aa195405d038faa1", "commit_date": "2022-11-09T23:19:19Z", "commit_message": "test: Skip `test_preserve_ipv6_addresses_order` on RHEL 8\n\nThe downstream build of RHEL 8 has different behaviour than copr build\nfrom git main branch. It is hard to tell whether we are using downstream\nbuild or git build at runtime, hence we ship this test in RHEL 8.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dcea700abfa4469766b51cb2dc584b1c88474eca", "commit_date": "2022-11-07T22:28:16Z", "commit_message": "nm: Fix deleting interface created by iproute\n\nWhen virtual interface(e.g. linux-bridge) was created by iproute\ncommand, nmstate will fail when marking it as absent with error:\n\n    Absent/Down interface br1/linux-bridge still found\n\nThis is caused by `delete_remain_virtual_interface_as_desired()` not\nworking as expected due to inconsistency between NM interface type and\nnmstate interface type.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e69f036d1e92e1b04f8d2e550db1175e7334ddae", "commit_date": "2022-11-07T13:04:22Z", "commit_message": "test: Add test case for IP address order\n\nAdd test case to test the order of IP addresses is preserved.\n\nIt is known issue in RHEL 8 with reverted IPv6 address order. Downstream\nnmstate package will have their own patch to revert the address list\nbefore sent to NM.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e997a2bb247b77726a5be6ae4e7a3bca1e05071c", "commit_date": "2022-11-07T10:11:10Z", "commit_message": "cargo: Minimum rust version 1.60\n\nSet minimum rust version 1.60 due to the need for feature dependency\n`dep:foo`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d219725c0825a8ec2b97c790ef8c73dfd44f838d", "commit_date": "2022-11-03T13:01:37Z", "commit_message": "doc: Add document for BaseInterface and IP\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "89d2fb0b690c9951385076766ca03886b9c6be13", "commit_date": "2022-11-03T08:55:00Z", "commit_message": "nm: Support `dns-data` in NetworkManager 1.41\n\nThe NetworkManager 1.41 introduced `dns-data` and deprecating `dns` DBUS\npropriety.\n\nWithout this patch, we will not able to purge DNS on NM 1.41\nas we always merge unknown DNS propriety which in this case `dns-data`.\nThe `dns-data` is effective if `dns` is not mentioned, hence we cannot\npurge DNS in NM 1.41+.\n\nWe cannot simply set empty array in `dns` which take priority over\n`dns-data` when applying because IPv4 and IPv6 dns setting has different\ndbus signature which require at lease one dns server to determine.\n\nThis patch only enable the querying support on `dns-data`, but still use\nold `dns` property when applying to achieve backwards compatibility,\nand drop `dns-data` when applying also.\n\nThe integration test case `test_dns_edit_nameserver_with_static_gateway`\nreproduced the problem and could confirm the fix.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7a87f6315c1fb8d1bdf0abe0f5c28d6191ab4ca1", "commit_date": "2022-11-02T08:07:27Z", "commit_message": "Github CI: Fix release workflow\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "30a6a3c66cd677a9a1b06c6a3d1568e8549c379e", "commit_date": "2022-11-01T10:28:28Z", "commit_message": "doc: Add document for Interfaces and Interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3613ac5db213a9a62816d90380e76d364ca5474e", "commit_date": "2022-11-01T08:03:16Z", "commit_message": "doc: Add crate and NetworkState documentation\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "af9d773bc5e136d5f92f446e4588cfd92f59a1be", "commit_date": "2022-10-28T12:07:04Z", "commit_message": "rust: fix clippy nightly warnings\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8e44966ba6882aee8335d9dc81b3aa9b99187837", "commit_date": "2022-10-28T12:07:04Z", "commit_message": "README: drop sprint tracking reference to GitHub projects\n\nWe are not using GitHub projects anymore.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a323ad9d1ae377ae39971f0f0a9f39d3ad341765", "commit_date": "2022-10-25T08:50:52Z", "commit_message": "CI: On run release CI job on tag created\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "33ad5bb85bb0e4296ad7a4dcd621a77615341a3b", "commit_date": "2022-10-24T11:16:53Z", "commit_message": "key: Update Gris's gpg key\n\nGris's public key expired and refreshed. Use new one.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "95f1c193515bcb59117ad72fd0cd1f9672b9cde8", "commit_date": "2022-10-24T11:13:04Z", "commit_message": "rule: add support to fwmark and fwmask\n\nIntroduce support to fwmark and fwmask properties for routing policy\nconfiguration. Please, consider the following example:\n\n```yaml\nroute-rules:\n  config:\n    - ip-to: 192.0.2.3/24\n      ip-from: 198.51.100.0/24\n      priority: 100\n      route-table: 254\n      fwmark: 0x30\n      fwmask: 0x10\n```\n\nIntegration test added.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6a6184ae78d6fd9fa4df02226cdff0e075807dbb", "commit_date": "2022-10-24T11:13:04Z", "commit_message": "serializer: add option_u32_as_hex serializer helper\n\nThere are options that will need to be serialized as hexadecimal to be\nmore user friendly. This serializer helper is needed for the fwmark and\nfwmask support.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2bdb120edd6107ac4ec062824087b3c8043b8989", "commit_date": "2022-10-17T18:06:38Z", "commit_message": "Bump to 2.2.1\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}], "ff/arp_missed_max": [{"commit_oid": "3bd9f954505ff33dc6ae2db05680dd6f4f1622c9", "commit_date": "2023-06-20T07:58:13Z", "commit_message": "WIP\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9139bf54334fac2aacc7625d93f6fc0d6cc6171d", "commit_date": "2023-06-16T08:38:02Z", "commit_message": "Grammar fix in nmstate.service.README\n\nSigned-off-by: Marc Muehlfeld <mmuehlfeld@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8f2d8ef20866ec264946f85a55d9203fa8b56d17", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Make `persist-nic-names --cleanup` still print state\n\nThis way, we get the equivalent of `--inspect`.  The MCO can just\nrun `--cleanup` on every boot and not have to care about\nany implementation details.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "54e9e09210d58647dc9e5d0fd1c54a5d5bba437d", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Deduplicate karg logging\n\nIn `--dry-run` mode we don't actually write to `--karg-file`\nanyways, so move the kargs handling outside of the `!dry_run`\nconditional, which allows us to deduplicate the logging.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1b85892b28e59b13842be30306beaa3afb4dd582", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Ensure stamp path parent exists\n\nFixes https://issues.redhat.com/browse/OCPBUGS-14298\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "acd1e9e6e7ea682c367f2cf0d1f96f0a10fdd428", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Readd `perist-nic-names --inspect`, rework internals\n\nToday the logs from this invocation may end up either\nin the systemd journal or in a container log.\n\nAnd after that one run, they will quickly get lost back in the\nshuffle.\n\nThe original motivation behind `--inspect` is to be able\nto quickly and conveniently see the state of the system; it's\nsomething we can run every time the OpenShift machine-config-daemon\nstarts up on a node.\n\nThat way, we'll always be able to look at the logs and see what\nhappened with NIC persistence.\n\nIn the implementation of this, rework things such that \"dry_run\"\nis a bool passed down instead of augmenting the action.\n\nThis makes the code flow much more clearly; instead of having\nan early return in `run_persist_immediately` if the action is\nto cleanup we separate the persist action into its own function\ntoo, and then just dispatch to one or the other.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "851640fec5cdd9bd695565f8eb1d0a79b79599bd", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Only append `ifname` kargs if `rd.neednet` is used\n\nIf networking isn't required in the initramfs, then there's no need to\nappend `ifname` kargs. Key off of the `rd.neednet` karg to know if that's\nthe case.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "aa1b79f7f89bde8e1514a117159b5e81b8bd65e7", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Split out `has_any_kargs` helper function\n\nPrep for checking for another karg.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d75ff094dadd708a5c58b2d9d62d68b39ea9fbe5", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Strengthen karg checking for net.ifnames=0\n\nA karg like `foonet.ifnames=0` will make this function think that\npredictable ifnames are disabled. We need the check to be word boundary-\naware.\n\nSplit the kernel cmdline on whitespace and check for each element.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1da7f70d8840974b248d3a70b067c5081367132f", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Simplify and make consistent logging in `persist-nic-names`\n\nIn the pinning path, we used \"would\", which would be more appropriate\nfor dry run mode, but we also used it in non-dry run mode. In the\ncleanup path, we used \"will\" only in dry run mode.\n\nSince \"will\" works for both dry run mode and non-dry run mode, tweak\nthings so we always say \"will\". This simplifies things since we don't\nneed different logging for each mode.\n\nIn the cleanup path, log when we actually remove the link file for\nconsistency with the pinning path.\n\nWhile we're here, merge the kernel arg and link file logging.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "87058539c828ed2dac99bac06075d8e078152fc8", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Mention kargs in persist_nic doc and minor tweaks\n\nAdd kernel arguments to the `persist_nic` module docstring. Fix a typo\nin the predictable ifname function name. Don't capitalize systemd at the\nbeginning of sentences.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "18a9456f929843c37b707687251bf4c46f4aef5f", "commit_date": "2023-06-07T08:07:04Z", "commit_message": "cli: Teach `persist-nic-names` to pin via kargs too\n\nPinning by kargs has the additional benefit of also covering the\ninitramfs, which is relevant if networking is necessary there (for\ne.g. a Tang-pinned rootfs), and network kargs are in use that rely on a\nspecific interface name.\n\nTo keep it simpler, we don't have nmstate itself call out to rpm-ostree.\nInstead, a new `--kargs-out` flag is added where nmstate can write out\nthe kargs that the MCO should add/remove.\n\nRelated: https://github.com/openshift/machine-config-operator/pull/3684\nRelated: https://github.com/openshift/machine-config-operator/pull/3706\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8764f4500fb2d58cd6a5358be6cf3b6431c73a7f", "commit_date": "2023-06-07T03:41:02Z", "commit_message": "sriov: Handle unknown interface type for SRIOV\n\nWhen changing SRIOV VF change without defining interface type, nmstate\nwill incorrectly treat it as non-SRIOV interface which lead to incorrect\nverification retry count (5).\n\nTo support that use case, we need to use `MergedNetworkState` to resolve\nthe unknown interface type, then check whether we have SRIOV VF changes\nto determine the timeout and verification retry count.\n\nUnit test case included.\nIntegration test case `test_change_vf_from_62_to_63` does not have\ninterface type defined which is enough to reproduce this issue after\nmultiple retry.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c4b25a77c821ce45d861ec5cf70ebe0180b0fa2c", "commit_date": "2023-06-07T03:41:02Z", "commit_message": "apply: Perform pre-apply check before creating checkpoint\n\nDo pre-apply check before creating the checkpoint when the desire does\nnot contains future VF(in this case the pre-check only happens after\nSRIOV VF count changed).\n\nIt is hard to test this in auto test case. Manual checked using\noverbook bond port.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bbd091cc566743dc9e218389efadf4654e3ff65d", "commit_date": "2023-06-07T03:41:02Z", "commit_message": "sriov: Fix regression on waiting SRIOV\n\nThe 20871bac introduced a regression causing SR-IOV verification error\nwhen enabling large mount(60+) VF.\n\nThe root cause is we only retry verification\n`VERIFY_RETRY_COUNT_SRIOV(60)` times when VF changed with missing ethernet\nVF. Fixed by use `VERIFY_RETRY_COUNT_SRIOV` when we have VF count\nchanged.\n\nIn test with ixgbe, we noticed 60 seconds is not enough, hence increase\nto 300 seconds for verification retry.\n\nIntegration test case included and manually tested on ixgbe card.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "21fe40785164b8a2a1f07ad30f39505e339b8085", "commit_date": "2023-06-02T08:25:38Z", "commit_message": "tests: skip test_netdev_data_path in NM-1.38- env\n\nTest is not working in NM 1.36 and older. Skip it.\n\nSigned-off-by: Vladim\u00edr Bene\u0161 <vbenes@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d75de57755191e27b33f8373aa609d148992a659", "commit_date": "2023-06-01T10:15:47Z", "commit_message": "VERSION: Bump to 2.2.13\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "71dd2292b002d113905ba0ae996acdc9e2adb857", "commit_date": "2023-06-01T07:46:07Z", "commit_message": "CHANGELOG: New release 2.2.12\n\n* Breaking changes\n - Rust API: BridgePortTunkTag renamed as BridgePortTrunkTag. (148ecd1)\n\n* New features\n - Support `vlan-default-pvid` in bridge options. (e73b147)\n\n* Bug fixes\n - Fix rollback blocked due to waiting for DHCP. (861110b)\n - Fix creating a VLAN or bridge above an interface with multiple NM profiles. (a463a28)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fd4c1aae725c3dd2e1a846d757aa176262cbccaf", "commit_date": "2023-06-01T06:27:12Z", "commit_message": "RPM SPEC: Remove runtime requirement of nmstate-libs\n\nThe `nmstate-libs` is not required for `nmstate` package.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a463a2852fe4ae1a2b4c588b08d4414c9f9627db", "commit_date": "2023-05-29T12:18:59Z", "commit_message": "nm: Use activated connection when referring parent or controller\n\nWhen a interface has multiple NM profiles, creating a VLAN or bridge\nabove it will get failure on\n\n    libnmstate.error.NmstateInternalError: Manager(UnknownDevice):\n    Failed to find a compatible device for this connection\n\nThe root cause of this is `use_uuid_for_controller_reference()` and\n`use_uuid_for_parent_reference()` is searching all existing NM\nconnections if not desired, this might lead to nmstate choosing the\ninactivate profile as parent/controller.\n\nTo fix it, patched `use_uuid_for_parent_reference()` and\n`use_uuid_for_controller_reference()` to prefer activated NM profiles\nover other existing ones.\n\nResolves: RHBZ#2202999\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e73b147f5ff469007303d1892a5337bb3fee10bd", "commit_date": "2023-05-23T16:44:14Z", "commit_message": "bridge: add support to vlan-default-pvid property\n\nWhen setting the vlan-default-pvid property, a VLAN is created with that\ntag. We must control it and skip it. In the past, we were doing that but\nonly for tag 1. This was because the vlan-default-pvid default value is\n1, therefore we needed to control that case only.\n\nAdd integration test.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "148ecd104251e324fccd7cfa35fcf9beee65dc90", "commit_date": "2023-05-23T16:44:14Z", "commit_message": "Rust API break: fix a typo in BridgePortTrunkTag struct\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "23be5826d45d27cb6d123aa5e93a03f6ffaf08cf", "commit_date": "2023-05-22T16:41:47Z", "commit_message": "test: Fix random failure of `test_new_bond_uses_mac_of_first_port_by_name`\n\nThe `test_new_bond_uses_mac_of_first_port_by_name` has random failure\nwith 1% rate, it is caused by nmstate not properly clean up in previous\ntest as it is instructed to delete interface with `verify=False` which\ncause nmstate return when interface might be still deleting by\nNetworkManager.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d7927f663c7ab452b2a8f136225cb9f92cde2e7e", "commit_date": "2023-05-22T08:31:33Z", "commit_message": "test: Refresh the expired CA keys\n\nRecreated SSL keys for 802.1x tests with 100 years lifetime.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "861110b31b25d10a4a6801df0ab4d1e663f18d6b", "commit_date": "2023-05-18T08:57:42Z", "commit_message": "nm: Do not wait DHCP in rollback\n\nWhen rollback, the `wait_checkpoint_rollback()` will continue the wait\non IP_CONFIG which might cause rollback blocked when there is no DHCP\nserver\n\nManual test required, hence no auto CI test case.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bd814026b22ab94b350596404bbb5f95897414db", "commit_date": "2023-05-18T06:49:16Z", "commit_message": "CI: Fix random failure on `test_ignore_interface_mentioned_in_port_list`\n\nIn https://github.com/nmstate/nmstate/actions/runs/5000804973/jobs/8958880385\nwe noticed the `setup of test_ignore_interface_mentioned_in_port_list`\nwill fail as `ip link add brtest0 type bridge` return 2 indicating a\nbridge with the same name exists.\n\nThis is because in previous test, the clean up is using\n`verify_change=False` which does not grantee the linux bridge is removed\nby absent action.\n\nTo fix that, we remove `verify_change=False` and the clean up of\n`linux_bridge()` should make sure the bridge is removed.\n\nThe `ip link del` command does not guarantee on link been removed on\nexit, hence we use nmstate to replace all `ip link del` command in\ntests.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e5cd54501a76705cb22b593e9273f2c0fed9f8e4", "commit_date": "2023-05-17T08:54:47Z", "commit_message": "Bump version to 2.2.12\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "470648d47759061b386cd93b42c43555b8655642", "commit_date": "2023-05-16T06:40:01Z", "commit_message": "New release 2.2.11\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Support OVS DPDK `netdev` datapath. (ac8a4dee)\n\n=== Bug fixes\n - Skip connection activation if its controller will do. (7f93c374)\n - Fix error when DHCP with auto IP address on STP enabled bridge. (8ea675b6)\n - Fix error when running test locally. (21d63ed6)\n - Do nothing for `persist-nic-names` when got `net.ifnames=0`. (c9fd1e80)\n - Include cargo vendor files for s390 linux. (dc6a2149)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fb676a111ecfdad8cdf9001c02a510b9d8b3471e", "commit_date": "2023-05-16T04:41:07Z", "commit_message": "test: Add test case for ipv4 ipv6 using the same route table ID\n\nAs https://github.com/nmstate/nmstate/pull/2294 indicates, user might\nusing the same route table ID for IPv4 and IPv6 on different interfaces,\nwhen user desiring a route rule, nmstate are expected to find the\ncorrect interface for it.\n\nCurrent rust code works well, only adding integration test case for\nthis.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7f93c3743a7c4765e87b0d618f836e0a34f8f474", "commit_date": "2023-05-15T15:21:43Z", "commit_message": "nm: Skip connection activation if its controller will do\n\nFor new controller, its ports will be activated automatically by its\ncontroller via `autoconnect-slave` option in NetworkManager.\n\nWe skip actuation in NM when found new controller and new port when both\nboth controller and port never exist in current state. For OVS related\ninterfaces, we never skip activation.\n\nNo test case included as it is hard to observe(whether port been\nmanually activated) in CI. The performance of\n`test_lot_of_vlans_with_bridges` should be improved by this patch.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ac8a4dee863130cb2d9cd928afb9e23b1eb0f150", "commit_date": "2023-05-15T14:28:28Z", "commit_message": "OVS: Support OVS `netdev` datapath\n\nThe OVS `netdev` datapath will use TUN interface for OVS internal\ninterface, nmstate should merge this kernel TUN interface state with\nuser space OVS interface state, otherwise verification failure will\nhappen.\n\nThe `netdev` datapath is used for OVS DPDK. Manually tested with OVS\nDPDK on Intel E810-C card.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "18918451c3e6c9a67895b65427ed3255415db4e7", "commit_date": "2023-05-11T06:15:43Z", "commit_message": "gitignore: doc/nmstate.service.8\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8ea675b61bbac4248eaff308c9999d8ca5d39ede", "commit_date": "2023-05-05T03:54:41Z", "commit_message": "ip: Fix error when DHCP with auto IP address on STP enabled bridge\n\nWhen DHCP enabled with auto IP address on STP enabled bridge, nmstate\nwill fail with verification error:\n\n    Verification failure: br0.interface.ipv4.address desire '[]',\n    current 'null'\n\nThe root cause is STP suspended the DHCP action which cause current\nstate shows null IP address. And nmstate incorrectly treat [] != null\nfor IP address.\n\nFixed in `sanitize_current_for_verify()` to set empty array if None.\n\nTo reproduce this problem, we just enable DHCP with auto IP address\nwhere no DHCP server exists. Integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "21d63ed6846dc8a458fd4e81de7305a4ee2b6786", "commit_date": "2023-05-05T03:15:46Z", "commit_message": "CI: Fix error when running test locally\n\nWhen running `automation/run-tests.sh` with `sudo`, we get failure on\n\n    fatal: detected dubious ownership in repository at '/workspace/nmstate'\n    To add an exception for this directory, call:\n\n        git config --global --add safe.directory /workspace/nmstate\n\nFixed by run the `git config` in `container_pre_test_setup()`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c7b4773f8666870807d46180391d956236853d2c", "commit_date": "2023-05-04T13:27:23Z", "commit_message": "Run cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1e12f9ae2c0d5c787d3d4e8cb98d71ab7137c389", "commit_date": "2023-05-04T13:27:23Z", "commit_message": "CI: Sync container with latest CentOS stream 8 and 9\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c9fd1e80d3c87e1f844edcd86e9d36ae499ce717", "commit_date": "2023-04-23T10:26:53Z", "commit_message": "cli: Do nothing for `persist-nic-names` when got `net.ifnames=0`\n\nWhen `net.ifnames=0` is defined in kernel argument, systemd will disable\nthe predicable network interface name which make no sense for nmstate to\npin the interface names. Hence we do nothing in `persist-nic-names` in\nthat case.\n\nManually tested in CentOS stream 9 VM.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4fc0b3e09ad892e2b2da975b6786998729511ac6", "commit_date": "2023-04-23T10:26:34Z", "commit_message": "dep: Upgrade to nix 0.26.2\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e13e0a44a4ed2a2c90a0ac73a3065f874f03cca1", "commit_date": "2023-04-23T09:21:46Z", "commit_message": "Bump version to 2.2.11\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dc6a214972d8dc76daba408d250fe4ccc4b635f2", "commit_date": "2023-04-20T15:10:37Z", "commit_message": "cargo: Also vendor for s390 linux\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bd4103203698a5ecf621c86ccc6c841fc0ba481e", "commit_date": "2023-04-20T11:12:05Z", "commit_message": "New release 2.2.10\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Added CLI hiden `persist-nic-names` subcommand for OpenShift. (6f95011e,\n   03c7b03b, 5f4ede55)\n - Support static IP address on with auto ip stack. (334fcf2e)\n - Support static DNS search with auto DNS nameserver. (b222d5b1)\n - Support matching interface with MAC address. (508bbe74)\n - Support DHCP hostname/FQDN option. (ebe3fc86)\n\n=== Bug fixes\n - Ignore `dhcp-client-id` when DHCPv4 disabled. (16b42e0e)\n - Validate IP address type matching with ip stack type. (5f1107fd)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "76fb650acdab29e5dc98be96cba729ebf48712b3", "commit_date": "2023-04-20T11:12:05Z", "commit_message": "Add Fernando new GPG public key\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "035757ac4d96bb6fe2fea4f49fe99d6d61531647", "commit_date": "2023-04-20T10:49:02Z", "commit_message": "Upgrade dependency `env_logger`\n\nUpgrade `env_logger` to latest 0.10.0 as requested by Fedora.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ebe3fc86d0ea4e7c7d5eda4f4d0acaa541577aa1", "commit_date": "2023-04-20T10:44:34Z", "commit_message": "Feature: Support DHCP hostname/FQDN option\n\nIntroducing these two DHCP options:\n * `dhcp-send-hostname`: true of false, whether DHCP request should\n   contain hostname/FQDN option. Default is true.\n * `dhcp-custom-hostname`: String. Customer hostname/FQDN in DHCP\n   request.\n\nFor DHCPv4, if the hostname is FQDN, the 'Fully Qualified Domain Name\n(FQDN)' option(81) defined in RFC 4702 will be used.\nIf the hostname is not FQDN, the 'Host Name' option(12) defined in RFC\n2132 will be used.\n\nFor DHCPv6, custom string to override hostname used for DHCP request in\n`Fully Qualified Domain Name (FQDN)` option(29) defined in RFC 4704 as\nRFC 4704 allows empty domain name.\n\nExample YAML:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    type: ethernet\n    state: up\n    mtu: 1500\n    ipv4:\n      dhcp: true\n      dhcp-client-id: iaid+duid\n      enabled: true\n      dhcp-send-hostname: true\n      dhcp-custom-hostname: c9.example.org\n    ipv6:\n      dhcp: true\n      autoconf: true\n      enabled: true\n      dhcp-send-hostname: true\n      dhcp-custom-hostname: c9.example.net\n```\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "508bbe74e8bdef7a14c797e68959369e15e8dab6", "commit_date": "2023-04-20T09:52:54Z", "commit_message": "Feature: Matching interface with name\n\nIntroducing two properties to base interface:\n * `identifier` -- `name` or `mac-address`, default to `name`\n * `profile-name`: string\n\nWhen identifier been set to `mac-address`, nmstate will not use\n`interface.name` for NIC matching but use the `interface.mac-address`,\nThe `interface.name` will be used for `profile-name` when storing the\nnetwork configuration in backend.\n\nThe `profile-name` will be hide if it is equal to interface name.\n\nExample on creating MAC based profile:\n\n```yml\n---\ninterfaces:\n  - name: wan0\n    type: ethernet\n    state: up\n    identifier: mac-address\n    mac-address: 1e:bd:23:e9:fb:94\n```\n\nYou may delete above profile using `name: wan0` or its real interface\nname.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fb3b453ff3fb204ef3e149e05087fbff51593e21", "commit_date": "2023-04-20T09:52:54Z", "commit_message": "test: Remove leftover of `test_add_qinq_vlan`\n\nThe test case `test_add_qinq_vlan` forgot to remove the interface on\nfinish.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5548b34f52475a319aa61f8b8cf090d9582565c7", "commit_date": "2023-04-20T09:52:54Z", "commit_message": "Run cargo fmt, cargo clippy and python black\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "765c4c09f8190f58ca3b426c2bbe24cfeae88488", "commit_date": "2023-04-20T09:33:06Z", "commit_message": "New public key of Gris Ge as SHA1 deprecated\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5f4ede551b98856b2d1503b104c152d8d0fd67c4", "commit_date": "2023-04-20T08:08:44Z", "commit_message": "cli: Delete `persist-nic-names` stamp file after cleanup\n\nThis makes the `--cleanup` operation idempotent since it alreayd knows\nto no-op if the stamp file is missing. But also, the MCO can use the\npresence of the stamp file to know to even call `--cleanup`. Finally,\nthis \"resets\" the state so that we could in the future do this whole\ndance again for another RHEL transition.\n\nThe MCO logs will remember whether whether this logic was invoked, and\nthe link files are prefixed by `98-nmstate`, so there's no mistaking\nthat it was nmstate that wrote them.\n\nSigned-off-by: Jonathan Lebon <jonathan@jlebon.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5f1107fdfa8f2d6aac7993438329e985fc2bc586", "commit_date": "2023-04-20T06:02:03Z", "commit_message": "ip: Validate IP address type matching with ip stack type\n\nWe should raise `InvalidArgument` error when user define IPv6 address in\nipv4 section or vise versa.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b222d5b169a928e6af2a29c305e5891b2c0306e3", "commit_date": "2023-04-20T05:51:42Z", "commit_message": "dns: Support static DNS search with auto DNS nameserver\n\nIntroduce the support of static DNS search along with DNS nameserver\nlearn from DHCP/autoconf.\n\nFor implementation in NM, we try this order to find a interface to store\nthe DNS config:\n * Desired interface which currently hold DNS config and still valid for\n   DNS.\n * Auto interface, prefer desired interface.\n * IP enabled interface, prefer desired interface.\n\nWe will not use global DNS for this use case\nas it will suppress DNS nameserver learn from DHCP.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "03c7b03bd4c9b0067d3811dbbf72635201519356", "commit_date": "2023-04-19T16:27:14Z", "commit_message": "cli: Support clean up for `persist-nic-names` command\n\nThe whole workflow:\n\n * Use `nmstatectl persist-nic-names` to pin *every* ethernet interface to its\n   MAC via systemd .link file.\n * After boot into new environment, `nmstatectl persist-nic-names --cleanup`\n   will remove un-required systemd .link file.\n\nKey tech point:\n\n    Use `udevadm test-builtin net_id /sys/class/net/<iface_name>` to check\n    systemd preferred interface name and compare to current interface\n    name.\n\nExtra changes:\n\n * Removed `should_persist_nic_for()` as we are pinning every ethernet\n   interface.\n * Comment changed from `\\\\\\` to `\\\\` as this is not public\n   documentation.\n * The `--cleanup` might require chroot if running environment holds\n   different systemd/udev config than real host.\n\nTested:\n * CentOS stream 9 VM by renaming a existing interface to new name.\n\n * RHEL 8.8 and CentOS stream 9 on Mellanox MT27710:\n    * Not from upgrade, just reinstall CentOS stream 9 and restored the\n      nmstate created .link files.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "16b42e0e4e9c4cae3ec8b736ff9ee24dc63882a5", "commit_date": "2023-04-13T04:03:40Z", "commit_message": "ip: Ignore `dhcp-client-id` when DHCPv4 disabled\n\nWhen desire state has `dhcp-client-id` set with DHCPv4 disabled, nmstate\nverification will complain about:\n\n    NmstateVerificationError: Verification failure:\n    eth1.interface.ipv4.dhcp-client-id desire '\"ll\"', current 'null\n\nFixed by ignore `dhcp-client-id` and log a warning when DHCPv4 disabled.\nAlso hide the `dhcp-client-id` when querying if DHCPv4 disabled.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6f95011e23db8a8ff52583eb63d809777d1f19cb", "commit_date": "2023-04-11T03:16:22Z", "commit_message": "Add a hidden `persist-nic-names` command\n\nxref https://issues.redhat.com//browse/OCPBUGS-10787\n\nIn RHEL8 to RHEL9 upgrades, some NIC names may change; we saw\nthis in the wild with `mlx5` based interfaces at least.\nRHEL Leapp has logic to handle this, but adapting it to work\nwith rpm-ostree/coreos systems would be a heavy lift.\n\nThis logic is designed to be executed from a privileged container\n*before* the host upgrades, which fits in well with current\nOCP logic in the Machine Config Operator.\n\nSpecifically, https://github.com/openshift/machine-config-operator/pull/3650\nwill run this command.\n\nCo-authored-by: Gris Ge <fge@redhat.com>\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d79166ecc4b9d410c014a56b96ea61e5f33c76e9", "commit_date": "2023-04-11T03:16:22Z", "commit_message": "clib: Add `doc=false`\n\nWe want to document the Rust library.  This fixes invoking\n`cargo doc`.\n\nSigned-off-by: Colin Walters <walters@verbum.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "334fcf2e814a1bf01fbf2a6cfcc969d4d070d693", "commit_date": "2023-04-10T09:12:45Z", "commit_message": "ip: Support static IP address on with auto ip stack\n\nIntroducing two properties for IP address:\n * `valid-left`: seconds for IP address been valid. `forever` means\n   static.\n * `preferred_left`: seconds for IP address been preferred. `forever`\n   means static.\n\nWith above properties, we can identify which certain IP address is\nretrieved from DHCP/Autoconf so we don't convert dynamic IP address to\nstatic when user apply the queried state back.\n\nWith this patch, user is allowed to set static IP address with\n`dhcp: true` and/or `autoconf: true`.\n\nWhen desire state has DHCP/Autoconf disabled but all desired IP\naddresses are dynamic, nmstate will convert those dynamic IP to static.\nThis is common use case where user just copy retrieved dynamic IP and\nhoping nmstate can convert it to static.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dbb3426c557bcfd4a239a525a5fdfb196a37a964", "commit_date": "2023-03-28T08:59:34Z", "commit_message": "test: Add test case for preserving IP order of external managed interface\n\nAdd test case ensuring we preserve the IP address order when consuming a\nexternal managed interface.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6e701425af308d225e57e2d044dba108da626bd9", "commit_date": "2023-03-24T03:20:17Z", "commit_message": "Bump version to 2.2.10\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "25f9917cbb0120ff9ce16ec73a3ec35cb7d7f9ea", "commit_date": "2023-03-23T10:36:29Z", "commit_message": "CHANGELOG: Fix incorrect features for 2.2.9\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dbe890514a5544d9d212e55adacad942612220af", "commit_date": "2023-03-23T10:30:21Z", "commit_message": "New release 2.2.9\n\n=== Breaking changes\n - N/A\n\n=== New features\n - cli: New subcommand `format`. (4f8c1af5)\n - Including `controller` property on query. (85b682e9)\n - Support policy file in service mode. (2dc296e2)\n - clib: Introduce YAML support. (c40cbcb8)\n\n=== Bug fixes\n - Do not use current interface which is unmanaged/external managed. (221521e2)\n - Fix problem when consuming down interface in bridge/bond/etc. (1728ae21)\n - cli: Ignore failure when reading /etc/nmstate folder. (2c03f3c1)\n - nmstate.service: remain after exit. (beb2fee9)\n - nmstate.service: Fix the dependency chain in systemd. (8bef2741, 9971c1ca)\n - Fix problem when changing veth peer. (a6a32a3f)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a6a32a3f3d337828865a4a64f97d843fdafdd705", "commit_date": "2023-03-23T07:38:35Z", "commit_message": "nm: Refresh active connection after deletion\n\nProblem:\n\nWhen changing veth peer, we noticed nmstate try to run `reapply()` on\nveth which its connection been deactivated before activation, this is\nincorrect.\n\nRoot cause:\n\nBefore `activate_nm_profiles()`, we have `deactivate_nm_profiles()`,\n`delete_exist_profiles()` and `delete_orphan_ovs_ports()` which could\nimpact on active connections.\n\nFix:\n\nRefresh the active connection list during `activate_nm_profiles()`.\n\nTest:\n\nThis is very hard to test automatically, manually confirmed veth peer\nchange will not trigger NM reapply action.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6a01fbbf0ed9409dd3ecb1280ae2d1ed3001df1e", "commit_date": "2023-03-23T07:27:24Z", "commit_message": "test: Add test case for `nmstatectl format`\n\nSimple integration test case approving `nmstatectl format` can tidy up\nthe desire state.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9971c1ca2e5822d55f84776895ce000bd036926f", "commit_date": "2023-03-22T10:50:41Z", "commit_message": "cli: Place nmstate.service before network-online.target\n\nBy placing `nmstate.service` before `network-online.target`, we make\nsure other network required service only been started after\nnmstate.service finished its work on changing network.\n\nManually test in VM, the log indicate the `network-online.target` is\nreached after `nmstate.service` finished.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8bef27414e1dfba1b04700590456a90762bfddb3", "commit_date": "2023-03-22T07:56:38Z", "commit_message": "cli: Change install section of nmstate.service\n\nInstead of `WantedBy=multi-user.target` which install nmstate.service to\n`multi-user.target`, we should use `WantedBy=NetworkManager.service` to\nmake sure we only run nmstate.service when NetworkManager been enabled.\n\nManually tested in VM. Since this require OS reboot, no auto test case\nyet.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "beb2fee9293202712b46db56524b0b30affed27a", "commit_date": "2023-03-22T07:38:18Z", "commit_message": "nmstate.service: remain after exit\n\nThis is generally a good idea for oneshot units.  If we don't remain after\nexit, the unit will run and then immediately stop itself.  As a result, if\na dependent unit is started in a subsequent transaction, nmstate.service\nwill run again.  Furthermore, if the service is stopped, systemd will\nconsider any dependent targets to no longer be running.\n\nSigned-off-by: Benjamin Gilbert <bgilbert@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2c03f3c1ba90d819c4ec486799fc586e3c37e1ea", "commit_date": "2023-03-22T03:52:28Z", "commit_message": "cli: Ignore failure when reading /etc/nmstate folder\n\nWhen /etc/nmstate not exists or other failure when reading it, we should\nignore it and exist 0.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1728ae21acb8764f49e5db321a64cb5a5414b504", "commit_date": "2023-03-21T13:22:36Z", "commit_message": "state: Set interface as up when `mark_as_changed()`\n\n== Problem\n\nWhen user create a linux bridge using eth1 in down state without\nhaving eth1 desired, Nmstate will fail at verification stage complaining\nport list not match with desired.\n\n== Root cause\n\nThe `apply_ctrller_change()` invoke `mark_as_changed()` copied the\ncurrent interface state(down) which instructed backend to deactivate the\ninterface.\n\n== Fix\n\n * Changed `apply_ctrller_change()` to mark port interface as up if\n   its controller is up.\n * Ignore deactivation failure on `ConnectionNotActive`. (Required for\n   testing creating a `down` linux bridge.\n\n== Tests\n\nIntegration test cases included for original problem.\nAdditional test case included for creating a `down` linux bridge with\nports meaning nmstate just create config instead of activate them.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4f8c1af5520d59ca63e899f0224be053d9a087c5", "commit_date": "2023-03-21T07:18:39Z", "commit_message": "cli: New subcommand `format`\n\nIntroduce `format` subcommand, `nmstatectl` read state file and print out\nthe formated one.\n\nThe subcommand `format` has alias `f` and `fmt`.\n\nThis is developer use only tool, no test required.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "221521e20d1fd826dd13a94a4d6f4ce598faf714", "commit_date": "2023-03-21T07:08:17Z", "commit_message": "nm dns: Do not use current interface which is unmanaged/external managed\n\nWhen search interface from current state, we should not use `unmanaged`\nor `external managed` interface for storing DNS information.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fecd61c83f3b55c89a6b7ca2d449ae8fe1d29396", "commit_date": "2023-03-21T04:23:30Z", "commit_message": "CI: Include python3-gobject-base in c8s CI image\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c59032746911b29fdf7fd677d7bb10f7187a7024", "commit_date": "2023-03-21T04:23:30Z", "commit_message": "test: Fix `test_wait_sriov_vf_been_created` on mlx5 NIC\n\nOn some `mlx5_core` NIC, the `ip -d link show <pf_name>` does not have\nVF interface name, which will fail the `test_wait_sriov_vf_been_created`\nfor VF name not found.\n\nThe fix would be changed the test code to use this folder for VF\ninterface name as the production code:\n\n    /sys/class/net/{pf_name}/device/virtfn{sriov_id}/net/\n\nManually test on mlx5 MT27710 NIC.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "85b682e9cf80353d8488dd7f3487dbd47d98aaab", "commit_date": "2023-03-17T06:09:31Z", "commit_message": "show: Don't hide controller property\n\nFor use cases where we want to filter by interfaces not owned by a\nbridge showing the controller is quite helpful.\n\nSigned-off-by: Enrique Llorente <ellorent@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2993de94265fcba49ce1f2ea3fe9e0407045c745", "commit_date": "2023-03-13T16:26:19Z", "commit_message": "Bump version to 2.2.9\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ad669296545a0fb7f3bd9745155016c8fd474aaf", "commit_date": "2023-03-10T08:53:40Z", "commit_message": "New release 2.2.8\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Add VXLAN properties for EVPN use. (5a0ca407)\n - Support policy file in service mode. (2dc296e2)\n - clib: Introduce YAML support. (c40cbcb8)\n\n=== Bug fixes\n - Retry when NetworkManager starting up. (393828a6)\n - Fix `n-rxq-desc` and `n-txq-desc` properties. (b234f9dd)\n - Fix random failure when changing VLAN protocol. (b12effd5)\n - Fix fetching loopback information from NM plugin. (d3864c19)\n - Fix `make install` on Debian and Ubuntu. (4647cd11)\n - Adjust `is_match` to consider family and priority 0. (811db479)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "393828a64860990008d269b48b8150f948ca854b", "commit_date": "2023-03-09T08:15:56Z", "commit_message": "nm: Retry when NetworkManager starting up\n\nWhen OS boot up with `nmstate.service` enabled, nmstate will fail as\nNetworkManager daemon is not fully setup the DBUS interface yet.\n\nThe `nmstate.service` has `After=NetworkManager.service`. Considering\n`NetworkManager.service` is dbus type systemd service, it is guaranteed\nthat when `nmstate.service` starts, the DBUS interface is acquired by\nNetworkManager. The failure is\n`org.freedesktop.DBus.Error.UnknownMethod` as NetworkManager has not\nfinished the DBUS interface setup yet.\n\nThe `org.freedesktop.DBus.Error.UnknownMethod` is too generic, we cannot\nassume it as daemon not started with checking the error string.\nConsidering the DBUS error string is not an API, we will not parse that\nerror message. Instead, we change top level retry to cover on querying\nfailures in `apply()`. The retry has been expend to twice with 2 seconds\ninterval(was 1 second interval).\n\nThe `nmstatectl service` command will sleep 2 seconds to avoid the\nmeaningless retry.\n\nDo not want to create complex integration test case for this corner case.\nManually tested.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5a0ca407420772946184290461f6cf9652a3025e", "commit_date": "2023-03-08T07:20:55Z", "commit_message": "vxlan: Add VXLAN properties for EVPN use\n\nIn order to be able to use VXLAN interfaces as part of an\nEVPN fabric (separate control plane for VTEP and MAC learning),\nsome expansions are done to the configurable properties:\n\n- Make base-if non-mandatory\n\n  EVPN networks are often run on top of a L3 underlay, which\n  means that there are several L3 links to the host where\n  ECMP routing is desired. The VXLAN interface should not be\n  tied to any physical interface (and it's not required since\n  multicast is not used) and the egress interface is determined\n  through standard routing.\n\n- Allow specifying local IP\n\n  Since the VXLAN interface is not tied to any physical interface,\n  it is often desired to source the tunnel from a loopback IP.\n\n- Disable data plane MAC learning\n\n  In EVPN MAC learning is handled through a separate control\n  plane like MP-BGP (e.g. FRR as daemon) writing entries to the\n  bridge FDB.\n\nUnit test cases and integration test case included.\n\nSigned-off-by: Esa Varemo <git@esav.fi>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5919d2f6b7e0c237b781ef442607e0ec742d065f", "commit_date": "2023-03-08T03:26:12Z", "commit_message": "test: Add test case for OVS DPDK using gc mode\n\nUsing `gc` mode to test OVS DPDK without hardware, just verify the\noutput NM connection string contains desired strings.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2dc296e2238993441d877ea44bdb62da83fff1ac", "commit_date": "2023-03-06T14:24:31Z", "commit_message": "cli: Support policy file in service mode\n\nThis patch enable the support of policy file format in service mode\n(`systemctl start nmstate`).\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b234f9dd8c71cb904a6ec3fd390948dd05266b4c", "commit_date": "2023-03-06T14:23:04Z", "commit_message": "nm ovs dpdk: Fix `n-rxq-desc` and `n-txq-desc` properties\n\nIn previous code, we never send `n-rxq-desc` and `n-txq-desc` properties\nto NM, which cause those two options been ignored.\n\nManually tested using existing integration test cases.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0c9512f0af265df1a1f8fda28c8038452439ec27", "commit_date": "2023-03-01T13:49:58Z", "commit_message": "test: Add test for undesired iface holding unsupported config\n\nIt is legal for kernel interface holding `autoconf: true` and `dhcp:\nfalse`, when not desiring such interface, we should not fail because its\nunsupported config.\n\nNo production code changes required, just adding test case exists in\nnmstate-1.x branch.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b12effd546a32da5d66160017ec31a9097325bc2", "commit_date": "2023-03-01T11:22:27Z", "commit_message": "nm vlan: Fix random failure on `test_change_vlan_protocl`\n\nIn Github CI, we noticed random failure on `test_change_vlan_protocl`\ncomplaining failed to change VLAN protocol from 802.1ad to default\n802.1q.\n\nThe root case of previous code does not set VLAN protocol 802.1q\nexplicitly in NM connection for backwards compatibility but depend on\npre-activation deactivation for VLAN changes. There is race that when\nnmstate ask for reapply right after invoked NM connection deactivation.\n\nTo fix the problem, we set 802.1q explicitly when existing NM connection\ncontains protocol property.\n\nExisting integration test case `test_change_vlan_protocol` can cover\nthis problem here, no extra test required.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d3864c192ed3326acfe740e8fb349fd5ca4a7de0", "commit_date": "2023-02-28T16:29:55Z", "commit_message": "rules, nm: fix fetching loopback information from NM plugin\n\nWhen fetching the nm_dev and nm_conn we build a Nmstate iface. The logic\nfor Loopback type was missing.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "811db47945e9c1e237bdb00956d319ad48ef6e6f", "commit_date": "2023-02-28T16:29:55Z", "commit_message": "route rule: adjust `is_match` to consider family and priority 0\n\nIf the user specified the family we should use it when comparing. From\nkernel family is always set. In addition, this patch is matching if\npriority is 0 and None.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4647cd11c6ad8f37271245db83bfe17d59846c51", "commit_date": "2023-02-23T08:43:55Z", "commit_message": "Makefile: Support `make install` on Debian and Ubuntu\n\nUbuntu and Debian are using `/usr/lib/x86_64-linux-gnu` instead of\n`/usr/lib64` like Fodora/RHEL/CentOS, these are their statement.\n\n * https://wiki.debian.org/Multiarch/\n * https://wiki.ubuntu.com/MultiarchSpec\n\nChanged the Makefile to use correct folder when found\n`/etc/debian_version` file.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "26938eb5fccfd9a4ab1befa9d3238147cbba6b8a", "commit_date": "2023-02-22T22:51:05Z", "commit_message": "vlan: Update protocol when `update_vlan()`\n\nWhen merging VLAN information via `update_vlan()`, we should update\nprotocol also.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c40cbcb825bd034befa71ee9189e49cd548e4b1d", "commit_date": "2023-02-22T22:47:11Z", "commit_message": "clib: Introduce YAML support\n\nAllowing both YAML and JSON input, the output format will matching input\nformat.\n\nFor `nmstate_net_state_retrieve()`, user can use\n`NMSTATE_FLAG_YAML_OUTPUT` flag to instruct the output to be YAML\nformat.\n\nC lib integration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "03492cd75a119f9aaf9a7503b4f4773d9047a077", "commit_date": "2023-02-20T03:52:54Z", "commit_message": "CI: Use NM 1.42 branch as base line\n\nUsing NM 1.42 as base line testing.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b37098233da90ac521bca962d53777716b18b6ab", "commit_date": "2023-02-20T03:28:36Z", "commit_message": "Bump version to 2.2.8\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6b1a2c4cfd5199e1e864cea794e36590a13e886a", "commit_date": "2023-02-16T13:27:02Z", "commit_message": "New release 2.2.7\n\n=== Breaking changes\n- N/A\n\n=== New features\n- Support static route with auto ip. (4fa5689a)\n- Support VLAN 802.1ad and 802.1q protocol. (9923657a)\n- Support enabling SR-IOV and use future VF in single desire state. (20871bac)\n\n=== Bug fixes\n- Fix error when reverting SR-IOV VFs conf to default. (3bbb3c21)\n- Fix SR-IOV enabling and use in single desire state. (8f680180)\n- Use loopback interface as final fallback interface to store route rule. (fb7ace9d)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3bbb3c216000b4d68d41186874adb2307379c047", "commit_date": "2023-02-16T11:45:20Z", "commit_message": "sriov: Fix error when reverting VFS conf to default\n\nPrevious code does not revert VFS config to default when desiring\n`vfs: []`.\n\nThis is caused by `sanitize()` convert `vfs: None` for verification\nseek. To clarify the workflow, we have three type of sanitize now:\n * `sanitize(is_desired)` for current, `for_apply`, `for_verify` state\n   pre-edit clean up and check. The `is_desired` is used to suppress\n   logging and error checking for verify or current state.\n * `sanitize_current_for_verify()` clean up post-apply current state.\n * `sanitize_desired_for_verify()` clean up desired state before verify.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4fa5689af12c38128db8b6cad8d0762fa4c6fdf6", "commit_date": "2023-02-16T07:38:19Z", "commit_message": "ip: Support static route with auto ip\n\nSupporting assigning static route to interface with auto ip. For\nexample:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    type: ethernet\n    state: up\n    ipv4:\n      dhcp: true\n      enabled: true\n    ipv6:\n      dhcp: true\n      autoconf: true\n      enabled: true\nroutes:\n  config:\n  - destination: 198.51.100.0/24\n    metric: 150\n    next-hop-address: 192.0.2.1\n    next-hop-interface: eth1\n    table-id: 254\n  - destination: 2001:db8:2::/64\n    metric: 151\n    next-hop-address: 2001:db8:1::2\n    next-hop-interface: eth1\n```\n\nIntegration test case included and been marked as tier1.\n\nResovles: RHBZ#2169982\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9923657ab72a866f64e30123a1e983b2b4e5cc52", "commit_date": "2023-02-16T03:47:17Z", "commit_message": "vlan: Add VLAN protocol support\n\nIntroduce `vlan.protocol` support with:\n * `802.1q`: Default VLAN protocol\n * `802.1ad`: IEEE 802.1ad also known as stacked VLANs or QinQ\n\nExample YAML:\n\n```yml\n---\ninterfaces:\n  - name: eth1.101\n    type: vlan\n    state: up\n    vlan:\n      base-iface: eth1\n      id: 101\n      protocol: 802.1ad\n```\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "97cdee5f05bbcc80fad99aec59905ebcad2952f9", "commit_date": "2023-02-15T14:08:27Z", "commit_message": "CI: Remove VOLUME entry from Dockerfile\n\nPer https://bugzilla.redhat.com/show_bug.cgi?id=2155780 suggestions, we\nshould not use VOLUME entry in Dockerfile.\n\nAlso removed Fedora container image as we are not using it anymore.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9c22b5d7c53fbd11960ec3205df9c7a0db2dc23e", "commit_date": "2023-02-15T10:26:41Z", "commit_message": "test: Use retry on `test_replacing_port_set_mac_of_new_port_on_bond`\n\nThe github CI has 50% change of failing\n`test_replacing_port_set_mac_of_new_port_on_bond`, it might caused by\nslow server where bond MAC is not update to date yet.\n\nUse `retry_till_true_or_timeout()` when asserting MAC address.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8f6801800dfc2daac5d4d83ae1ca693b35e615e8", "commit_date": "2023-02-15T07:57:36Z", "commit_message": "sriov: Fix SR-IOV enabling and use in single desire state\n\nCurrently, we isolate SR-IOV PF changes out for `enable-and-use` use\ncase, but the second desire state contains no SR-IOV PF changes which\ncause the verification stage does not wait on VF shows up again.\n\nInstead of isolating PF changes out to apply first, we only clone PF\nchanges to apply first when VF count changed and has missing ethernet in\ndesire state. This means we will apply twice SR-IOV PF changes to ensure\nthe final apply also wait on VF shows up.\n\nUnit test cases included.\n\nCurrent integration test case `test_wait_sriov_vf_been_created` and\n`test_enable_sriov_and_use_future_vf` have covered the use case.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fb7ace9db317a626d78e35d97b2bc610353c8f73", "commit_date": "2023-02-14T09:47:43Z", "commit_message": "nm route rule: Use loopback interface as final fallback interface\n\nWhen we exhausted all the way to find a interface to store the routing\nroute, we use loopback interface. This is useful when user try to\nmodify route rule to 255(local) table, for example:\n\n```yml\nroute-rules:\n  config:\n    - route-table: 255\n      priority: 12345\n      family: ipv4\n    - route-table: 255\n      priority: 12346\n      family: ipv6\n```\n\nUnit and integration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ba42df5faed6923626f0ce824f9d4e46ffaef0e6", "commit_date": "2023-02-09T12:02:11Z", "commit_message": "CHANGELOG: New release 2.2.6\n\n* New features\n- Support Tokenised IPv6 identifiers. (91f8e45c)\n- Support local(255) route table. (a2051822)\n- Support enabling SR-IOV and use future VF in single desire state. (20871bac)\n\n* Bug fixes\n- Fix error when removing a port with IP enabled. (23cf28d7)\n- Fix error when bringing down an unmanaged interface. (50148b63)\n- Treat empty string to match None in routes. (b52557b9)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d25910a26316509e145335fed4f68f93d6075060", "commit_date": "2023-02-09T11:28:15Z", "commit_message": "nm ovs: Do not touch ovs-port when not required\n\nCurrent code will always create ovs-port when desire state just modify\nMTU of OVS system interface.\n\nThe fix is `iface_to_nm_connections()` only modify or create OVS port\nwhen controller is changed.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "20871bac631c216a00950c091916a7845ce32a43", "commit_date": "2023-02-09T11:28:15Z", "commit_message": "sriov: Support enabling SR-IOV and use future VF in single desire state\n\nWhen changing SR-IOV to add more VF interface, this patch allows user to\ncrate VF and use it in single desire state, for example with SR-IOV\ndisabled on eth1, you can apply this state:\n\n```yml\n---\ninterfaces:\n  - name: sriov:eth1:1\n    type: ethernet\n    state: up\n    ipv4:\n      enabled: false\n    ipv6:\n      enabled: false\n  - name: eth1\n    type: ethernet\n    state: up\n    ethernet:\n      sr-iov:\n        total-vfs: 2\n```\n\nThe implementation detail is introducing\n`MergedNetworkState.isolate_sriov_conf_out()` to __move__ ethernet\nsection to new `MergedNetworkState` if SR-IOV config desired. This new\nPF only state will be applied first and the follow-up verification\nprocess will wait all VF shows up before proceed the original\nMergedNetworkState.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a2051822eaa3d839d016acb26afe5d7a6e75fa83", "commit_date": "2023-02-09T11:05:50Z", "commit_message": "route: Add support of local(255) route table support\n\nPreviously, we are filtering out all routes from 255(local) route table\nwhich cause verification failure when user desired so.\n\nRemoved the restriction in nispor plugin.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7545c0bfa15db969196797d6ef1a62ecc034d367", "commit_date": "2023-02-09T10:15:28Z", "commit_message": "test: Remove xfail of `test_apply_empty_state_preserve_routes`\n\nThe bug of `test_apply_empty_state_preserve_routes` is already fixed.\nThe reason it is failing is just the order of route between IPv6 and\nIPv4.\n\nFixed the test case and removed the xfail tag.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4d0d642a44c675ffa39b961ae8c8e6b94f363f30", "commit_date": "2023-02-09T09:50:54Z", "commit_message": "route rule: automatically set route rule priority\n\nWhen user appending route rule without priority to existing ones,\ncurrent nmstate code will have multiple 30000 priority. For example:\n\n    30000:  from 203.0.113.0/24 to 192.0.2.0/24 lookup 50 proto static\n    30000:  from 203.0.113.2 to 192.0.2.2 lookup 50 proto static\n\nFixed by always set auto increasing priority before sending to NM backend.\n\nIntegration and unit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "91f8e45cb181fddaa9e7c5d2e448a0639a581fe3", "commit_date": "2023-02-07T13:02:58Z", "commit_message": "ipv6: Support Tokenised IPv6 Identifiers\n\nSimilar to `ip token set ::123/64 dev eth1` which setting the IPv6\naddress retried from IPv6 RA/autoconf to `<ra_prefix>::<token>`.\n\nExample yaml:\n\n```yml\n---\ninterfaces:\n- name: eth1\n  state: up\n  ipv6:\n    token: ::fac1\n    autoconf: true\n    dhcp: true\n    enabled: true\n```\n\nTo remove the IPv6 token, you may set use:\n * Empty string: `token: \"\"`\n * Explicitly all zero: `token: \"::\"`\n\nDue to kernel limitation, you cannot set IPv6 token to all zero.\n\nYou will get invalid argument error when:\n * Specified token not been started with 64 bits of 0.\n * Setting `autoconf: false` with non-empty token and non-all-zero token.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b52557b9fccef4b10f654505137273fa6b1108de", "commit_date": "2023-02-07T11:51:57Z", "commit_message": "route: Treat empty string to match None\n\nWhen user desiring absent route or route rule with empty string, it\nshould means this absent route only matches current route/route_rule\nwith this property been set to None.\n\nFor example on route rule:\n\n```yml\n- ip-to: 2001:db8:b::/64\n  ip-from: ''\n  state: absent\n```\n\nShould match\n\n```yml\n- ip-to: 2001:db8:b::/64\n  priority: 1000\n  route-table: 50\n```\n\nShould not match\n```\n- ip-from: 2001:db8:b::/64\n  ip-to: 2001:db8:b::/64\n  priority: 20000\n  route-table: 50\n```\n\nThis change applied to `ip-from` and `ip-to` in route rule.\nThis change applied to `next-hop-address` in route.\n\nThe empty string in route destination is invalid IP address string, user\nshould set it to null/None or use proper IP address.\n\nUnit test cases and integration test cases included.\n\nThere is no integration test case as empty `next-hop-address` require\npoint to point interface which does not exist in CI. Unit test case is\nenough for this use case.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "311e5edee89e606367f9359b4b7a95c2fc9fb193", "commit_date": "2023-02-07T11:33:17Z", "commit_message": "ovs: fix clippy warnings\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "50148b63146c662d512cc98385e38c3670c705fc", "commit_date": "2023-02-07T11:33:17Z", "commit_message": "nm: Fix error when bring down unmanaged interface\n\nWhen set `state: down` for unmanaged interface, nmstate will fail on\nverification. This is because nmstate did not convert the interface to\nmanaged before deactivate the profile.\n\nThe fix is create profile for unmanaged down interface, activate it then\ndeactivate it, for virtual interface, delete the link also.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "23cf28d75fee2ac4ca0ae4a5b565d95fe40e85bf", "commit_date": "2023-02-06T15:46:11Z", "commit_message": "ip: Fix error when removing port with IP enabled in current\n\nThe kernel allows IP been assigned to ports even it is not correct.\nIn this mis-configured environment, marking that port as absent will\nfail with:\n\n    Interface eth1 cannot have IP enabled as it is attached to a\n    controller where IP is not allowed\n\nPlease check unit test case `test_absent_iface_holding_controller_and_ip` for\ndetail reproducer.\n\nThis is caused by two problems:\n\n    * The `resolve_unknown_ifaces()` is cloning the whole current\n      interface which contains both controller information and IP stack\n      interface.\n\n    * The `validate_can_have_ip()` is checking on absent interface.\n\nThe fixes are:\n    * The `resolve_unknown_ifaces()` will only clone type and name for\n      unknown interface.\n    * The `validate_can_have_ip()` do not check on absent interface.\n\nUnit test case included. Since this is not a valid use case, no\nintegration test case required.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "070deeb13a53e84c30e0b95ec2ddc94b4607c7fc", "commit_date": "2023-02-02T02:52:47Z", "commit_message": "Packit: Enable network access for cargo\n\nThe packit build need network access for cargo to fetch crates.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "03db22f2e315982fe2fa24642f7ac453f10f233e", "commit_date": "2023-02-01T13:56:04Z", "commit_message": "k8s: Bump kubevirtci to use 1.24\n\nSigned-off-by: Enrique Llorente <ellorent@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "575d975e194c7b66c69c7968b091621b8394cad6", "commit_date": "2023-01-27T10:35:54Z", "commit_message": "tests, integ: clean vlan101 interface correctly\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fd7860c434119c5dfa32381c5801dc0376375621", "commit_date": "2023-01-26T11:24:35Z", "commit_message": "VERSION: Bump version to 2.2.6\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "124009134c99b5ecaab1d271f079482865a258ce", "commit_date": "2023-01-26T10:34:07Z", "commit_message": "CHANGELOG: New release 2.2.5\n\n* New features\n- Support ECMP IPv4 routes. (b1b275cd)\n- Support OVS DPDK `n_rxq_desc` and `n_txq_desc` options. (936ac46a)\n- Support arbitrary DNS configuration. (a9397549)\n\n* Bug fixes\n- Fix route destination address validation error. (012052c3)\n- Fix route next-hop-interface missing validation. (40970942)\n- Fix error when new DNS interface hold IPv6 link local address only. (4e21e359)\n- Fix error when adding an OVS internal interface to an empty OVS bridge. (d6cd548f)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5ab3fba2040470ae565e87ea3d29daf8a59f4d40", "commit_date": "2023-01-26T10:17:01Z", "commit_message": "cli: Show syntax error detail when deserializing\n\nShow NetworkPolicy parse error if given yaml/json contains `desired` or\n`desiredState`, otherwise, show NetworkState parsing error.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d6cd548fff73e3557054eed2a359720135e47fbd", "commit_date": "2023-01-26T09:23:53Z", "commit_message": "ovs: Fix error when adding internal interface\n\nCurrent state:\n    * br1 OVS bridge has br1 OVS internal interface.\n\nDesire state:\n    * Replace this `br1` ovs internal interface with `ovs0`.\n\nError message:\n    Interface ovs0 cannot be in up state as its parent br1 has been\n    marked as absent\n\nRoot cause:\n * The `handle_changed_ports()` marked the orphan `br1` ovs interface as\n   absent.\n * The `ovs0` parent is now `br1`.\n * The `mark_orphan_interface_as_absent()` incorrectly think the `ovs0`\n   is depending on removed `br1` OVS interface.\n\nFixes:\n * The `mark_orphan_interface_as_absent()` should not check\n   `InterfaceType::OvsInterface` as it was be processed by\n   `handle_changed_ports()`.\n\n * Add additional check to fail when user desire the orphan interface as\n   `state: up`.\n\nIntegration test cases and unit test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "972ed25d41470e7b696528fb053f977f2ab6de27", "commit_date": "2023-01-26T08:30:26Z", "commit_message": "ipv6: Fix verification error on empty address list\n\nWhen user desiring empty list of IPv6 address, they get verification\nerror.\n\nTo fix it, we just set empty list of IPv6 address as None in\n`sanitize_for_verify()`.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4e21e35921b46f8f99c5aaa74e8a9ef569af0f38", "commit_date": "2023-01-26T08:10:31Z", "commit_message": "nm dns: Fix error when new DNS interface hold IPv6 link local address only\n\nWhen storing DNS to interface, the `reselect_dns_ifaces()` might use\na desired interface with current state holding IPv6 link local address only.\nThis will trigger a bug log(not error):\n\n    BUG: The dns interface is hold None IP {iface:?}\n\nRoot cause:\n * The `is_iface_valid_for_dns()` is checking `merged` interface state.\n * The `set_iface_dns_conf()` is using `for_apply` interface state.\n\nFixes:\n * Before calling `set_iface_dns_conf()`, copy IP stack from current.\n\nImprovement:\n * Move `is_iface_valid_for_dns()` to `nm/dns.rs` as it is NM specific\n   code.\n * Add `is_iface_prefered_for_dns()`. So we prefer desired interface\n   with desired IP stack info as DNS interface.\n * Interface with IPv6 link local address only is not preferred.\n * Raise error `set_iface_dns_conf()` if IP stack is None instead of log\n   only.\n * Sort the interfaces to make sure we are consistent on DNS interface\n   choice. Also make the problem be consistent instead of randomly\n   depend on HashMap::iter() order.\n * Removed noisy debug log which is not useful for debugging this issue.\n\nSince the original problem is random failure, it is hard to reproduce it\nusing integration test case. Added unit test cases instead.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a93975496002ef407198ff835e6563fe09f3c0a2", "commit_date": "2023-01-25T15:13:52Z", "commit_message": "nm dns: Support arbitrary DNS config\n\nBy using the `org.freedesktop.NetworkManager.GlobalDnsConfiguration`\nDBUS API, we can modify the `/etc/resolve.conf` directly overriding DNS\nsettings in NM profiles/connections.\n\nWe use this as fallback method when we failed to store DNS into\ninterface profile. And a warning message will be shown as:\n\n    Cannot store DNS to NetworkManager interface connection:\n    NotImplementedError: Placing IPv4/IPv6 nameserver in the middle of\n    IPv6/IPv4 nameservers is not supported yet\n\n    Storing DNS to NetworkManager via global dns API, this will cause\n    _all__ interface level DNS settings been ignored\n\nThis will not be used for `gen_conf` mode. User still get error when not\nable to store DNS into interface profile.\n\nRemoved the xfail of integration test case for `ipv6+ipv4+ipv6` and\n`ipv4+ipv6+ipv4` name server format.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "936ac46a5c0cfb815f388c1d50ce1895ede47c8d", "commit_date": "2023-01-25T14:42:11Z", "commit_message": "ovs dpdk: Add support of `n_rxq_desc` and `n_txq_desc`\n\nAdd support of `n_rxq_desc` and `n_txq_desc` for OVS DPDK. Please refer\nto manpage of `ovs-vswitchd.conf.db` for detail.\n\nThis patch also create alias for old property `rx-queue` to `n_rxq`, so\nthat we be consistent on OVS database naming scheme.\n\nExample yaml:\n\n```yaml\n---\ninterfaces:\n- name: ovs0\n  type: ovs-interface\n  state: up\n  dpdk:\n    devargs: \"0000:af:00.1\"\n    n_rxq: 100\n    n_rxq_desc: 1024\n    n_txq_desc: 2048\n- name: br0\n  type: ovs-bridge\n  state: up\n  bridge:\n    options:\n      datapath: \"netdev\"\n    port:\n    - name: ovs0\novs-db:\n  other_config:\n    dpdk-init: \"true\"\n```\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "012052c39b64133d7c915c42a8aa3073ea48f642", "commit_date": "2023-01-25T13:51:00Z", "commit_message": "route: Validate the route destination address\n\n'0.0.0.0/8' and its subnet should never be used as the destination\naddress for the route, and it may be a typo of the default gateway,\nthus raise the error during the route validation.\n\nSigned-off-by: Wen Liang <liangwen12year@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9e928f7bece1aad8752ea071d18b01ad970b9aef", "commit_date": "2023-01-25T13:51:00Z", "commit_message": "rust/lib: Replace unwrap_or with unwrap_or_else\n\nWhen passing the result of a function call, it is recommended to use\nunwrap_or_else instead of unwrap_or.\n\nhttps://rust-lang.github.io/rust-clippy/master/index.html#or_fun_call\n\nSigned-off-by: Wen Liang <liangwen12year@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "40970942e9a95785926d1942cbc92b3c61cefada", "commit_date": "2023-01-25T13:51:00Z", "commit_message": "routes: validate desired routes when creating MergedRoutes\n\nThis is the right place where we should validate the desired routes.\nThis call was missing and before there wasn't validation at all.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8949a4dc359f69f557a35d6d20b39c6dbc5b0994", "commit_date": "2023-01-23T13:33:41Z", "commit_message": "VERSION: Bump version to 2.2.5\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b1b275cdf21a738d87f5b20f253beee64832ea40", "commit_date": "2023-01-23T09:12:03Z", "commit_message": "Route: Support IPV4 ECMP routes\n\nAdd `weight` property to route for ECMP route. Example YAML:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    type: ethernet\n    state: up\n    ipv4:\n      address:\n      - ip: 192.0.2.251\n        prefix-length: 24\n      dhcp: false\n      enabled: true\n\nroutes:\n  config:\n  - destination: 198.51.100.0/24\n    metric: 150\n    next-hop-address: 192.0.2.1\n    next-hop-interface: eth1\n    weight: 2\n    table-id: 254\n  - destination: 198.51.100.0/24\n    metric: 150\n    next-hop-address: 192.0.2.2\n    next-hop-interface: eth1\n    weight: 25\n    table-id: 254\n```\n\nCurrently, IPv6 ECMP is not supported, nmstate will raise\n`NotSupportedError` when desired IPv6 route with `weight`.\n\nIntegration and unit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "39a056947abc390623d1bd47a7089a1c702dc80e", "commit_date": "2023-01-18T14:38:34Z", "commit_message": "CHANGELOG: New release 2.2.4\n\n* Breaking changes\n- Support interface level `other_config`. (8ec213b8)\n\nThe rust API changed: `OvsBridgeBondConfig.other_config: Option<HashMap>`\nchanged to `OvsBridgeBondConfig.ovs_db: Option<OvsDbIfaceConfig>`.\n\nThe YAML API changed: The `other_config` under OVS bond should be stored under\n`ovs-db` section.\n\n* Bug fixes\n- Fix support DNS uncompressed IPv6 server. (8fbb93a5)\n- Fix validation error on route rule when `ip-to` and `ip-from` is empty string. (c2e69269)\n- Fix `group-fwd-mask` conflict with `group-forward-mask` Linux bridge option. (e079f1d)\n- Fix partial detaching ports in OVS bond interfaces. (e2b3ea72)\n- Fix verification error when OVS daemon is off. (ae3f45a7)\n- Fix MPTCP error in older NetworkManager. (f38da12c)\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f38da12c48549a1306f61044e6d421a15ea047df", "commit_date": "2023-01-18T13:50:53Z", "commit_message": "mptcp: Fix mptcp error on older NetworkManager\n\nWith NM 1.36, this is the status nmstate shows:\n\n```yml\ninterfaces:\n- name: eth1\n  type: ethernet\n  ipv4:\n    enabled: true\n    address:\n    - ip: 192.0.2.251\n      prefix-length: 24\n  ipv6:\n    enabled: true\n    address:\n    - ip: 2001:db8:1::1\n      prefix-length: 64\n  mptcp:\n    address-flags: []\n```\n\nBut when applying the same state back, nmstate will fail with\n\n    NmstateValueError:\n    Connection(InvalidProperty):connection.mptcp-flags: unknown property\n\nThis is because NM 1.36 does not support MPTCP yet.\n\nTo fix this problem, when MPTCP is not supported, we remove mptcp\nsettings from NM connection before sending to NM daemon.\n\nRemoved `ovs2_11-nm_stable-integ_tier1` as we never see a problem caused\nby different version of OVS.\n\nAdded `c9s-nm_1.36-integ_tier1`, `c9s-nm_1.36-integ_tier2` and\n`c9s-nm_1.36-integ_slow` to make sure we works well on NM 1.36 branch.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8ec213b8cb4abeaeca0805b412aebe0cc9c567f3", "commit_date": "2023-01-18T08:40:39Z", "commit_message": "ovs: Support interface level `other_config` (api break)\n\nThe Rust API changed:\n\n    The `OvsBridgeBondConfig.other_config: Option<HashMap>` changed to\n    `OvsBridgeBondConfig.ovs_db:  Option<OvsDbIfaceConfig>`\n\nThe YAML API changed:\n\n    The `other_config` under ovs bond should be stored under `ovs-db`\n    section, please check follow up example for detail.\n\nConsidering the interface level `other_config` never works in previous\nrelease, this is API change is acceptable.\n\nExample on `other_config` of OVS bridge:\n\n```yml\ninterfaces:\n- name: br0\n  type: ovs-bridge\n  state: up\n  ovs-db:\n    other_config:\n      in-band-queue: '12'\n  bridge:\n    port:\n    - name: eth1\n    - name: ovs0\n```\n\nExample on `other_config` of OVS Bond:\n\n```yml\n- name: br0\n  type: ovs-bridge\n  state: up\n  bridge:\n    port:\n    - name: bond1\n      link-aggregation:\n        mode: balance-slb\n        ovs-db:\n          other_config:\n            bond-miimon-interval: \"100\"\n        port:\n          - name: eth2\n          - name: eth1\n```\n\nExample on `other_config` of OVS interface:\n\n```yml\n- name: eth1\n  type: ethernet\n  state: up\n  ovs-db:\n    other_config:\n      emc-insert-inv-prob: 90\n```\n\nWe hide interface level `ovs-db` section if it is empty. This help us\nsupporting older NetworkManager where `other_config` is not supported\nyet. User will get error when they apply above yaml on old\nNetworkManager:\n\n    NmstateError: DependencyError: Please upgrade NetworkManager for\n    specified interface type: Connection(InvalidSetting):ovs-other-config:\n    unknown setting name\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e2b3ea72b9c68fdf1ed11d255132a2019eb1f13b", "commit_date": "2023-01-17T11:39:15Z", "commit_message": "nm ovs: Do not delete OVS bond port still in use\n\nWhen detaching 2 ports from a existing OVS 4 ports bond, nmstate NM\nplugin will remove the OVS bond port connection via\n`delete_orphan_ovs_ports()` which cause failure in follow up activation.\n\nThe fix is instruct `delete_orphan_ovs_ports()` do not delete profiles\nbeen marked in `nm_conns_to_activate`.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e079f1d9e7453d1cebfe5213eacf5ed2fa8ee7c6", "commit_date": "2023-01-17T11:22:33Z", "commit_message": "linux bridge: Handle group-fwd-mask conflict with group-forward-mask\n\nThe `group-forward-mask` is alias of `group-fwd-mask` for backwards\ncompatibility.\n\nUser should get InvalidArgument error when these two options are\nconflicting. For other valid use cases, they all unified into\n`group-fwd-mast` for applying and verifying.\n\nUnit test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c2e69269f940d55c817befde0977e50abea8764f", "commit_date": "2023-01-17T11:22:12Z", "commit_message": "route and route rule: Treat empty IP string as None\n\nWhen deleting route or route rule with empty string like\n\n```yml\n- ip-to: 2001:db8:1::2/64\n  ip-from: ''\n  state: absent\n```\n\nNmstate will fail with error on `Invalid IP network: invalid IP address\nsyntax`.\n\nFixed by treating empty IP string as None during `sanitize()` and\n`is_match()`.\n\nUnit test cases and integration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8fbb93a51301e112c986a3c791e142a31fd4beb0", "commit_date": "2023-01-17T10:57:14Z", "commit_message": "dns: Support uncompressed IPv6 server\n\nWhen user desiring DNS nameserver as uncompress IPv6\nformat or other legal format like `2001:Db8:0:0:0:0:0:1`, nmstate is\ncomplaining with VerificationError.\n\nFixed by sanitize DNS server before apply and verify.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "87443ef6cc36ecf717ec5d11b521e6c48709b7f2", "commit_date": "2023-01-12T16:12:18Z", "commit_message": "test bond: Retry when asserting MAC address\n\nThe github CI is randomly failing\n`test_new_bond_uses_mac_of_first_port_by_name` with MAC address\nmismatch.\n\nThis is because the desire state applied does not contain MAC address,\nthe `libnmstate.apply` will not wait on its MAC been properly set by\nkernel or NM.\n\nTo fix the random failure, this patch use `retry_till_true_or_timeout()`\nto retry when asserting MAC address of bond interface.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0b2deca7a8da55454fb26423b16fc329f5e8122f", "commit_date": "2023-01-11T09:52:38Z", "commit_message": "Bump version to 2.2.4\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ae3f45a725cb2639ef9e4c6fab1aead0debe7c29", "commit_date": "2023-01-10T17:02:17Z", "commit_message": "ovsdb: Fix verification error when ovs daemon off\n\nWhen applying `ovs-db: {}` with ovs daemon stopped, nmstate will fail\nwith:\n\n    NmstateError: VerificationError: Verification failure:\n    ovsdb.external_ids desire '{}', current 'null'\n\nFixed by treating `ovs-db: {}` as\n\n```yml\novs-db:\n  external_ids: {}\n  other_config: {}\n```\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8fbca078f0798ab752c62c9121c7d77c3daf3a8c", "commit_date": "2023-01-09T05:50:01Z", "commit_message": "New release 2.2.3\n\n=== Breaking changes\n - Minimum supported rust version changed from 1.60 to 1.58. (d2f669ed)\n\n=== New features\n - Support OVS VLAN filtering in trunk mode. (dce50734)\n - Support parital modification of SR-IOV VF config. (92827cbb)\n - Querying OVS database instead of NM daemon. (625fdb7a)\n\n=== Bug fixes\n - Fix regression on VRF interface. (3c88135d)\n - Improve NM retry. (2a506379)\n - Improve NM checkpoint refresh. (94c7341a)\n - Fix LLDP error on `neighbors` property. (0a6fac0e)\n - Improve state merging. (19133302)\n - Fix error when moving dns from port to controller. (f619d8b4)\n - Empty IPv4 address should be considered as disabled. (23535503)\n - Auto manage ignored port in desired controller. (399c46b2)\n - Fix error when searching default route table ID for route rule. (053db219)\n - Raise proper error when desired IPv6 enabled with MTU < 1280. (76379ae9)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "76379ae98b60ac38347dc9063c7b6b1456649280", "commit_date": "2023-01-09T04:51:02Z", "commit_message": "ipv6: raise proper error when MTU < 1280 and IPV6 enabled\n\nWhen IPv6 enabled, MTU should be bigger or equal to 1280.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "053db21965360cc23014dea212099fec7babc375", "commit_date": "2023-01-09T01:24:51Z", "commit_message": "nm route rule: Support searching default route table ID\n\nWhen desiring a route rule to table 254(main), nmstate should try to search\ninterfaces hold 254 as auto route id or static route to 254.\n\nDuring route rule sanitize, we should explicitly set `RouteRuleEntry` to\nroute table id 254 when both `action` and `table-id` is None.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "399c46b2730d15153fb46e1aaffb8d3fbb7d5fa7", "commit_date": "2023-01-08T13:36:30Z", "commit_message": "controller: Auto manage ignored port in desired controller\n\nWhen desired controller listed currently ignored interfaces as its\nport, nmstate will automatically convert these ignored interfaces from\n'state: ignore' to 'state: up' only when:\n 1. This ignored port is not mentioned in desire state.\n 2. This ignored port is listed as port of a desired controller.\n 3. Controller interface is new or does not contain ignored interfaces\n    currently.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8113ffc9a6122f6e60ac7f080faf0cf254878e9e", "commit_date": "2023-01-08T13:06:22Z", "commit_message": "bridge vlan: Add more sanity check\n\nAdd checks for these invalid use cases for both linux bridge and ovs\nbridge:\n\n * VLAN trunk mode with tag defined but without enable-native: true.\n * Overlap of VLAN trunk tags.\n * Access mode with enable-native: true defined.\n * Trunk mode without trunk-tags defined.\n * Access mode with trunk-tags defined.\n\nUnit test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f1f55fb5cc447f2bd589b45d13177b67bad1549a", "commit_date": "2023-01-08T09:23:22Z", "commit_message": "test: Add test for vlan with both parent and controller\n\nWith a VLAN attached to a controller, it holds both parent and\ncontroller information, when its controller been marked as absent,\nthe VLAN should be marked as absent automatically without causing any\nfailures.\n\nUnit test case and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "83cf0f1f4e8b43a92fbc808e21605ea69284459b", "commit_date": "2023-01-08T08:41:24Z", "commit_message": "veth: No allowing creating veth without veth peer\n\nWhen user is desiring new veth interface without veth peer, nmstate\nshould complains like:\n    Veth interface veth1 does not exists, peer name is required for\n    creating it\n\nInstead of `Ethernet interface veth1 does not exists`.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "23535503b3666f9ff83e0e5c98f1690871784eec", "commit_date": "2023-01-06T12:40:14Z", "commit_message": "ip: Empty IPv4 address should be considered as disabled\n\nThe empty IPv4 address is considered as IPv4 stack disabled.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f619d8b486c7537d693d7665f767d1526f28c323", "commit_date": "2023-01-06T11:54:41Z", "commit_message": "nm dns: Fix error when moving dns from port to controller\n\nWhen moving IP and DNS config from port to controller, nmstate will fail\nwith verification error as nmstate failed to store DNS config to\ncontroller.\n\nFixed by:\n * `apply_ctrller_change()` should purge IP stack if interface is not\n   valid to IP any more in merge state.\n\n * `store_dns_config()` should reconfig the DNS if changed interface is\n   DNS interface and not valid for current DNS anymore even DNS config\n   not changed.\n\n * `purge_dns_config()` should do nothing for absent interface.\n\nIntegration test case crated for two use cases:\n * Move identical IP and DNS config from port to controller.\n * Move identical IP from port to controller but with DNS changed.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "efd2e53023c09565b82a4a009c52b88fd55d00f7", "commit_date": "2023-01-06T08:48:35Z", "commit_message": "test: Ignore route metric in test\n\nthe `test_add_gateway` will fail if\n`NetworkManager-config-connectivity-redhat` installed.\n\nThe `NetworkManager-config-connectivity-redhat` will add 20000 to\nrequested metric before global connectivity checks out.\n\nNmstate production code ignore metric during verification. Changed the\ntest case to ignore metric also.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "78dc99fcd59c6c854bea79f3797c4f61de195d97", "commit_date": "2023-01-06T07:32:53Z", "commit_message": "ovs: Fix incorrect ovs bond mode\n\nThe `balance-tcp` mode also have `lacp: active` in database, we should\nonly set `lacp` mode when not `balance-tcp` mode.\n\nIntegration test case created to cover all four ovs bond mode.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d2f669ed3d50f2acea106d16ab8cd58d0a54f315", "commit_date": "2023-01-06T04:23:43Z", "commit_message": "cargo: Support rust 1.58\n\nAdd support of rust 1.58 which is shipped by RHEL 8.6 and 9.0 by:\n * Remove the use of named dependency which is for rust 1.60+.\n * Fixed a compile warning as rust 1.58 is not smart enough:\n\n    cannot borrow `self.user_ifaces` as mutable because it is also\n    borrowed as immutable\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c59a9cb3406154b43de4645c749818854de7398d", "commit_date": "2023-01-05T14:31:40Z", "commit_message": "test: Add test for assigning IP to detached port\n\nWe should allow assigned IP to port where its controller is marked as\nabsent.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1913330214950db36efd616d7df6218949fdf626", "commit_date": "2023-01-05T12:50:49Z", "commit_message": "state: Introduce crate level API - `MergedNetworkState`\n\nRewrite the state merging process of nmstate into `MergedNetworkState` which\ncontains:\n * `MergedHostNameState`\n * `MergedDnsState`\n * `MergedInterfaces`\n * `MergedOvsDbGlobalConfig`\n * `MergedRoutes`\n * `MergedRouteRules`\n\nThe most important `MergedInterfaces` performs actions in the order of:\n 1. `MergedInterface.pre_inter_ifaces_process()` for actions required to\n    be done before follow up. For example, empty OVS bridge should have\n    a OVS internal interface auto created.\n 2. `MergedInterfaces.process()` for actions require knowledge of\n    multiple interfaces.\n 3. `MergedInterface.post_inter_ifaces_process()` for actions require\n    single interface desire and current status.\n 4. `Interface.sanitize()` for actions apply to `for_apply` and\n    `for_verify`.\n 5. `Interface.sanitize_for_verify()` for action only for verify.\n\nThe `MergedInterface` has these three data stored:\n * `merged`: Contains both desired and current data.\n * `for_apply`: Optionally for state to apply.\n * `for_apply`: Optionally for state to verify.\n\nWith this design, when processing desire state, we can have clear\nknowledge on value source and be explicit on the type of\nmodification(for apply or for verify).\n\nAlso moved the ifaces-based route/route_rule/dns code to `nm` folder as\nthey are NetworkManager specific as:\n * `nm::dns::store_dns_config()`\n * `nm::route::store_route_config()`\n * `nm::route_rule::store_route_rule_config()`\n\nIn the future, we might expose `MergedNetworkState` out for `dry-run` or\npre-edit validation.\n\nAll unit tests and integration tests passed.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0a6fac0edd8811f9a8b3213a7ce184f35c9fd2b0", "commit_date": "2023-01-05T12:50:49Z", "commit_message": "lldp: Fix error when `neighbors` defined in desire\n\nThe serde-rs is now treating skipped filed as unknown:\n    https://github.com/serde-rs/serde/pull/682\n\nWhen user applying LLDP desire state like:\n\n```yml\ninterfaces:\n  - name: eth2\n    type: ethernet\n    lldp:\n      enabled: true\n      neighbors: []\n```\n\nThe nmstate will complain about unknown field `neighbors`.\n\nFixed by using manual `deserialize_with` to skip that field.\n\nExisting integration test case in `lldp_test.py` can reproduce this\nproblem, hence no test code attached.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "625fdb7a4ef64219476a50aec2e0c6e7f29edf84", "commit_date": "2023-01-04T06:59:44Z", "commit_message": "ovsdb: Switch to ovsdb plugin for querying all OVS related info\n\nPreviously we depend on NetworkManager for OVS information, with this\npatch we are querying OVS database directly which bring benefit of\n\n * Race problem on slow system where NM OVS information is not update to\n   date.\n * Support OVS bridge created by `ovs-vsctl` or other command.\n\nSince the ovsdb does not allows empty bridge, this patch will\nautomatically add a ovs internal interface with the same name as bridge\nitself.\n\nFor API level, included `other_config` to `OvsDbIfaceConfig` and\n`OvsBridgeBondConfig`.\n\nThere is not test case for interface level `other_config` yet as NM does\nnot support yet.\nExisting ovs test cases had covered all other known use cases.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "92827cbbc2e2a6a33652efa9c0cd2d62978b298d", "commit_date": "2023-01-03T13:10:21Z", "commit_message": "sriov: Support modify only defined VF\n\nIt is legal desire state to modify only defined VF via:\n\n```yml\ninterfaces:\n  - name: eth1\n    type: ethernet\n    ethernet:\n      sr-iov:\n        total-vfs: 4\n        vfs:\n          - id: 2\n            trust: true\n```\n\nPreviously, we will fail as we do exact match on list. For this use\ncase, this patch will instruct nmstate to auto convert above state to:\n\n```yml\ninterfaces:\n  - name: eth1\n    type: ethernet\n    ethernet:\n      sr-iov:\n        total-vfs: 4\n        vfs:\n          - id: 0\n          - id: 1\n          - id: 2\n            trust: true\n          - id: 3\n```\n\nUnit test case included for this use case.\n\nAlso patched nm code to preserver unmentioned VF.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d8d60750c453f047ba65c09f208a19b12ee0f340", "commit_date": "2023-01-02T14:22:17Z", "commit_message": "test: Retry till OVS interface shows up\n\nCurrently, we are using NM provided data for OVS interface status for\nverification which might lead to kernel has no OVS interface but\nverification passed.\n\nIn some slow server,\n`test_set_static_to_ovs_interface_with_the_same_name_bridge` will fail\ndue to missing OVS interface after `libnmstate.apply()` returned.\n\nTo fix that, we use `retry_till_true_or_timeout()` for the assertion.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "249961df2a21a85ea590fc6344e3fb8500fb454d", "commit_date": "2022-12-24T20:21:13Z", "commit_message": "test: Speed up test_state_absent_can_remove_down_profiles\n\nThe`test_state_absent_can_remove_down_profiles` takes 90 seconds to\nfinish as the `assertlib.assert_state_match()` will keep retrying till\nmatches or expired.\n\nFixed by add `no_retry` option to `assertlib.assert_state_match()`\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "94c7341ac5c833622f444a06c5303ad4396edc50", "commit_date": "2022-12-24T20:21:13Z", "commit_message": "nm: Improve checkpoint refresh\n\nInstead of having multiple checkpoint refresh call, this patch add\n`NmApi.set_checkpoint_auto_refresh(true)` to automatically refresh\non every dbus method call if checkpoint elapsed half of it.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2a5063795a0c3a71b0422679eb23e4fa1adf6c34", "commit_date": "2022-12-24T20:21:13Z", "commit_message": "nm: Improve error retry\n\nIn general, we have three types of retry:\n 1. NM activation retry\n 2. Nmstate verification retry with pure wait.\n 3. Nmstate verification retry by apply the same state again.\n\nOnly the 1) NM activation retry in changed by this patch.\nWith this patch we will retry only the __failed__ connection with\nretryable error after increasing(1,2,4,8,16,32 seconds) interval.\n\nRemoved the retry at `NmApi` level base on test results.\n\nTo identify which `NmError` is retryable, this patch expanded the\n`NmError` to cover detailed error class:\n * `NmManagerError`\n * `NmSettingError`\n * `NmConnectionError`\n\nThe `NmError` will convert to `NmstateError` for future processing.\n\nOnly these `NmstateError` are retryable:\n\n * `ErrorKind::PluginFailure`\n * `ErrorKind::Bug`\n * `ErrorKind::VerificationError`\n\nTested for 500 VLAN + 500 bridge, finished in 5 minutes.\nTested with OVS plugin uninstalled.\nTested with loopback not supported.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9fba85eb6f7bc4656a835193eaa816e6478e017e", "commit_date": "2022-12-22T03:07:19Z", "commit_message": "nmci test: Do not restart NetworkManager daemon before dbus is up\n\nThe `upgrade_nm_from_copr()` and `upgrade_nm_from_rpm_dir()` both do a\nNetworkManager daemon restart which is invalid as dbus server only\navailable after `check_services()` finished.\n\nSince `check_services()` already has NM daemon restart, we do not need\nto do extra in `upgrade_nm_from_copr()` and `upgrade_nm_from_rpm_dir()`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "07604ea31d53b5b5ff248643dda9b67fae78a3a4", "commit_date": "2022-12-21T13:09:23Z", "commit_message": "Fix link\n\nSigned-off-by: Sandro J\u00e4ckel <sandro.jaeckel@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "097553bea759ad50e0fafcfb9802e5b5ad7e8258", "commit_date": "2022-12-18T13:48:52Z", "commit_message": "test: Speed up the `test_ipv6_dhcp_switch_on_to_off`\n\nThe `test_ipv6_dhcp_switch_on_to_off` and other similar test cases\nuse `assert not _poll()` which only returns after `DEFAULT_TIMEOUT`\n(20 seconds) expires.\n\nFix it by introduce `_poll_till_not()` for waiting on false instead of\ntrue.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a60bdde579417874657271ca3287b0f0053d8f3c", "commit_date": "2022-12-18T13:23:40Z", "commit_message": "test: Wait till container is up before `container_exec`\n\nIn github CI, the `sleep 1` is not enough for container to be up after\n`podman run` which lead to failure on `container_exec`:\n\n    + podman exec -i\n      23c108712c04cec9e1ca87e95159025385804d51027175cd797d588dffe6ae8d\n      /bin/bash -c 'cd /workspace/nmstate && ulimit -c unlimited'\n      Error: timed out waiting for file\n\nFix it by use `podman inspect` to check whether container is up with\nretry.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c2e256aa71ed653067742637ecb680beef88a4b3", "commit_date": "2022-12-16T04:08:52Z", "commit_message": "test: Enable VRF test in github CI\n\nBy installing `linux-modules-extra-azure` package, github CI could\nsupport VRF tests now.\n\nAll VRF test cases are enabled in CI.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3c88135d591eb279434a61942d96926f3c635cfb", "commit_date": "2022-12-15T09:35:05Z", "commit_message": "iface: Include VRF as support type\n\nWe accidentally forgot VRF as supported type.\nThe existing VRF test was skipped by CI hence not been found initially.\n\nManually run the test in RHEL host works well.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dce5073432b4d7ce9bb0f3322c9970a714ae44a6", "commit_date": "2022-12-14T03:21:41Z", "commit_message": "ovs: add support for port trunks\n\nThis commit adds support for the \"trunk-tags\" property in ovs ports.\n\nExample:\n\n```yml\n  - name: ovs0\n    type: ovs-interface\n    state: up\n  - name: ovs-br0\n    type: ovs-bridge\n    state: up\n    bridge:\n      port:\n        - name: ovs0\n          vlan:\n            mode: trunk\n            trunk-tags:\n              - id-range:\n                  min: 20\n                  max: 22\n              - id-range:\n                  min: 30\n                  max: 32\n              - id: 40\n```\n\nThe property is implemented in NM via \"ovs-port.trunks\" and\ncorresponds to the \"trunks\" property of ports in ovs:\n\n```\n    Bridge ovs-br0\n        Port ovs0\n            trunks: [20, 21, 22, 30, 31, 32, 40]\n            Interface ovs0\n                type: internal\n\n```\n\nSigned-off-by: Beniamino Galvani <bgalvani@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c32252ded9fb6cc0a8550ca2feba7f8dd1d4a34d", "commit_date": "2022-12-13T14:34:46Z", "commit_message": "Bump version to 2.2.3\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e87f5f692eabb4f4e263ffd7823af5df2cb3d3df", "commit_date": "2022-12-13T14:11:42Z", "commit_message": "New release 2.2.2\n\n=== Breaking changes\n - N/A\n\n=== New features\n - Support `iif` and `action` in IP route rule. (81c661c2)\n - Support loopback interface. (82a78a33)\n - Support of `controller` property for attaching and detaching ports.\n   (100cf325)\n - Support IPv6 link local address as DNS nameserver. (e1cae112)\n\n=== Bug fixes\n - Fix error when desired no DNS changes. (c7d22d9f)\n - Fix serialization of linux bridge VLAN trunk tags. (7a5d7639)\n - Fix error when moving OVS system interface to linux bridge. (891ab964)\n - Fix OVS VLAN with access mode with tag 0. (9f92170c)\n - Fix DNS probelm when running on NetworkManager 1.41+. (fd697fce)\n - Mark unsupported interface as ignored. (44199b3f)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "81c661c2f7971ec66a9eb425442684ad385bb840", "commit_date": "2022-12-13T13:43:38Z", "commit_message": "route rule: Add support of `iif` and `action`.\n\n* Added `RouteRule.iif` for matching on incoming interface name.\n* Added `RouteRule.action` for these actions:\n    * `RouteRuleAction::Blackhole`\n    * `RouteRuleAction::Unreachable`\n    * `RouteRuleAction::Prohibit`\n\nBumped required of nispor to 1.2.9 for the fix of route rule actions.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c7d22d9f6da04d22c49850485fe54cff8f2c37a2", "commit_date": "2022-12-13T13:00:32Z", "commit_message": "dns: Fix error when desired no DNS changes\n\nWhen a interface holding DNS information, applying simple state like\nbelow will cause failure on DNS interface not found.\n\n```yml\ninterfaces:\n  - name: eth1\n```\n\nThis is caused by `current_dns_ifaces_are_still_valid()` does not have\nIP stack info merged from current which lead to thinking IP stack\ndisabled.\n\nThe fix is skip the test if desired interface has unmentioned IP\nstack(set to None). This is a workaround, not final fix. The ideal fix\nshould given `desire_state` and `current_state`, get merged state for\nvalidation, state for verifying, state for applying. But that require\nmassive code changes.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9f92170cf845309195d14cae47196e54a9529cad", "commit_date": "2022-12-09T13:11:38Z", "commit_message": "ovs vlan: Support access mode with tag 0\n\nThe default tag of VLAN access mode is 0, hence we should allow user to\ndefine it explicitly.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ae59fdc57cc9591fd18460541e79126d919a2d32", "commit_date": "2022-12-09T11:34:21Z", "commit_message": "test: Fix NMCI script for overlapping of --el9 option\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "512d0d3051c31f00ca9da3a25aa992fd2457d380", "commit_date": "2022-12-09T11:30:33Z", "commit_message": "test: Add `--el8` and `--el9` options to NMCI script\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a66c3f0ecf2f1f6abd31509ce271f184f331a70a", "commit_date": "2022-12-09T11:17:35Z", "commit_message": "Fix cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7a5d7639b3b944fd024ada6ed29f7a9b2ab40179", "commit_date": "2022-12-09T11:17:35Z", "commit_message": "bridge: Fix serialization of VLAN trunk tags\n\nPreviously, the yaml serialization of VLAN trunk tags looks like:\n\n```yml\ntrunk-tags:\n- !id 101\n- !id-range\n  max: 599\n  min: 500\n```\n\nFixed by using custom serializer for `BridgePortTunkTag`.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "891ab964398a24b16d177f43cbda44b73d3b9456", "commit_date": "2022-12-09T08:42:35Z", "commit_message": "ovs: Fix error when moving OVS system interface to linux bridge\n\nWhen assigning current OVS system interface to linux bridge, nmstate\nwill complain about overbook with OVS bridge. This is incorrect as we\nallows port been moving around without referring its old controller.\n\nFixed by remove the unnecessary overbook pre-edit check.\n\nChanged NM code to remove the leftover OVS port connection.\n\nIntegration test case include.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fd697fceb72ecd700d81b1a26b60b0dad3717a03", "commit_date": "2022-12-09T08:17:43Z", "commit_message": "dns: Do not use loopback interface yet\n\nSince loopback interface is supported now, the `find_ifaces_in_desire()`\nand `find_valid_ifaces_for_dns()` might use loopback to store the DNS\ninformation, we do not like to store DNS into loopback interface yet as\nthis fails our CI at `test_route_rule_clear_state_with_minimum_iface_state`.\n\nLet's skip it for now.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "82a78a3314deedb10d140f8ab4dca707f0871a08", "commit_date": "2022-12-09T08:17:43Z", "commit_message": "loopback: Add support of loopback interface\n\nLimitations:\n * Cannot enable DHCP or autoconf.\n * The [InterfaceState::Absent] can only restore the loopback configure back\n   to default.\n * Ignore the request of disable IPv4 or IPv6.\n * Even not desired, the `127.0.0.1/8` and `::1` are always appended to\n   static IP address list.\n * Require NetworkManager 1.41+ unless in kernel only mode.\n\nExample yaml:\n\n```yml\ninterfaces:\n- name: lo\n  type: loopback\n  state: up\n  mtu: 65535\n  ipv4:\n    enabled: true\n    address:\n    - ip: 127.0.0.1\n      prefix-length: 8\n  ipv6:\n    enabled: true\n    address:\n    - ip: ::1\n      prefix-length: 128\n```\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "638704ff13dbc2a1ecbe2fa20908066c288c3ad6", "commit_date": "2022-12-09T02:57:11Z", "commit_message": "test: Retry on assert_absent()\n\nThere is a race when we delete OVS interface via NM and querying OVS\ninterface right after it. NM might still how this OVS interface in its\ncache.\n\nInstead of instant fail, we retry in `assert_absent()`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "59a60bb232ca6a71dc9b57a31299b386eb82f265", "commit_date": "2022-12-08T12:37:24Z", "commit_message": "test: nmci should have CI=true set\n\nLike github CI, NMCI container also has limitation on hostname dns and\netc, hence set `CI=true` environment.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "eb139e74ced7c71302362391f1ca0faf4a828560", "commit_date": "2022-12-08T12:15:22Z", "commit_message": "test: Include test script for NMCI to run tier1 test\n\nThe `automation/run-tests-in-nmci.sh` will be used for NMCI allowing two\narguments:\n * `--copr <copr_repo_name>`: Install NM rpm via copr\n * `--rpm-dir <rpm_dir>`: Install NM rpm from folder\n * `--debug-shell`: Provide a shell for debugging after tests\n\nWill only run tier 1 tests using CentOS stream 9 container.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "51b8ddc21ae44bf41487f693687de609db6973b6", "commit_date": "2022-12-08T11:47:17Z", "commit_message": "Fix cargo clippy\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fe4cb86545e4491ce2cce4e2ecb67a5feb82c57f", "commit_date": "2022-12-08T11:47:17Z", "commit_message": "test: Fix `test_ipv6_link_local_dns_srv` in NMCI\n\nNMCI also has extra interface configured as auto dns which fails the\n`test_ipv6_link_local_dns_srv`.\n\nFixed by only check first two dns servers for desired.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "76d802c37939bda7c72984a23afa1766f574f1f7", "commit_date": "2022-12-02T11:35:30Z", "commit_message": "tests, ethtool: add ethtool feature highdma test\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c8c776e9fee8e8097a7131242c7c63631af72bc6", "commit_date": "2022-11-30T07:52:33Z", "commit_message": "cargo: Less dependency\n\n * Set `default-features = false` for all dependent crates and only\n   build features we need explicitly.\n * Removed libc as not required anymore.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "35669c6f156a4406df8f814742d47e1be3ce2691", "commit_date": "2022-11-30T07:04:09Z", "commit_message": "cli: Include description in Cargo.toml\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "62909a16b438e9cc5fd7daa522c8a05c7b4a12e4", "commit_date": "2022-11-30T07:04:09Z", "commit_message": "cli: Add version of nmstate for dependency\n\nVersion is required to publish the `nmstatectl` crate to crates.io.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1a6524af343ae961a5ef70a062345d09f928bbe8", "commit_date": "2022-11-30T03:41:17Z", "commit_message": "Skip security leak check on automation/upload_test_artifacts.key\n\nThe `automation/upload_test_artifacts.key` is deactivated ssh key,\nit is not a security leak.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "42be78660772a858148cd2b90c67f2da832ecf8a", "commit_date": "2022-11-30T01:58:39Z", "commit_message": "k8s ci: Fix `test_ipv6_link_local_dns_srv`\n\nIn K8S CI, `test_ipv6_link_local_dns_srv` test will fail with:\n\n```\nE       AssertionError: assert ['2001:4860:4...8c:f616%eth0'] == ['2001:4860:48...ef:1%dhcpcli']\nE         Left contains more items, first extra item: '192.168.66.2'\nE         Full diff:\nE         + ['2001:4860:4860::8888', 'fe80::deef:1%dhcpcli']\nE         - ['2001:4860:4860::8888',\nE         -  'fe80::deef:1%dhcpcli',\nE         -  '192.168.66.2',\nE         -  'fd00::1',\nE         -  'fe80::5cb5:33ff:fe8c:f616%eth0']\n```\n\nThis is caused by extra interface tunl0 (TUN interface type) is\nconfigured with `auto_dns: true`, it is not configurable via nmstata\nwhich result extra DNS server appended after our desired ones.\n\nFixed by only checking first 2 DNS name servers in K8S CI.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "86d4ba9873d9311f9a5cf338960af50de06544df", "commit_date": "2022-11-29T23:20:46Z", "commit_message": "controller: Fix detaching port from controller\n\nWhen detaching port from controller via:\n\n```yml\n---\ninterfaces:\n- name: eth1\n  state: up\n  controller: \"\"\n```\n\nNmstate will fail with verification error.\n\nIt is caused by two problem:\n * Verification thinks `Some(\"\")` is different from `None`. Fixed by set\n   controller as `None` before verification.\n * The function `preserve_ctrl_cfg_if_unchanged()` copied current\n   controller information when got controller set as `Some(\"\")`. Fixed\n   by skipping the preserving.\n\nIntegration test cases included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "15b1e91608c9144eba8efbccedc427c3d95ed858", "commit_date": "2022-11-29T16:02:24Z", "commit_message": "ifaces: Expose `iter()` and `iter_mut()`\n\nAdding `Interfaces.iter()` and `Interfaces.iter_mut()` for easy access\nto internal interfaces.\n\nUnit test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "44199b3fc5ea1fe2216ff67f3e9e3f74cb922f12", "commit_date": "2022-11-29T10:59:14Z", "commit_message": "nm and nispor: Mark unsupported interface as ignored\n\nThe test case `test_dynamic_ip_with_static_dns` will fail on NM 1.41+\nwhere loopback interface is supported.\n\nMarking unsupported interface as ignored in both nispor and nm plugin\nwill fix this problem.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e360aeaeba8409f50913ccfa5130b4704b08cad4", "commit_date": "2022-11-29T05:51:24Z", "commit_message": "Revert \"packit: Remove the PR copr build for EPEL8 and EPEL9\"\n\nThe EPEL8 and EPEL9 has rust 1.62+ now, are ready for build this project.\n\nThis reverts commit 0bc69bc9484c672b29e7db7258b2e520eb75081a.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1203ba44ce8ea34448be4c543d905ffcacb37b24", "commit_date": "2022-11-29T04:41:29Z", "commit_message": "CI: Drop actions-rs actions\n\nThe actions-rs is unmaintained and causing deprecate warning on Node.js\n12 of github.\n\nReplacing it with rustup command.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e16dab3ac50628f0b2ee88dfe47f51b582297a7b", "commit_date": "2022-11-28T10:12:42Z", "commit_message": "rust/lib: Replace the unsafe 'libc::sysconf' to 'nix::unistd::sysconf'\n\nThe `libc::sysconf` is unsafe function of rust, use its safe\nreplacement `nix::unistd::sysconf` with proper error handling instead.\n\nSigned-off-by: Wen Liang <liangwen12year@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7ddd51853dfb7c34d2d173a068d39063d6bcb0c3", "commit_date": "2022-11-24T11:59:14Z", "commit_message": "tests, ovs: add updelay and downdelay ovs-bond options test\n\nAdd missing integration tests for OVS Link Aggregation support. We\nsupport downdelay and updelay so they need to be tested properly.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b66383095e347e56a6ff2c0013f6608a8699158e", "commit_date": "2022-11-24T11:31:19Z", "commit_message": "clippy: drop needless lifetimes\n\nAccording to\nhttps://rust-lang.github.io/rust-clippy/master/index.html#needless_lifetimes\nthese lifetimes can be dropped.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0d9ecc2f2d3876bbacbfd27be089eb8061445351", "commit_date": "2022-11-21T16:41:52Z", "commit_message": "key: Add ffmancera updated GPG key back\n\nWhen unifying the keys in a single entry, ffmancera updated key was\nremoved.  Please, consider this one instead.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "272cd4916177941b6402fb56c7a4e46cd2cc4649", "commit_date": "2022-11-18T08:52:36Z", "commit_message": "README: Change the title\n\nChanged the title to `Nmstate: A Declarative Network API`\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "100cf325d36a0cf35b6eaf8bdc445404305fcd1d", "commit_date": "2022-11-18T08:51:47Z", "commit_message": "iface: Add support of `controller` property\n\nIntroducing `BaseInterface.controller` property for attaching port to\nexisting controller without knowledge of current port list of that\ncontroller.\n\nExample on attach eth1 to br0:\n\n```yaml\n---\ninterfaces:\n- name: eth1\n  state: up\n  controller: br0\n```\n\nThe `controller` property is only valid for applying, always been set to\nNone(hidden during serializing) on show/`retrieve()`.\n\nUnit test cases and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e1cae112c92bd377ae4e76a8e21bcac8e896f0ff", "commit_date": "2022-11-17T12:48:53Z", "commit_message": "dns: Support IPv6 link local address as DNS nameserver\n\nWhen using IPv6 link local address as DNS nameserver, interface name is\nrequired, for example: `fe80::deef:1%eth1`\n\nExample yaml:\n\n```yml\n---\ndns-resolver:\n  config:\n    search:\n    - example.com\n    - example.org\n    server:\n    - fe80::deef:1%eth1\n    - 2001:4860:4860::8844\n    - 8.8.4.4\n    - 8.8.8.8\n```\n\nRestrictions:\n * You cannot have 2+ interface names in DNS server names. Massive work\n   required to handle the DNS ordering between interfaces with the\n   design of NetworkManager.\n\n * All other normal IPv6 nameserver will also stored in link local\n   interface if exists.\n\nUnit test cases and integration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c5e12bc4e18267ef36203da6aebc2dfe4f817bc4", "commit_date": "2022-11-17T10:59:16Z", "commit_message": "Update README\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "51a7cff3ed7686b3eec908a1b8dacd1b9e677722", "commit_date": "2022-11-16T00:36:12Z", "commit_message": "Bump version to 2.2.2\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "db328d09e9aae016a3efc692fc41f490e99de4f6", "commit_date": "2022-11-15T13:33:44Z", "commit_message": "New release 2.2.1\n\n== Breaking changes\n - Minimum supported rust version 1.60. (e997a2bb)\n\n== New features\n - Support IP route rule fwmark and fwmask. (95f1c193)\n - Support `dns-data` in NetworkManager 1.41+. (89d2fb0b)\n - Support IP route rule `from all to all`. (c53dc568)\n - Support bond `balance-slb` option. (16dadebe)\n - Support custom metric for DHCPv4 and IPv6-RA routes. (288014f1)\n - Introduce nmpolicy. (badcee4c)\n\n== Bug fixes\n - Fix deleting interface created by iproute. (dcea700a)\n - Fix infiniband parent UUID problem. (883f36fb)\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "288014f1e62e613f943d762e42c44424bfb8b699", "commit_date": "2022-11-15T11:58:37Z", "commit_message": "ip: Add support of custom metric for auto routes\n\nExample:\n\n```yml\n---\ninterfaces:\n  - name: eth1\n    state: up\n    ipv4:\n      enabled: true\n      dhcp: true\n      auto-route-metric: 101\n    ipv6:\n      enabled: true\n      dhcp: true\n      autoconf: true\n      auto-route-metric: 102\n```\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "badcee4c8c8ecf0b488a5d0031d335e4f35600f7", "commit_date": "2022-11-15T07:56:11Z", "commit_message": "Introduce support of nmpolicy\n\nIntroducing support of nmpolicy syntax[1] including rust, python and C\nbindings.\n\nImplementation workflow:\n * `NetworkPolicy` could deserialize from existing nmpolicy file.\n * Each of capture line will produce a new `NetworkState` and stored for\n   follow up capture line processing.\n * Each capture line will be converted to `Vec<NetworkCaptureToken>`,\n   then fill into `NetworkCaptureCommand` for filtering or updating\n   matched `NetworkState`.\n * We use `serde_json::Map` to walk through the property defined in the\n   format of `routes.running.next-hop-interface`.\n\nThe cli tools could be used also:\n\n    nmstatectl p <policy.yml> [-c current_state.yml] \\\n        [-s saved_capture.yml] [-o /path/to/output_capture.yml]\n\nAPI:\n\n * Using running current to generate `NetworkState`:\n\n   ```rust\n   let policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   let state = NetworkState::try_from(policy)?\n   ```\n\n * Use saved current to generate `NetworkState`:\n\n   ```rust\n   let mut policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   policy.current = Some(serde_yaml::from_str(current_state_content)?);\n   let state = NetworkState::try_from(policy)?\n   ```\n\n * Store captured data:\n\n   ```rust\n   let policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   let current_state = serde_yaml::from_str(current_state_content)?;\n   let captured_states = policy.capture.execute(&current_state)?;\n   // Use your own way to store the captured data\n   // You may also use `NetworkCaptureRules::execute()` directly.\n   ```\n\n * Load captured data:\n\n   ```rust\n   // Use your own way to load the data. We just need\n   // HashMap<String, NetworkState> for captured_states\n   let current_state = serde_yaml::from_str(current_state_content)?;\n   let policy: NetworkPolicy = serde_yaml::from_str(policy_content)?;\n   let state = policy.desired.fill_with_captured_data(&captured_states)?;\n   // You may also use `NetworkStateTemplate::fill_with_captured_data()`\n   // directly.\n   ```\n\nBoth unit test cases and integration test case are included.\n\n[1]: https://nmstate.io/nmpolicy/user-guide/102-policy-syntax.html\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1ff45116374b15b435832f540b3d79b0d05b795b", "commit_date": "2022-11-14T17:32:29Z", "commit_message": "Make nmstate go module reflect v2\n\nWhen v2 was released and the tags started being v2.y.z, we introduced a\nmismatch between the go module definition (when it has no vX it is\nequivalent to v0/v1) and the repository (and release tags). This makes it\nhard to vendor the package referring to tags in other golang contexts.\n\nYou can read more about it in:\nhttps://github.com/golang/go/wiki/Modules#releasing-modules-v2-or-higher\n\nSigned-off-by: Antoni Segura Puimedon <antoni@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "200958151252c9ecbcb62f5821c7d2fd8614e84a", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for 802.1X authentication\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3d5e3e2a8dacf77a98a39c4c108d1fa3859ff21c", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for OVS\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0ff985480479241ff792975fe4460ff8b6539f3a", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for VxLAN interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9fc7e3c80d256d4a5e190dbdad000e7ededbc5f7", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for VRF interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a18326cd1cad61f633d8043cd428ce4481823444", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for VLAN interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d98d1b29213dd021ddf49de09bb9e58f6c956a5c", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for SR-IOV interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4013fd5176f66057cdc0dd229b49fc72f85f9b94", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for MAC VLAN and MAC VTAP\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1bdae2fc3da5faadb905dd454caf02ab512ff497", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for infiniband\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "767f3b0c852f6633974cc5b057ecf27f89d5c00e", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for ethtool\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3bbb5cc35c48531a3c0e950d90e666d6218afd92", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for ethernet\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "61bc15fa30b1e5eb7b7aa936a2a20dae6ccac982", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for dummy interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "02592948d076598721f44a5f6cf42a094eca404f", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for linux bridge interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4175dc2f0f0cc16cf3867f203037952b838a5d8a", "commit_date": "2022-11-14T09:18:22Z", "commit_message": "Rust doc for bond interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "883f36fbb8d9a31bfb0b329967582a70aeccf39f", "commit_date": "2022-11-11T09:40:29Z", "commit_message": "nm infiniband: The infiniband parent cannot be UUID\n\nThe NetworkManager does not support `infiniband.parent` as UUID.\n\nThe test cases under `TestInfiniBand` has it covered.\nManually tested on Mellanox MT27800(mlx5_ib).\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "294116d9cfce5475d7100d3db53522272974a96c", "commit_date": "2022-11-11T08:53:15Z", "commit_message": "veth, tests: add veth peer renaming tests\n\nWhen renaming a veth peer the new peer must be managed by\nNetworkManager.\n\nFixes: https://bugzilla.redhat.com/show_bug.cgi?id=1966944\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "16dadebe53fd5f4e4adb913c7db2da9f2d460c86", "commit_date": "2022-11-11T08:26:30Z", "commit_message": "bond: Add support of balance-slb option\n\nThe NetworkManager 1.41 introduced new bond option `balance-slb` to\nachieve the same effect with ovs bond slb mode.\n\nExample yaml:\n\n```yml\n---\ninterfaces:\n- name: bond99\n  type: bond\n  state: up\n  link-aggregation:\n    mode: balance-xor\n    options:\n      xmit_hash_policy: \"vlan+srcmac\"\n      balance-slb: 1\n```\n\nUnit and integration test cases included.\n\nIntegration test case is shipped in CI as bond slb require patched\nkernel which is not in github CI ubuntu host yet.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "54fd2f812af951133a638fe7255e31392a8d433b", "commit_date": "2022-11-10T13:47:47Z", "commit_message": "CHANGELOG: Use conscious language\n\nThe CHANGELOG file contains offensive words that we are removing from\nthe project.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c53dc56824f74b9baa1d1f76bb3b03a6e44baea0", "commit_date": "2022-11-10T12:59:40Z", "commit_message": "route_rule: support `from all to all` routing policy\n\nAdd support to `from all to all` routing policy. In static config\ngenerator it will add `from 0.0.0.0/0` or `from ::/0` to the keyfile.\n\nA new parameter `family` have been introduced to the route-rule config\nfield. This parameter is used to specify the address family. If `family`\nis not specified it will fail on validation, if not specified from\nNispor it will assume IPv4 as it was done in the past.\n\nExample:\n\n```yaml\nroute-rules:\n  config:\n    - route-table: 254\n      priority: 100\n      family: ipv4\n```\n\nIntegration test cases added.\n\nFixes #1417\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "84e0b3e1764f364a1529d503b97ee2f4c9bbbe81", "commit_date": "2022-11-10T12:59:40Z", "commit_message": "ip: add AddressFamily enumerate\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "27f9a5195117a3700c89b56732d04e73d2c40029", "commit_date": "2022-11-10T12:59:40Z", "commit_message": "nispor: do not filter out route rules without ip-to/ip-from\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "13fb41734914dc3ec04c9b0bb7a1e6a63e6d2109", "commit_date": "2022-11-10T09:00:53Z", "commit_message": "doc: Add document for DNS, Route and RouteRule\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a9cee09dfe1de9c6778e3649aa195405d038faa1", "commit_date": "2022-11-09T23:19:19Z", "commit_message": "test: Skip `test_preserve_ipv6_addresses_order` on RHEL 8\n\nThe downstream build of RHEL 8 has different behaviour than copr build\nfrom git main branch. It is hard to tell whether we are using downstream\nbuild or git build at runtime, hence we ship this test in RHEL 8.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dcea700abfa4469766b51cb2dc584b1c88474eca", "commit_date": "2022-11-07T22:28:16Z", "commit_message": "nm: Fix deleting interface created by iproute\n\nWhen virtual interface(e.g. linux-bridge) was created by iproute\ncommand, nmstate will fail when marking it as absent with error:\n\n    Absent/Down interface br1/linux-bridge still found\n\nThis is caused by `delete_remain_virtual_interface_as_desired()` not\nworking as expected due to inconsistency between NM interface type and\nnmstate interface type.\n\nIntegration test case included.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e69f036d1e92e1b04f8d2e550db1175e7334ddae", "commit_date": "2022-11-07T13:04:22Z", "commit_message": "test: Add test case for IP address order\n\nAdd test case to test the order of IP addresses is preserved.\n\nIt is known issue in RHEL 8 with reverted IPv6 address order. Downstream\nnmstate package will have their own patch to revert the address list\nbefore sent to NM.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e997a2bb247b77726a5be6ae4e7a3bca1e05071c", "commit_date": "2022-11-07T10:11:10Z", "commit_message": "cargo: Minimum rust version 1.60\n\nSet minimum rust version 1.60 due to the need for feature dependency\n`dep:foo`.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d219725c0825a8ec2b97c790ef8c73dfd44f838d", "commit_date": "2022-11-03T13:01:37Z", "commit_message": "doc: Add document for BaseInterface and IP\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "89d2fb0b690c9951385076766ca03886b9c6be13", "commit_date": "2022-11-03T08:55:00Z", "commit_message": "nm: Support `dns-data` in NetworkManager 1.41\n\nThe NetworkManager 1.41 introduced `dns-data` and deprecating `dns` DBUS\npropriety.\n\nWithout this patch, we will not able to purge DNS on NM 1.41\nas we always merge unknown DNS propriety which in this case `dns-data`.\nThe `dns-data` is effective if `dns` is not mentioned, hence we cannot\npurge DNS in NM 1.41+.\n\nWe cannot simply set empty array in `dns` which take priority over\n`dns-data` when applying because IPv4 and IPv6 dns setting has different\ndbus signature which require at lease one dns server to determine.\n\nThis patch only enable the querying support on `dns-data`, but still use\nold `dns` property when applying to achieve backwards compatibility,\nand drop `dns-data` when applying also.\n\nThe integration test case `test_dns_edit_nameserver_with_static_gateway`\nreproduced the problem and could confirm the fix.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7a87f6315c1fb8d1bdf0abe0f5c28d6191ab4ca1", "commit_date": "2022-11-02T08:07:27Z", "commit_message": "Github CI: Fix release workflow\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "30a6a3c66cd677a9a1b06c6a3d1568e8549c379e", "commit_date": "2022-11-01T10:28:28Z", "commit_message": "doc: Add document for Interfaces and Interface\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3613ac5db213a9a62816d90380e76d364ca5474e", "commit_date": "2022-11-01T08:03:16Z", "commit_message": "doc: Add crate and NetworkState documentation\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "af9d773bc5e136d5f92f446e4588cfd92f59a1be", "commit_date": "2022-10-28T12:07:04Z", "commit_message": "rust: fix clippy nightly warnings\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8e44966ba6882aee8335d9dc81b3aa9b99187837", "commit_date": "2022-10-28T12:07:04Z", "commit_message": "README: drop sprint tracking reference to GitHub projects\n\nWe are not using GitHub projects anymore.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a323ad9d1ae377ae39971f0f0a9f39d3ad341765", "commit_date": "2022-10-25T08:50:52Z", "commit_message": "CI: On run release CI job on tag created\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "33ad5bb85bb0e4296ad7a4dcd621a77615341a3b", "commit_date": "2022-10-24T11:16:53Z", "commit_message": "key: Update Gris's gpg key\n\nGris's public key expired and refreshed. Use new one.\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "95f1c193515bcb59117ad72fd0cd1f9672b9cde8", "commit_date": "2022-10-24T11:13:04Z", "commit_message": "rule: add support to fwmark and fwmask\n\nIntroduce support to fwmark and fwmask properties for routing policy\nconfiguration. Please, consider the following example:\n\n```yaml\nroute-rules:\n  config:\n    - ip-to: 192.0.2.3/24\n      ip-from: 198.51.100.0/24\n      priority: 100\n      route-table: 254\n      fwmark: 0x30\n      fwmask: 0x10\n```\n\nIntegration test added.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6a6184ae78d6fd9fa4df02226cdff0e075807dbb", "commit_date": "2022-10-24T11:13:04Z", "commit_message": "serializer: add option_u32_as_hex serializer helper\n\nThere are options that will need to be serialized as hexadecimal to be\nmore user friendly. This serializer helper is needed for the fwmark and\nfwmask support.\n\nSigned-off-by: Fernando Fernandez Mancera <ffmancera@riseup.net>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2bdb120edd6107ac4ec062824087b3c8043b8989", "commit_date": "2022-10-17T18:06:38Z", "commit_message": "Bump to 2.2.1\n\nSigned-off-by: Gris Ge <fge@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}]}