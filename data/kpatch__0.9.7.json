{"master": [{"commit_oid": "922cd458091915b0dad8c1892d7a609addd4afd7", "commit_date": "2023-09-12T00:17:04Z", "commit_message": "Merge pull request #1358 from heuza/fix_ub\n\nFix undefined behavior problem when using list_foreach_entry", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "089e74e8f6d42afe327a56d2f1a89da0c1f46ce7", "commit_date": "2023-09-11T21:46:24Z", "commit_message": "Merge pull request #1359 from laokz/master\n\nkpatch-build: fix missed parameter of verify_patch_files", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "671fe2ce0110c5ff0d85b48dc3a297c3f0d1a9d8", "commit_date": "2023-08-28T14:13:15Z", "commit_message": "kpatch-build: fix missed parameter of verify_patch_files\n\nVerify_patch_files() use `lsdiff` to get patches' path and verify\nthey are supported. To be consistent with apply_patches() which\nusing `patch -p1`, `lsdiff` should use '--strip=1' paremeter.\n\nClose: #1357\n\nSigned-off-by: Kai Zhang <zhangkai@iscas.ac.cn>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fb22714ae934a6a9b8ab0cc635519fb3a24c2052", "commit_date": "2023-08-10T00:22:53Z", "commit_message": "Fix undefined behavior problem when using list_foreach_entry\n\nThis upstream list.h offsetof implementation rely on undefined behavior implementation. Using __builtin_offsetof to fix this problem.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f594a5c3ea60c27bce948f1e5fb190c14edc67cd", "commit_date": "2023-07-28T16:12:05Z", "commit_message": "Merge pull request #1352 from joe-lawrence/bump-v0.9.9\n\nBump to version v0.9.9", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "372bde7cd91b1bcf6ff8f3d952a9fb248ef61668", "commit_date": "2023-07-27T19:02:33Z", "commit_message": "Bump to version v0.9.9\n\nUpdates of interest:\nv0.9.9:\n- Support for gcc-13\n- Support for Linux 6.2\n- Support for UBSAN kernels\n- Fix handling of PowerPC cpu features\n- Added RHEL-8.8 and 9.2 integration tests\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "efcf2ad1879b4f5d5d996b1be94d5cecbf8809c4", "commit_date": "2023-07-26T18:51:05Z", "commit_message": "Merge pull request #1349 from joe-lawrence/ppc64le-ftr-sections\n\nkpatch-build: skip mangling for powerpc cpu feature relocations", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bcebb5206f8345d4f6b920a75497b091ef89f2d4", "commit_date": "2023-07-26T18:47:17Z", "commit_message": "test/unit: bump to latest\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f58eaee1a1fd6408a700e9c43cb703fd14920349", "commit_date": "2023-07-26T18:46:21Z", "commit_message": "kpatch-build: skip mangling for powerpc cpu feature relocations\n\nPowerPC implements alternative instructions with __ftr_fixup and\n__ftr_alt_* sections, for example net/core/dev.o:\n\n  Disassembly of section __ftr_alt_97:\n\n  0000000000000000 <__ftr_alt_97>:\n     0: 3c 00 40 7c pause_short\n     4: 3c 00 40 7c pause_short\n     8: 3c 00 40 7c pause_short\n     c: 3c 00 40 7c pause_short\n\n  Disassembly of section __ftr_fixup:\n\n  0000000000000000 <__ftr_fixup>:\n     0: 00 00 00 00 .long 0x0\n     4: 00 00 04 00 .long 0x40000\n    ...\n    10: R_PPC64_REL64 .text.napi_busy_loop+0x1cc\n    18: R_PPC64_REL64 .text.napi_busy_loop+0x1dc\n    20: R_PPC64_REL64 __ftr_alt_97+0x20\n    28: R_PPC64_REL64 __ftr_alt_97+0x2c\n    34: 00 00 04 00 .long 0x40000\n    ...\n    40: R_PPC64_REL64 .text.napi_busy_loop+0x3c0\n    48: R_PPC64_REL64 .text.napi_busy_loop+0x3d0\n    50: R_PPC64_REL64 __ftr_alt_97+0x24\n    58: R_PPC64_REL64 __ftr_alt_97+0x30\n    64: 00 00 04 00 .long 0x40000\n    ...\n    70: R_PPC64_REL64 .text.napi_threaded_poll+0x170\n    78: R_PPC64_REL64 .text.napi_threaded_poll+0x180\n    80: R_PPC64_REL64 __ftr_alt_97+0x28\n    88: R_PPC64_REL64 __ftr_alt_97+0x34\n    94: 00 00 04 00 .long 0x40000\n    ...\n    a0: R_PPC64_REL64 .text.net_rx_action+0x1a0\n    a8: R_PPC64_REL64 .text.net_rx_action+0x1b0\n    b0: R_PPC64_REL64 __ftr_alt_97+0x2c\n    b8: R_PPC64_REL64 __ftr_alt_97+0x38\n\nLike .altinstr_{aux,replacement}, __ftr_alt sections don't have symbols\nassociated with them and may skip kpatch_replace_sections_syms()'s rela\nmangling.  As __ftr_fixup references __ftr_alt_* directly,\nkpatch_process_special_sections() will already include __ftr_alt_* as\npart of the \"group\" handling in kpatch_regenerate_special_section().\n\nReported-by: Zhijun Wang <zhijwang@redhat.com>\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "960ceb278c32dbc3119e7c2a1369252f7da9e9b0", "commit_date": "2023-07-20T23:13:27Z", "commit_message": "Merge pull request #1341 from jpoimboe/stale-workflow\n\ngithub actions: Add stale workflow", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8a00d03bb87a8ce386279482790f2f95186895fc", "commit_date": "2023-07-20T23:12:15Z", "commit_message": "Merge pull request #1346 from jpoimboe/locals-match-empty\n\nlookup: skip duplicate local symbol table check for files without locals", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f8d253421036e030116a6216c327d564f23d4198", "commit_date": "2023-06-21T00:01:27Z", "commit_message": "Merge pull request #1339 from bhllamoreaux/photon-os-support\n\nkpatch-build: support Photon OS distribution", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "758881bd5f1467604c08142be1c20b770d9176c3", "commit_date": "2023-06-05T22:08:03Z", "commit_message": "kpatch-build: support for Photon OS\n\nVMware's Photon OS uses kpatch to build kernel livepatches, starting with 3.0.\n\nAdd some changes to support Photon OS in kpatch, so we can use kpatch-build\nin Photon like:\nkpatch-build <name>.patch.\n\nThis commit integrates Photon OS support into existing kpatch-build support code\nfor various distros.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "75927e7bbbc81de662755cee9c2e65b975138e06", "commit_date": "2023-06-05T16:49:30Z", "commit_message": "lookup: skip duplicate local symbol table check for files without locals\n\nIf the file doesn't have local object/func symbols, any empty match will\ndo, and duplicate matching local symbol lists aren't a problem.\n\nFixes #1345.\n\nReported-by: lzwycc <lzw32321226@163.com>\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "94bcca58e1092dc7b363df42043b548631e7d62f", "commit_date": "2023-05-16T19:52:39Z", "commit_message": "Merge pull request #1343 from joe-lawrence/integration-tests-rhel-8.8\n\ntest/integration/rhel-8.8: add kernel-4.18.0-477.10.1.el8_8 tests", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "248bdbcc7167e487e3ceb52b9114c8dbd3580c85", "commit_date": "2023-05-16T19:52:21Z", "commit_message": "Merge pull request #1344 from joe-lawrence/integration-tests-rhel-9.2\n\ntest/integration/rhel-9.2: add kernel-5.14.0-284.11.1.el9_2 tests", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6708da40440974d84624ae1049a209c083b0795a", "commit_date": "2023-05-10T18:38:39Z", "commit_message": "test/integration/rhel-9.2: add kernel-5.14.0-284.11.1.el9_2 tests\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "df177e2fc57f252e1d1c8a37e30453b1c5f2d542", "commit_date": "2023-05-10T18:36:46Z", "commit_message": "test/integration/rhel-8.8: add kernel-4.18.0-477.10.1.el8_8 tests\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4553c02438369f621bc28f18a5c15e6eb9b29d35", "commit_date": "2023-05-09T21:23:46Z", "commit_message": "Merge pull request #1342 from ryanbsull/install_md_update\n\nINSTALL.md: update OpenEuler prereqs formatting", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "27d0a22c8abbba12e6146f3f389dd28b0fa862dd", "commit_date": "2023-05-09T18:46:58Z", "commit_message": "INSTALL.md: update OpenEuler prereqs formatting\n\nShrink the size of the sub-section header below the OpenEuler section,\nreducing confusion as to what section that is a part of, as it is only\nnecessary for OpenEuler machines.\n\nSigned-off-by: Ryan Sullivan <rysulliv@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b1809c1797cecf19cda9fd83a7c1c8edf5d71847", "commit_date": "2023-04-18T23:42:17Z", "commit_message": "Merge pull request #1329 from sumanthkorikkar/s390-syscall-macro\n\nkpatch-syscall: update syscall macros for s390", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "65256d477e435f2b4ad9ae13f5c3fc0e638cb145", "commit_date": "2023-04-18T17:53:16Z", "commit_message": "github actions: Add stale workflow\n\nkpatch maintainers have limited time.  While we greatly appreciate all\nof our contributors, unfortunately it's not uncommon for kpatch issues\nand PRs to get ignored for years.\n\nAdd a github workflow which marks issues/PRs stale after 30/60 days, and\nthen closes them after an additional week of inactivity.  Anybody who\ncares about a particular issue/PR is welcome to help keep it open by\nstating their case in a comment.\n\nThe stale tag gets cleared by adding a comment to the issue/PR, or by\nmanually removing the stale tag.\n\nAn assignee can be added to a long-term issue/PR to prevent it from\ngetting marked stale.\n\nThe action (which adds/removes stale tags, adds comments, and closes\nissues/PRs) runs daily at 10:00 UTC.\n\nSuggested-by: Joe Lawrence <joe.lawrence@redhat.com>\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "cc8e030641064b376a4999d1ff33b7463e1e51b1", "commit_date": "2023-04-17T15:45:30Z", "commit_message": "kpatch-syscall: update syscall macros for s390\n\nSince linux 'commit 2213d44e140f (\"s390/syscalls: get rid of system call alias\nfunctions\")', s390 syscall wrappers are modified. Adjust it accordingly\nfor kpatch\n\nSigned-off-by: Sumanth Korikkar <sumanthk@linux.ibm.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "73cdcb15ab5fef92cda2700f2e310dad88c4c205", "commit_date": "2023-04-14T21:17:28Z", "commit_message": "Merge pull request #1322 from joe-lawrence/v6.2-support\n\nUpstream kernel v6.2 support", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f499fc25e03024e3a3b7a25579f1b6f5709b2cc2", "commit_date": "2023-03-23T00:45:07Z", "commit_message": "test/integration: Updated module.patch for Linux 6.2\n\nYulia reported a bug with module.patch which can be seen with\nCONFIG_PROVE_RCU:\n\n  BUG: sleeping function called from invalid context at include/linux/percpu-rwsem.h:49\n  in_atomic(): 0, irqs_disabled(): 0, non_block: 0, pid: 1053, name: grep\n  preempt_count: 0, expected: 0\n  RCU nest depth: 1, expected: 0\n  2 locks held by grep/1053:\n   #0: ffff8881079bf1a0 (&p->lock){+.+.}-{3:3}, at: seq_read_iter+0x55/0x460\n   #1: ffffffff8275d620 (rcu_read_lock){....}-{1:2}, at: cache_seq_start_rcu+0x5/0x140 [sunrpc]\n  CPU: 3 PID: 1053 Comm: grep Tainted: G           OE K    6.2.0 #57\n  Hardware name: QEMU Standard PC (Q35 + ICH9, 2009), BIOS 1.16.1-2.fc37 04/01/2014\n  Call Trace:\n   <TASK>\n   dump_stack_lvl+0x5b/0x77\n   __might_resched.cold+0xff/0x13a\n   cpus_read_lock+0x16/0xd0\n   static_key_disable+0xe/0x20\n   e_show+0x5b/0xd70 [livepatch_module]\n   seq_read_iter+0x127/0x460\n   seq_read+0xa3/0xd0\n   proc_reg_read+0x52/0xa0\n   vfs_read+0xc9/0x2f0\n   ? __do_sys_newfstat+0x57/0x60\n   ? lock_is_held_type+0xe8/0x140\n   ksys_read+0x6c/0xf0\n   do_syscall_64+0x37/0x90\n   entry_SYSCALL_64_after_hwframe+0x72/0xdc\n  RIP: 0033:0x7fbd314f7af0\n  Code: b6 fe ff ff 48 8d 3d 2f 78 09 00 48 83 ec 08 e8 96 25 02 00 66 0f 1f 44 00 00 83 3d d9 db 2c 00 00 75 10 b8 00 00 00 00 0f 05 <48> 3d 01 f0 ff ff 73 31 c3 48 83 ec 08 e8 7e e3 01 00 48 89 04 24\n  RSP: 002b:00007ffcd6f1c708 EFLAGS: 00000246 ORIG_RAX: 0000000000000000\n  RAX: ffffffffffffffda RBX: 0000000000008000 RCX: 00007fbd314f7af0\n  RDX: 0000000000008000 RSI: 0000563c751ea000 RDI: 0000000000000003\n  RBP: 0000000000008000 R08: 0000000000009008 R09: 0000000000000000\n  R10: 0000000000000000 R11: 0000000000000246 R12: 0000563c751ea000\n  R13: 0000000000000003 R14: 0000000000000003 R15: 0000563c751ea000\n\nThe problem is that the patched module's seq_operations take an RCU read\nlock before calling e_show(), which is patched to call\nstatic_key_disable(), which can sleep.\n\nFix the issue by moving all the module test code to a different module\n(xfs) which doesn't take an RCU lock.\n\nAlso enable the pr_debug() test and make the static branch test\nunconditional since they're supported by newer kernels and this test is\nfor 6.2.\n\nReported-by: Yulia Kopkova <ykopkova@redhat.com>\nDebugged-by: Joe Lawrence <joe.lawrence@redhat.com>\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0dc10cad767977dcd770d413705d1de821603c0c", "commit_date": "2023-03-17T17:27:41Z", "commit_message": "Merge pull request #1336 from jpoimboe/setlocalversion\n\nkpatch-build: Fix setlocalversion issue with 6.3 kernel", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4df1528cd91211fbb0d2bccc5461323e1bd485ed", "commit_date": "2023-03-17T05:05:43Z", "commit_message": "gcc-plugin: update gcc-common.h for gcc-13\n\nBackport this kernel commit to kpatch's version of gcc-common.h:\n\ncommit e6a71160cc145e18ab45195abf89884112e02dfb\nAuthor: Kees Cook <keescook@chromium.org>\nDate:   Wed Jan 18 12:21:35 2023 -0800\n\n    gcc-plugins: Reorganize gimple includes for GCC 13\n\n    The gimple-iterator.h header must be included before gimple-fold.h\n    starting with GCC 13. Reorganize gimple headers to work for all GCC\n    versions.\n\n    Reported-by: Palmer Dabbelt <palmer@rivosinc.com>\n    Acked-by: Palmer Dabbelt <palmer@rivosinc.com>\n    Link: https://lore.kernel.org/all/20230113173033.4380-1-palmer@rivosinc.com/\n    Cc: linux-hardening@vger.kernel.org\n    Signed-off-by: Kees Cook <keescook@chromium.org>\n\nNote that we can't directly copy the gcc-plugin headers from the kernel\nas has it has dropped gcc-4.9 and older support since v5.16.  Distros\nlike rhel-7 still use gcc-4.8, so manually cherry pick changes into the\nkpatch tree.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3e54c63b175b68cf48654c119e62bda398d0c018", "commit_date": "2023-03-17T05:05:33Z", "commit_message": "create-diff-object: support x86 NOP-padded functions\n\nKernel v6.2+ commit bea75b33895f (\"x86/Kconfig: Introduce function\npadding\") added 16 bytes of NOP padding in front of each function.\n\nFor objects built with --function-sections, this means that function\nsymbols no longer sit at the beginning of their respective ELF sections,\nbut 16 bytes offset.\n\nIn the same release, kernel v6.2+ commit 9f2899fe36a6 (\"objtool: Add\noption to generate prefix symbols\") adds ELF function symbols with\nprefix \"__pfx_\" to indicate the start of a function, inclusive of\nNOP-padding.\n\nFor example:\n\n  $ objdump -Dr -j.text.cmdline_proc_show fs/proc/cmdline.o\n  ...\n  Disassembly of section .text.cmdline_proc_show:\n\n  0000000000000000 <__pfx_cmdline_proc_show>:\n     0:   90                      nop\n     1:   90                      nop\n     2:   90                      nop\n     3:   90                      nop\n     4:   90                      nop\n     5:   90                      nop\n     6:   90                      nop\n     7:   90                      nop\n     8:   90                      nop\n     9:   90                      nop\n     a:   90                      nop\n     b:   90                      nop\n     c:   90                      nop\n     d:   90                      nop\n     e:   90                      nop\n     f:   90                      nop\n\n  0000000000000010 <cmdline_proc_show>:\n    10:   e8 00 00 00 00          callq  15 <cmdline_proc_show+0x5>\n                          11: R_X86_64_PLT32      __fentry__-0x4\n    15:   55                      push   %rbp\n    16:   48 8b 35 00 00 00 00    mov    0x0(%rip),%rsi        # 1d <cmdline_proc_show+0xd>\n                          19: R_X86_64_PC32       saved_command_line-0x4\n    1d:   48 89 fd                mov    %rdi,%rbp\n    20:   e8 00 00 00 00          callq  25 <cmdline_proc_show+0x15>\n                          21: R_X86_64_PLT32      seq_puts-0x4\n    25:   48 89 ef                mov    %rbp,%rdi\n    28:   be 0a 00 00 00          mov    $0xa,%esi\n    2d:   e8 00 00 00 00          callq  32 <cmdline_proc_show+0x22>\n                          2e: R_X86_64_PLT32      seq_putc-0x4\n    32:   31 c0                   xor    %eax,%eax\n    34:   5d                      pop    %rbp\n    35:   e9 00 00 00 00          jmpq   3a <cmdline_proc_show+0x2a>\n                          36: R_X86_64_PLT32      __x86_return_thunk-0x4\n\nKpatch-build needs to gracefully handle NOP-padding when it is present.\nAt the same time, it should include \"__pfx_<function>\" symbols when\ntheir respective functions change, but not treat prefix such functions\nas first-class functions.\n\nThis also adds support for CONFIG_CFI_CLANG, which also creates prefixed\nsymbols with the name \"__cfi_<function>\".\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0d48a4357e524f2499dc6acc9538b46ccf065027", "commit_date": "2023-03-15T22:26:37Z", "commit_message": "test/integration: add upstream 6.2.0 patches\n\nAdd patches rebased on top of upstream 6.2.0.\n\nIntegration tests for these can be ran as this:\n\n  $ make PATCH_DIR=\"linux-6.2.0\" KPATCH_BUILD_OPTS=\"--non-replace --sourcedir /path/to/src/linux-6.2.0\" integration-slow\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2ddeccccb22dbcdc200ad5515f5776acb0523d01", "commit_date": "2023-03-15T22:26:34Z", "commit_message": "kpatch-elf: copy ELF e_flags from patched .o\n\nKernel v6.2+ commit de3d098dd1fc (\"powerpc/64: Add module check for ELF\nABI version\") now verifies the ELF header e_flags for its ABI value and\nrefuse to load modules with complaint, \"Invalid module architecture in\nELF header: 21\"\n\nLike other ELF header details, copy the flags from the reference ELF\ninput file to the new ELF file to avoid module load errors.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7d22fefa3558d886febaa0e7b29b8ccb08d3f8c7", "commit_date": "2023-03-15T22:25:10Z", "commit_message": "create-diff-object: ignore __patchable_function_entries\n\nKernel v6.2+ commit bea75b33895f (\"x86/Kconfig: Introduce function\npadding\") introduces the -fpatchable-function-entry=16,16 build flag on\nx86.  This leverages compiler support for generating a\n__patchable_function_entries section similar to __mcount_loc.\n\nThat said, x86 still utilizes __mcount_loc even when\n__patchable_function_entries exists.  The latter point to the __pfx\nsymbols, but the section is discarded in the vmlinux link and isn't used\nregardless, for ftrace or for any other purpose.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "831a22bd1c44962881598e726293f91d5aa09032", "commit_date": "2023-03-15T16:49:46Z", "commit_message": "Merge pull request #1332 from sumanthkorikkar/ubsan-support\n\nsupport ubsan for kpatch", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "629b5acf3dab0311e1bebbffec4908999273d58d", "commit_date": "2023-03-13T21:40:24Z", "commit_message": "kpatch-build: Fix setlocalversion issue with 6.3 kernel\n\nThe kernel has a VERMAGIC_STRING, e.g. \"6.2.0\".  The module loader uses\nthat string to ensure that all loaded modules' version strings match the\nkernel's.\n\nIf the kernel source is in a git tree, and if there are uncommitted\nchanges, the version string will have a '+' or \"-dirty\" appended to it,\nlike \"6.1.0+\" or \"6.2.0-dirty\".  This dirty tree detection is done by\nthe setlocalversion script.\n\nThis affects kpatch-build in a few ways.  When it builds the original\nkernel, in some cases there are uncommitted changes to the makefiles.\nWhen it builds the patched kernel, there are additional uncommitted\nchanges due to the .patch file being applied.\n\nWe want to avoid the VERMAGIC_STRING changing between builds.  Otherwise\nit would cause problems:\n\n  - object code which uses that string would change unnecessarily,\n    causing a false positive change detected by create-diff-object\n\n  - the linked patch module would report the wrong version, resulting in\n    the module failing to load due to version mismatch.\n\nUp until now, the version was prevented from changing by running\n`setlocalversion --save-scmversion` before the build.  That command\nhard-codes the version by saving it to a file which is then\nautomatically read later during future invocations of the kernel build.\n\nUnfortunately that feature was removed in the 6.3 merge window with\ncommit f6e09b07cc12 (\"kbuild: do not put .scmversion into the source\ntarball\").  So we need to come up with a new approach.\n\nFix it by temporarily replacing the setlocalversion script with a\none-liner which just echo's the original version.  I think this is\nunfortunately the best we can do, as we really can't handle\nVERMAGIC_STRING changing, either during/between kernel builds or during\nthe module link.\n\nFixes #1335.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3f5845c28c415505926083cecc78518efce50823", "commit_date": "2023-03-10T17:11:56Z", "commit_message": "Merge pull request #1334 from joe-lawrence/create-v0.9.8\n\nBump to version v0.9.8", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2db193eb8b3cd88d56ff6919cca174890d98bac3", "commit_date": "2023-03-08T20:48:21Z", "commit_message": "Bump to version v0.9.8\n\nUpdates of interest:\nv0.9.8:\n- Clang fix ups from Pete Swain\n- Support for gcc-12\n- Support for Linux 5.19\n- Added RHEL-8.7 and 9.1 integration tests\n- Fixed __UNIQUE_ID() variable correlation\n- Improved handling of unsupported static calls\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8ddfc5d25e1fa3e157be0967ade5104971c82ec5", "commit_date": "2023-03-06T21:10:41Z", "commit_message": "Merge pull request #1330 from sumanthkorikkar/update-s390-kernel-prerequisite\n\ndoc: Update s390 kernel prerequisite", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e8627520c60a42027ef839ed2fd81593d64af56c", "commit_date": "2023-03-06T21:10:09Z", "commit_message": "Merge pull request #1326 from joe-lawrence/batch-sibling-calls\n\ncreate-diff-object: batch report unsupported sibling calls", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "85344cf524cccc7b8e10bf04ed38a0f586bffd10", "commit_date": "2023-03-02T16:31:09Z", "commit_message": "support ubsan for kpatch\n\nubsan generates .data..Lubsan_data* sections as follows:\n\n1. int main(int argc, char **argv) {\n        int arr[100];\n        arr[101] = 1;\n        printf(\"arr[101] = %d\", arr[101]);\n        return 0;\n}\n\n2. 1a:   50 10 b0 ac          st      %r1,172(%r11)\n      int arr[100];\n      arr[101] = 1;\n1e:   a7 39 00 65             lghi    %r3,101\n22:   c0 20 00 00 00 00       larl    %r2,22 <main+0x22>\n            24: R_390_PC32DBL       .data..Lubsan_data1+0x2\n28:   c0 e5 00 00 00 00       brasl   %r14,28 <main+0x28>\n            2a: R_390_PLT32DBL      __ubsan_handle_out_of_bounds+0x2\n\n3. 0000000000000000 <.data..Lubsan_data1>:\n0: R_390_64     .rodata              <=== source_location.location->file_name\n8: 00 00 00 04  .long   0x00000004   <=== source_location.location->line\nc: 00 00 00 05  .long   0x00000005   <=== source_location.location->column\n\n10: R_390_64    .data..Lubsan_type0   <== source_location->array_type\n18: R_390_64    .data..Lubsan_type1   <=== source_location->index_type\n\n4. Avoid correlating the *.data.Lubsan* sections. This means\n   included function points to new *.data.Lubsan* sections.\n\nSigned-off-by: Sumanth Korikkar <sumanthk@linux.ibm.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "324a43714b1227b5688e22966a5ee4414c8861d1", "commit_date": "2023-02-23T14:30:01Z", "commit_message": "doc: Update s390 kernel prerequisite\n\nSigned-off-by: Sumanth Korikkar <sumanthk@linux.ibm.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "75421ca94c3147efa7e620aad18cc0bb4b7fde74", "commit_date": "2023-02-17T16:49:38Z", "commit_message": "create-diff-object: batch report unsupported sibling calls\n\nLike unsupported jump labels and static call sites, batch report all\nunsupported sibling calls so the kpatch developer doesn't need to\niteratively find them all.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a45c17f849ff7df9fc1bfa75fac9d3901a3532ad", "commit_date": "2023-01-25T21:58:54Z", "commit_message": "Merge pull request #1323 from lulinqing/master\n\nexamples: add cmdline-string.patch as a compatible example", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fa73892346730bc9637df4a92c4385ea19c691f1", "commit_date": "2023-01-25T21:55:55Z", "commit_message": "examples: add cmdline-string.patch as a compatible example\n\nThis is a test example currently preferable to proc-version.patch as\ncrash utility has difficulty parsing /proc/version content after being\naltered.\n\nSigned-off-by: Linqing Lu <lilu@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6b78bd5c6723170b0affde59fb715d3216b8d502", "commit_date": "2023-01-16T14:33:55Z", "commit_message": "create-diff-object: support .call_sites sections\n\nKernel v6.2+ commits 00abd3840812 (\"objtool: Add .call_sites section\")\nand e81dc127ef69 (\"x86/callthunks: Add call patching for call depth\ntracking\") added .call_sites sections to object files.  These are filled\nwith an array of s32 values.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e707515cb15e3f05b1837c0e57bd820d0c657fcc", "commit_date": "2023-01-16T14:33:55Z", "commit_message": "macros: add v6.1 powerpc syscall macros\n\nKernel v6.1+ commit 7e92e01b7245 (\"powerpc: Provide syscall wrapper\")\nintroduced PowerPC specific macros.  Add them to kpatch-syscall.h.\n\nWIP: the syscall.patch integration test required\n-fno-optimize-sibling-calls for sys_newuname() ... should we move the\nattribute out to the patch?\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "934b3b3c0c12be2435f8edbe484c2696dda93864", "commit_date": "2023-01-16T14:33:55Z", "commit_message": "kpatch-build: ignore init/version-timestamp.o\n\nKernel v6.1+ commit 2df8220cc511 (\"kbuild: build init/built-in.a just\nonce\") split init_uts_ns and linux_banner out to\ninit/version-timestamp.c from init/version.c\n\nAdd init/version-timestamp.o to the list of object files that kpatch-cc\nwon't add to its changed_objs list.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bb57564e6096c16008b5de1921489694d6abd8e1", "commit_date": "2023-01-16T14:33:55Z", "commit_message": "kpatch-build: paravirt_patch_site is x86-only\n\nArchitectures like ppc64le may set CONFIG_PARAVIRT=y but do not\nnecessarily implement via struct paravirt_patch_site.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "059467dbc5a9028cec30b596c63ce0c0dc2a5212", "commit_date": "2022-12-02T17:47:41Z", "commit_message": "Merge pull request #1318 from jpoimboe/static-call-patch-author-guide\n\npatch-author-guide: update jump label / static call descriptions", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a6aa2d8f37b6cec4289bb3336fae52d5950e7fc4", "commit_date": "2022-12-02T15:40:22Z", "commit_message": "Merge pull request #1319 from jpoimboe/github-unit\n\ngithub actions: fix warning with node 16", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "48854d5633139506e774d3ab90506c039ac8663f", "commit_date": "2022-12-01T22:00:09Z", "commit_message": "create-diff-object: rename \"dynrela\" -> \"klp_reloc\"\n\nThe term \"dynrela\" was invented before klp relocations ever existed.\nThey're basically the same thing: special livepatch-specific relocations\nwhich get applied when the patched object gets loaded or patched.\nThey're necessary due to a) the need to access unexported symbols; and\nb) late module patching.\n\nThe different names are confusing.  Consolidate them by replacing\n\"dynrela\" with \"klp_reloc\" (code) or \"klp relocation\" (English).\n\nNote there's still some antiquated code in the kpatch core module and in\nthe pre-4.7 klp patch template which still use the \"dynrela\" naming.\nThat code is mostly dead anyway so I've just left it alone.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "41128c0987ea569dd623d2de70391c5be739d38e", "commit_date": "2022-12-01T22:00:09Z", "commit_message": "patch-author-guide: update jump label / static call descriptions\n\nNow that we have KPATCH_STATIC_CALL(), document its usage.  While at it,\ngive a more thorough description for why jump labels and static calls\naren't supported in some scenarios.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2c341722c3fa571c35f61849a1235f1a580729a1", "commit_date": "2022-12-01T17:08:29Z", "commit_message": "github actions: fix warning with node 16\n\nAttempt to fix the following warning:\n\n  Node.js 12 actions are deprecated. For more information see: https://github.blog/changelog/2022-09-22-github-actions-all-actions-will-begin-running-on-node16-instead-of-node12/. Please update the following actions to use Node.js 16: actions/checkout@v2\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "063a0801d9aef0edb4d391117e3050831dbc2042", "commit_date": "2022-12-01T16:46:33Z", "commit_message": "Merge pull request #1317 from jpoimboe/fix-make-check\n\nkpatch-build: fix \"make check\"", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "042cde03b30a5e6f6a4d8db2b8865b73f7de377d", "commit_date": "2022-12-01T03:04:23Z", "commit_message": "kpatch-build: fix \"make check\"\n\nFor some reason the github version of 'make check' just started\ncomplaining about these:\n\nshellcheck kpatch/kpatch kpatch-build/kpatch-build kpatch-build/kpatch-cc\n\nIn kpatch-build/kpatch-build line 455:\n\twhile [[ \"${filedir#$common/}\" = \"$filedir\" ]]; do\n                            ^-----^ SC2295 (info): Expansions inside ${..} need to be quoted separately, otherwise they match as patterns.\n\nDid you mean:\n\twhile [[ \"${filedir#\"$common\"/}\" = \"$filedir\" ]]; do\n\nIn kpatch-build/kpatch-build line 460:\n\tresult=\"${result}${filedir#$common/}\"\n                                   ^-----^ SC2295 (info): Expansions inside ${..} need to be quoted separately, otherwise they match as patterns.\n\nDid you mean:\n\tresult=\"${result}${filedir#\"$common\"/}\"\n\nIn kpatch-build/kpatch-cc line 26:\n\t\t\trelobj=${obj##$KPATCH_GCC_SRCDIR/}\n                                      ^----------------^ SC2295 (info): Expansions inside ${..} need to be quoted separately, otherwise they match as patterns.\n\nDid you mean:\n\t\t\trelobj=${obj##\"$KPATCH_GCC_SRCDIR\"/}\n\nFor more information:\n  https://www.shellcheck.net/wiki/SC2295 -- Expansions inside ${..} need to b...\nmake: *** [Makefile:70: check] Error 1\nError: Process completed with exit code 2.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "95f87659c9b30a332e6a9187ced51fd163e95981", "commit_date": "2022-11-30T20:58:58Z", "commit_message": "Merge pull request #1315 from jpoimboe/static-call-fixes\n\nStatic call fixes", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b6bf1221711865be27927cc33f3a86a022ae775f", "commit_date": "2022-11-30T20:58:44Z", "commit_message": "test/unit: bump\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "92c178b6a30a827c48db46ff4238501ec406a28e", "commit_date": "2022-11-30T20:58:31Z", "commit_message": "create-diff-object: use errx() instead of err()\n\nOtherwise on recent distros it appends the errno to the error message,\nlike:\n\n  create-diff-object: ERROR: x86.o: kpatch_regenerate_special_section: 2633: Found 1 unsupported static call(s) in the patched code. Use KPATCH_STATIC_CALL() instead.: Success\n\nwhich is not what we want in most cases.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ab2397c03e31f0f697aa8bf943d70b4e5a7def54", "commit_date": "2022-11-30T20:58:31Z", "commit_message": "kpatch-macros: add KPATCH_STATIC_CALL()\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f83218ad12a2d9e20d99d379c78974a576aa558c", "commit_date": "2022-11-30T20:58:31Z", "commit_message": "create-diff-object: detect unsupported static calls\n\nSimilar to jump labels, static calls aren't supported when the static\ncall key was originally defined in a module rather than in vmlinux.\nDetect those cases and either remove them (in the case of tracepoints)\nor error out.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "56bd8c4d0da1634f8549e7269f77a53e9d936a57", "commit_date": "2022-11-30T20:58:31Z", "commit_message": "create-diff-object: refactor jump label filtering\n\nConvert the hard-coded should_keep_jump_label() to a proper callback,\nsince static calls will need a similar filter.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "87ad96760a3af0db294d44865dfa1703f57f5595", "commit_date": "2022-11-30T20:58:31Z", "commit_message": "create-diff-object: fix s390 special_section initializer spacing\n\nAlign the s390 special_section initializers to improve readability and\nfor consistency with the rest.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "984e7de2fc2a0365a3ac0203fadec072ac2725a4", "commit_date": "2022-11-30T20:55:18Z", "commit_message": "Merge pull request #1314 from jpoimboe/unique-id-fix\n\ncreate-diff-object: fix __UNIQUE_ID() variable correlation", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3bcaabc7e1942ec4d3e8a1a2db20e92389a10b54", "commit_date": "2022-11-30T20:53:41Z", "commit_message": "test/unit: bump\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "901445a54fcecbd6852b79878e67153c5048602e", "commit_date": "2022-11-22T03:46:18Z", "commit_message": "create-diff-object: fix __UNIQUE_ID() variable correlation\n\nkpatch_mangled_strcmp() only ignores the digits after the period, but in\nthe case of __UNIQUE_ID(), the symbol names have random digits before\nthe period due to the use of `__COUNTER__`.  Make sure such symbols are\nproperly correlated.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bc145e95e5193c568b94654cecfd8730dab81a3a", "commit_date": "2022-11-08T13:36:37Z", "commit_message": "Merge pull request #1311 from joe-lawrence/add-proc-version-example\n\nexamples: add /proc/version kpatch sample", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2feeb0f462875906ee2e754bb1526511393faee2", "commit_date": "2022-11-07T16:02:00Z", "commit_message": "examples: add /proc/version kpatch sample\n\nCreate a simple kpatch test that should apply across a wide range of\nkernels.  The version_proc_show() is a good candidate as it's easy to\nverify and hasn't been touched upstream since 2008.\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a2333df7da28fd0daeda0c51ab985368e90b41ca", "commit_date": "2022-11-07T13:01:39Z", "commit_message": "Merge pull request #1309 from joe-lawrence/integration-tests-kernel-4.18.0-425.3.1.el8\n\ntest/integration/rhel-8.7: add kernel-4.18.0-425.3.1.el8 tests", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "51b4a7ce074677a6742db9f8af26a30826b3a875", "commit_date": "2022-11-07T13:01:25Z", "commit_message": "Merge pull request #1308 from joe-lawrence/integration-tests-kernel-5.14.0-162.6.1.el9_1\n\ntest/integration/rhel-9.1: add kernel-5.14.0-162.6.1.el9_1 tests", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a6958eca1cfa50ba0549a67d1186554b78e6ec83", "commit_date": "2022-10-24T19:44:16Z", "commit_message": "test/integration/rhel-8.7: add kernel-4.18.0-425.3.1.el8 tests\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "314504b77749efdbaa6c86d9a6fd095bbf9d916c", "commit_date": "2022-10-24T19:34:26Z", "commit_message": "test/integration/rhel-9.1: add kernel-5.14.0-162.6.1.el9_1 tests\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f1fbf97345188b5f391a7c42365ac9de4bc79e0f", "commit_date": "2022-10-14T16:18:47Z", "commit_message": "Merge pull request #1289 from jpoimboe/find_kobj\n\nkpatch-build: support Linux 5.19 .cmd file format", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1d7e8a74bb6c282ebe6c9193e4bd0218ec689e46", "commit_date": "2022-10-12T23:55:31Z", "commit_message": "kpatch-build: support Linux 5.19 .cmd file format\n\nRewrite kobj_find() to deal with Linux 5.19, where the .cmd files use\nobject file paths relative to the .cmd file rather than relative to the\nroot of the kernel tree.\n\nWhile at it, add several performance enhancements to prevent all\ncurrently known deep finds.\n\nThis is all quite fiddly.  But it works.\n\nFixes #1277.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7861240f482aa41bfad41fbb57ac1990cd6b6960", "commit_date": "2022-10-12T23:55:31Z", "commit_message": "kpatch-build: Add find_kobj() short-circuit for OOT modules\n\nWhen patching an OOT module, the parent object is always the OOT module.\nHard-code that to prevent the need for any further special casing in\nfind_kobj() (e.g., commit 9143e88f16a1 (\"kpatch-build: fix\nfind_parent_obj\")).\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1ead10d2b214ec5545ee2cdb25d5b0cdb3b4f735", "commit_date": "2022-10-12T23:55:31Z", "commit_message": "kpatch-cc: Add more file ignores\n\nThese files aren't in the kernel proper, and can be ignored.\n\nSigned-off-by: Josh Poimboeuf <jpoimboe@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6507700d027fb105cd2e4f8a64515f78df5a47ff", "commit_date": "2022-10-04T14:06:23Z", "commit_message": "Merge pull request #1305 from joe-lawrence/llvm-from-swine\n\nCollection of small llvm fixes", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "114878a002a0a9fe8ddbf27f5a2721a44bf25fbd", "commit_date": "2022-10-04T14:05:56Z", "commit_message": "Merge pull request #1306 from joe-lawrence/gcc-12-ppc64le-plugin\n\ngcc-plugin: update headers for gcc-12", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "13182e50b027c70bd63f53ca43598557d6b41e2e", "commit_date": "2022-09-27T20:41:48Z", "commit_message": "gcc-plugin: update headers for gcc-12\n\nFix build error seen on gcc (GCC) 12.1.1 20220507 (Red Hat 12.1.1-1):\n\n  g++ -MMD -MP -I../kmod/patch -Iinsn -Wall -Wsign-compare -Wno-sign-conversion -g -Werror -shared -I/usr/lib/gcc/ppc64le-redhat-linux/12/plugin/include -Igcc-plugins -fPIC -fno-rtti -O2 -Wall gcc-plugins/ppc64le-plugin.c -o gcc-plugins/ppc64le-plugin.so\n  In file included from /usr/include/features.h:490,\n                   from /usr/include/bits/libc-header-start.h:33,\n                   from /usr/include/stdio.h:27,\n                   from /usr/lib/gcc/ppc64le-redhat-linux/12/plugin/include/system.h:46,\n                   from /usr/lib/gcc/ppc64le-redhat-linux/12/plugin/include/gcc-plugin.h:28,\n                   from gcc-plugins/gcc-common.h:6,\n                   from gcc-plugins/ppc64le-plugin.c:1:\n  /usr/include/bits/error-ldbl.h:23:1: error: type of \u2018error\u2019 is unknown\n     23 | __LDBL_REDIR_DECL (error)\n        | ^~~~~~~~~~~~~~~~~\n  /usr/include/bits/error-ldbl.h:23:1: error: \u2018int error\u2019 redeclared as different kind of entity\n     23 | __LDBL_REDIR_DECL (error)\n        | ^~~~~~~~~~~~~~~~~\n  In file included from gcc-plugins/ppc64le-plugin.c:2:\n  /usr/include/error.h:31:13: note: previous declaration \u2018void error(int, int, const char*, ...)\u2019\n     31 | extern void error (int __status, int __errnum, const char *__format, ...)\n        |             ^~~~~\n  make[1]: *** [Makefile:39: gcc-plugins/ppc64le-plugin.so] Error 1\n\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "85781b7ea79fb4122efbb51f0bf573ed5fab03e1", "commit_date": "2022-09-27T19:56:06Z", "commit_message": "create-diff-object: ignore .llvm.* sections\n\nClang FDO adds a new, ignorable ELF section, .llvm.call-graph-profile\n\nGeneralize to ignore all .llvm.*\n\nSigned-off-by: Pete Swain <swine@google.com>\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com> [subject line]", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "37040572440efb95db9a3193d3b51d7597e1badd", "commit_date": "2022-09-27T19:56:06Z", "commit_message": "create-diff-object: ignore clang's .llvm_addrsig sections\n\nSigned-off-by: Pete Swain <swine@google.com>\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com> [subject line]", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5f6c5965f117cb9b2b21749da49b22b23305d114", "commit_date": "2022-09-27T19:56:06Z", "commit_message": "kpatch-build: for clang, use .strtab if no .shstrtab\n\nWhile gcc puts strings in .strtab and .shstrtab sections,\nllvm toolchain just uses .strtab.\n\nAdapt kpatch to handle both styles.\n\nSigned-off-by: Pete Swain <swine@google.com>\nSigned-off-by: Joe Lawrence <joe.lawrence@redhat.com> [small changes]", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}]}