{"main": [{"commit_oid": "189f8f0741efdb7d6ff8308f64e5f23365d97a94", "commit_date": "2023-09-26T17:45:10Z", "commit_message": "Bumped version to 1.2.69 for future development towards a 1.2.70 release.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "35ef746cf1a4fde8c442dc92fe9b18c3f90d7855", "commit_date": "2023-09-26T17:43:48Z", "commit_message": "Bumped version to 1.2.68 for release!", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f584baa61e5c2dd2bd9c4e8cf6d4886671092a9d", "commit_date": "2023-09-14T19:25:17Z", "commit_message": "Bumped version to 1.2.67 for future development towards a 1.2.68 release.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "cd1ad69ca0f182696913000669f963e2babb714e", "commit_date": "2023-09-14T18:31:11Z", "commit_message": "version: Bumping to 1.2.66 for release candidate.\n\n(Actual release will bump to 1.2.68, and then revision control will go\nto 1.2.69 for work, next release candidate will be 1.2.70, then 1.2.72, etc.)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2d9afcbb9b4f4e616ebc715d7515fd8433c9074a", "commit_date": "2023-09-14T14:00:10Z", "commit_message": "fix -Wsign-compare warnings.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "52a898ddb12387f2cc9501947dd9d24e927c2c71", "commit_date": "2023-09-14T13:49:04Z", "commit_message": "Quirks: Hyperspace Delivery Boy should run in 16bpp mode\n\nThe LGP port of Hyperspace Delivery Boy has broken colour keys if run in\n32-bpp mode (see bug #317). This is because it relies heavily on the\nimprecise RGB565->RGB888 conversion in earlier SDL 1.2 versions, when\nrunning in 32-bpp mode.\n\nThe game's assets are all in 565 format, and the game converts these to\nthe screen's format on load. It then sets a colour key. This presents a\nproblem, because:\n- The generic BlitNToN implementation in SDL 1.2 just shifted the\n  values, so the resulting image was not at full range. Magenta became\n  (F800F8).\n- Early versions of SDL 1.2 fell back to the BlitNToN blitter very\n  frequently:\n  https://github.com/libsdl-org/SDL-1.2/commit/6f4a75de61ce7fd63e14aa3207a51a767cac3a48\n- So, Hyperspace Delivery Boy calls SDL_MapRGB(0xF8, 0, 0xF8) to get the\n  colour key, then sets it on the converted surface.\n- In SDL 2.0, the blitters now properly do a full-range conversion, so\n  the magenta becomes (FF00FF), which now doesn't match the hardcoded\n  (F800F8).\n- That being said, in general, it's not guaranteed that SDL_MapRGB()\n  will do the same format conversion as SDL_CovertSurface(), so the\n  \"correct\" way of handling this is to set the colour key before\n  converting, which works (albeit slowly) in SDL2:\n  https://github.com/libsdl-org/SDL/issues/1854\n- Since the conversion behaviour is different even between SDL 1.2\n  versions, it's not worth trying to imitate it here, so we just force\n  the game to run in 16-bpp mode, which works fine.\n- (And the game's README recommends it, too.)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "41161424ac5c4f4541b093a4923bfb60350ec0a4", "commit_date": "2023-09-14T13:49:04Z", "commit_message": "Add a hint to clamp the reported screen bit depth\n\nSome games (e.g. Hyperspace Delivery Boy) only work on a 16-bit display,\nbut request the highest bit-depth available. Add a hint which makes all\nqueries for a mode (including the current mode, and the implicit format\nchosen by providng SDL_SetVideoMode() a bpp of 0) report a bit depth\nless than or equal to the value of SDL12COMPAT_FORCE_BPP.\n\nFor example:\nSDL12COMPAT_FORCE_BPP=16 ./hdb\n\nThere are a few interesting \"features\" of this implementation:\n- All video modes are now clamped to 32bit, which is the default value\n  of the hint. This seems like something we'd probably want anyway, as\n  many SDL 1.2 apps would have trouble with >32bit video modes anway\n  (and we never properly supported them).\n- This is our first proper integer hint, so add an SDL_GetHintInt()\n  function.\n- Split the BPP -> format conversion into its own helper function.\n- This doesn't clamp the bit depth of user-created surfaces, or of the\n  screen if the application specifically requests a bit depth. It only\n  changes defaults and reported modes.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0d818b0f723e9446b8319766fa2f822d274b2ca8", "commit_date": "2023-09-13T14:19:28Z", "commit_message": "Avoid SDL_GetMouseState(), which returns raw coordinates\n\nsdl12-compat tracks the mouse position in the MousePosition variable,\neven when we're not in relative mouse mode. We therefore don't need to\ncall SDL20_GetMouseState() to update it before entering relative mouse\nmode: we already have it from the last SDL_MOUSEMOTION event, and have\nalready applied any scaling we need.\n\nThis is important, because SDL_GetMouseState() returns the _raw_ mouse\ncoordinates, not the ones scaled by SDL_RenderSetLogicalSize(). So we\nend up with a mismatch. This results in a mouse offset on non-OpenGL,\nscaled games, like Alpha Centauri in fullscreen (see #318).\n\nWe could fix this by calling SDL_RenderWindowToLogical() instead, but\nthat complicates the codepath as we don't always have an SDL_Renderer\n(we might be using OpenGL), so this seems cleaner.\n\nI've tested this with SMAC (where it fixes the bug) and Wolf4SDL (which\nwas cited in the commit which introduced this check). Both work fine.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9359cfa28993dca770fd2079351c4c8029a786c2", "commit_date": "2023-09-04T04:04:40Z", "commit_message": "Quirks: Mark of the Ninja (humble bundle) needs OpenGL scaling disabled.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e64f78dd5309ac632398f19998e47c3d0307a82d", "commit_date": "2023-08-26T17:51:56Z", "commit_message": "update SDL20_include_wrapper.h header after latest SDL2 additions.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "d86a5312783e721b19be026913d0b901ee2d3822", "commit_date": "2023-08-26T15:06:36Z", "commit_message": "Allocate video surface object statically as a global\n\nThe SDL Perl bindings incorrectly call SDL_FreeSurface() on the result\nof functions that return a \"borrowed\" pointer to the video surface,\nnamely SDL_SetVideoMode() and SDL_GetVideoSurface().\n(See https://github.com/PerlGameDev/SDL/issues/305)\n\nWhen we would previously have allocated or freed the video surface\nwrapper object, instead allocate or free its contents in-place.\n\nWhen checking whether the video surface exists, because we never destroy\nit, we must now also check whether its underlying SDL2 video surface\nexists.\n\nResolves: https://github.com/libsdl-org/sdl12-compat/issues/305\nSigned-off-by: Simon McVittie <smcv@debian.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "13efe605cc426752dc952522a735337078e03c6c", "commit_date": "2023-08-26T15:06:36Z", "commit_message": "Factor out enough of SDL_CreateRGBSurface to create surfaces in-place\n\nThe part before we create the SDL 1.2 surface (creating the SDL 2.0\nsurface) becomes CreateRGBSurface(), and the part after becomes\nSurface12SetMasks().\n\nSigned-off-by: Simon McVittie <smcv@debian.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3c2bde93d4360516b080f163fafeca78fbf33ba2", "commit_date": "2023-08-26T15:06:36Z", "commit_message": "Factor out FreeSurfaceContents, and handle surface20 more defensively\n\nThis is a step towards making it possible to use the same SDL12_Surface\nfor the video surface at all times, and only reallocating its underlying\nSDL 2 SDL_Surface.\n\nSigned-off-by: Simon McVittie <smcv@debian.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "119974a6e85a456066aeb7522926b92ff029580b", "commit_date": "2023-08-26T15:06:36Z", "commit_message": "Factor out Surface20to12InPlace\n\nThis is a step towards making it possible to use the same SDL12_Surface\nfor the video surface at all times, and only reallocating its underlying\nSDL 2 SDL_Surface.\n\nSigned-off-by: Simon McVittie <smcv@debian.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fdd66e3eed6a422dd20d61f357ff5a2806bf8f06", "commit_date": "2023-08-15T20:27:50Z", "commit_message": "quirks: Add ability to force XInitThreads before main().\n\nFixes #313.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e3a4f787f8b5093fac31ae45fc8a0c432495829d", "commit_date": "2023-08-15T19:57:42Z", "commit_message": "quirks: Trine (the 2011 version from Humble Bundle) can't use GL scaling.\n\nReference Issue #313.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "edc708a169806c523aaf66671049a1fbe9abbf21", "commit_date": "2023-08-07T00:01:59Z", "commit_message": "Fixed implicit memcpy() in AddVidModeToList()", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9150989a711261cfc3a42e1e3e12a081f209c3a2", "commit_date": "2023-08-06T20:09:50Z", "commit_message": "Always fill *buf\n\nIt is an out parameter and callers might be tempted to free it no matter\nwhat the main return value says.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "041cf9a8630da195bb69a552b739f0052d8c2821", "commit_date": "2023-08-06T20:09:50Z", "commit_message": "Add null check to SDL_LoadWAV_RW to avoid crashes\n\nNative SDL 1.2 and 2.0 both handle SDL_LoadWAV(null,...), SDL_LoadWAV(\"\",...) and SDL_LoadWAV(nonexistent_file,...)\nby returning NULL and setting an error; this check resores that\nbehavior.\n\nFixes https://github.com/libsdl-org/sdl12-compat/issues/310", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9a3e5bcb0a08d6e2dacc2616ec4cb6a53e60fb17", "commit_date": "2023-08-06T11:11:10Z", "commit_message": "update CI watcom workflow to pull the SDL2 branch.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f94a1ec0069266e40843138d0c5dd2fc6d43734c", "commit_date": "2023-07-26T17:56:32Z", "commit_message": "update CI:\n\n- update ubuntu from 20.04 to latest.\n- checkout SDL2 from the SDL2 branch, instead of release-2.0.18.\n- update actions/checkout to v3.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4aa491ec84db46d37c8903aa64d8b893cf315b73", "commit_date": "2023-07-26T17:50:50Z", "commit_message": "set cmake maximum policy to 3.5.\n\nhand-picked from SDL2 commit https://github.com/libsdl-org/SDL/commit/14f4fd3f11b4bc5bded6960c7c6118ea06ad86ac", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b000fdc51a7543f4067fa45dbe402ace6c738ba6", "commit_date": "2023-07-05T14:55:32Z", "commit_message": "sync dr_mp3 with mainstream.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "be0b7f937fdf3b4c05d0e875fa2669977a12a436", "commit_date": "2023-06-27T17:57:05Z", "commit_message": "SDL_config: Define HAVE_MALLOC_H on glibc-based platforms\n\nVersion 3.7.4 of the Freespace 2 Source Code Project is known to rely\non SDL having checked for this, and won't see a declaration of\nmalloc_usable_size() if we don't.\n\nThis is a workaround for source compatibility with classic SDL 1.2:\nif a game wants to use functions from a particular system header file,\nit should be that game's responsibility to check for the header file\nitself.\n\nBug-Debian: https://bugs.debian.org/1012232#58\nSigned-off-by: Simon McVittie <smcv@debian.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ed188b5e24fc33190e3eeada5e26f5d295f50948", "commit_date": "2023-06-27T11:45:26Z", "commit_message": "include: Use `struct private_hwdata` incomplete type for API compat\n\nClassic SDL 1.2 headers traditionally had this member as a pointer to\nthe incomplete type `struct private_hwdata`. For whatever reason\n(presumably a sense of completeness) the SDLmm C++ binding[1] that is\nbundled in Debian package 'asc' (Advanced Strategic Command) defines an\naccessor for it, which is declared as returning `struct private_hwdata *`\nand has the obvious trivial implementation[2].\n\nImplicit conversion from `void *` to `struct private_hwdata *` is\nallowed in C, but not in C++, so sdl12-classic's simplification of\nchanging this member from `struct private_hwdata *` to `void *`\nbreaks the build for SDLmm.\n\nArguably it's a bug that SDLmm has this accessor, because this member\nis for internal use by SDL and its type has no public definition, so\nthere's no legitimate reason for third-party code to call the accessor;\nbut it does exist, so 100% source compatibility with classic SDL 1.2\nwould require it to have the same type it historically had.\n\n[1] https://sourceforge.net/projects/sdlmm/\n[2] https://sourceforge.net/p/sdlmm/code/HEAD/tree/trunk/SDLmm/src/sdlmm_basesurface.h#l141\n\nResolves: https://github.com/libsdl-org/sdl12-compat/issues/299\nSigned-off-by: Simon McVittie <smcv@debian.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "65641b54942f06c191b73726a9538763c5ead922", "commit_date": "2023-06-26T11:00:02Z", "commit_message": "SDL_config.h: Assume that all platforms have ISO C89 stddef.h\n\nsdl12-compat's SDL_stdinc.h includes `<stddef.h>` if `HAVE_STDDEF_H` is\ndefined, but until now there was nothing that would have defined that\nmacro. In classic SDL 1.2, SDL_stdinc.h historically included this, and\nsome games (such as Debian package 'berusky') rely on it.\n\nstddef.h is required by ISO C89, and is unconditionally included in the\nheaders of some widely portable libraries like libdbus, so it seems\nsafe to assume that all platforms have it (including Windows) unless\nwe hear otherwise.\n\nResolves: https://github.com/libsdl-org/sdl12-compat/issues/297\nSigned-off-by: Simon McVittie <smcv@debian.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4cc23ab92477ab8446a1745a7d4f202354e430a9", "commit_date": "2023-06-10T17:23:00Z", "commit_message": "update SDL20_include_wrapper.h header after latest SDL2 additions.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "edf615ddbbc40eee692080f74bcf8feb99ec6b04", "commit_date": "2023-05-30T18:15:55Z", "commit_message": "video: Revert SDL_SetPalette no-op return change\n\nRevert incorrect change, see #294", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a291a1a4e9e853539c6830bcf1577166701a9d35", "commit_date": "2023-05-30T17:32:58Z", "commit_message": "video: Correct SDL_SetPalette no-op returns\n\n#294", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4d888293679a3e3652a11f864b8a52c9040910d0", "commit_date": "2023-05-30T16:00:36Z", "commit_message": "video: Correct SDL_SetPalette()'s return value.\n\nFixes #294.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c1eb2fecf9c5fc05e2efce0e2a135cd7474a4874", "commit_date": "2023-05-27T15:56:56Z", "commit_message": "update SDL_platform.h from SDL2.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "619b3d89e943405547a16ccdd68c5b6f14f9bb95", "commit_date": "2023-05-27T13:26:37Z", "commit_message": "Check for undefined TARGET_OS_*\n\nPrevents some versions of clang from erroring out like this:\r\n```\r\nerror: 'TARGET_OS_TV' is not defined, evaluates to 0 [-Werror,-Wundef-prefix=TARGET_OS_]\r\n```", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c3256b38160515dfbf0d7d15f7ecd9bc3407acd0", "commit_date": "2023-05-26T00:39:36Z", "commit_message": "Bumped version to 1.2.65 for future development towards a 1.2.66 release.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4eda8abc24e29a65c6698c4e006dee9b3a6d45d3", "commit_date": "2023-05-26T00:38:18Z", "commit_message": "Bumped version to 1.2.64 for release!", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9d4a969a7ad6f548fe4972df76fba6b62e175618", "commit_date": "2023-05-19T20:50:20Z", "commit_message": "revert MSVC x64 __cpuidex part of commit 865e832d -- not really needed.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2f23ad90cc55b0a6c377aeb71427d01cf622e748", "commit_date": "2023-05-19T17:36:00Z", "commit_message": "syswm: Fixed assignment of incorrect variable.\n\nReference PR #292.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4c22ab5714480f89ef1e8a55719d796ab51a55b0", "commit_date": "2023-05-19T14:18:45Z", "commit_message": "syswm: simplified x11.fswindow and x11.wmwindow assignments.\n\nReference PR #292.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "32a06ea1f13a1e516a2e0f8e0dcf266fa1d88ada", "commit_date": "2023-05-19T14:16:30Z", "commit_message": "SysWW/X11: Return the X11 window as wmwindow and x11window\n\nSteel Storm (and presumably other darkplaces, SDL 1.2-based games)\nexpect x11.wmwindow to be valid if they've created a window and are\nrunning under X11. Just pass the same game window like we do for\nx11.window.\n\nSee the old darkplaces code here:\nhttps://github.com/xonotic/darkplaces/blob/a0465ad2ee16719587b0b7a80d4c1c2f7df1ac0e/vid_sdl.c#L2334\n\nThis should fix the BadWindow errors on Steel Storm Burning Retribution\n(issue #290)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3d54d076074c8fa1d5ea80e1b550901c545e2552", "commit_date": "2023-05-19T13:18:55Z", "commit_message": "COMPATIBILITY.md: Add a note for Civilization: Call to Power\n\nThis is the old Loki port, as described in issue #176. It's mostly just\na link to my website, where's there's an exhaustive (and exhausting)\npage which describes all the hacks needed to get the game working.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "dcb3af3cab4d36834f4b2492df4bc5dde9a773f7", "commit_date": "2023-05-18T13:42:15Z", "commit_message": "Bumped version to 1.2.63 for future development towards a 1.2.64 release.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "59e3eb95ab01e54da012d4514122dd83ef231d07", "commit_date": "2023-05-18T13:11:20Z", "commit_message": "version: Bumping to 1.2.62 for release candidate.\n\n(Actual release will bump to 1.2.64, and then revision control will go\nto 1.2.65 for work, next release candidate will be 1.2.66, then 1.2.68, etc.)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "82b9b50a40072c468f854b47dd3e44ff6e25ab87", "commit_date": "2023-05-16T18:35:13Z", "commit_message": "surface: Add a quirk to disable destination alpha preservation.\n\nThis makes Freedroid render its bots correctly.\n\nFixes #244.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "85031ff680c1d0be3968f45f58e7733873929e0c", "commit_date": "2023-05-16T03:42:06Z", "commit_message": "surface: Set SDL_SRCALPHA on newly-created surfaces the same way as 1.2.\n\nReference Issue #244.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bd3be23cf9f952ec13d5654cc1dc9c4e3801ff69", "commit_date": "2023-05-14T04:37:16Z", "commit_message": "surface: 1.2 colorkeys were ignored if the surface had an alpha channel.\n\nWithout this, the main menu on tuxfootball is wrong, since it's trying\nto draw white text from an RGBA surface with a white colorkey set. Since\nclassic 1.2 would ignore the colorkey, this worked, but SDL2 still honors\nthe colorkey to discard pixels before alpha-blending what's left.\n\nFixes #265.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8662325b370b2a946061a758e22bd63bd77457a2", "commit_date": "2023-04-09T20:37:20Z", "commit_message": "Leave pixels pointer valid after SDL_UnlockYUVOverlay", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "256ae3304425c205e82986ba22d2cc8284e855af", "commit_date": "2023-04-01T17:40:10Z", "commit_message": "fix SDL_assert() after previous commit.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "016d5cbd1ec7044349b5ae26399473ae257cce89", "commit_date": "2023-04-01T17:37:40Z", "commit_message": "SDL20_include_wrapper.h: undefine more macros from SDL2 headers.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "865e832d47381cbc224cce98c4a18d4a3783d055", "commit_date": "2023-04-01T11:10:10Z", "commit_message": "updated cpuid code from SDL3", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8d355d2c4d55f5d8b75f6bae78370f393142ca69", "commit_date": "2023-04-01T11:10:10Z", "commit_message": "minor tidy-up.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b48b470b15ff64c769a2463b08842b297067e575", "commit_date": "2023-03-28T15:14:32Z", "commit_message": "Updated copyright for 2023.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "10fa8dd64d97af3ff9fa46e50197586f7383db1e", "commit_date": "2023-03-23T09:48:37Z", "commit_message": "Compiling with Clang on Windows fails at version.rc", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0adf9aa009ce336d8358ad6d0865e6dc0647f171", "commit_date": "2023-02-08T22:21:32Z", "commit_message": "init: eliminate lstrcpyA() and wsprintfA() dependencies on windows.\n\na stpcpy() and an itoa() implementation are enough to replace them.\n\n(backported from sdl2-compat)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2eae59e0a2b5bce5c1334d51f440a59c38a2ee9a", "commit_date": "2023-02-04T17:55:40Z", "commit_message": "restore buildability with c++ compilers.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5537203a7f9246d5acd490b92df0477ea042d6a1", "commit_date": "2023-02-04T17:55:40Z", "commit_message": "minor style tidy-up.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3b8244745668a0af71d1b19694e524ca8e7489ef", "commit_date": "2023-02-04T17:55:40Z", "commit_message": "replace all SDL_zero() with SDL20_zero()", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ca3ce22f962be72dbd8bfc8541d120539d1fc889", "commit_date": "2023-02-04T15:56:10Z", "commit_message": "SDL20_include_wrapper.h: sync with latest SDL2 headers.\n\nBefore this , many exported SDL-1.2 procedures used to be accidentally\nprototyped by SDL2 headers..\n\nAfter this, build attempts against SDL2 headers older than 2.0.10 will\nresult in redefinition warnings for SDL_RWsize, SDL_RWseek, SDL_RWtell,\nSDL_RWread, SDL_RWwrite, SDL_RWclose, and SDL_LoadFile, but the result\nwill be OK.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "52b92eed0ba7cc556f911a6757eed7884d95f6df", "commit_date": "2023-02-04T14:01:02Z", "commit_message": "we do not need to define SDL_BlitSurface as SDL_UpperBlit again.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "510bc7e65d5e5fe290e6d416db14dba6e09d12f0", "commit_date": "2023-02-04T14:01:02Z", "commit_message": "we have no business with DisableScreenSaver/EnableScreenSaver from SDL2", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f0b28aaae68dc41aca6299fd786799e1f200786a", "commit_date": "2023-02-04T14:01:02Z", "commit_message": "clean-up", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "663c34b130383df2ba6674dc13657da9ca597cb7", "commit_date": "2023-02-03T22:55:50Z", "commit_message": "several type / prototype fixes for SDL2 functions.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b2f7b7736b4adaba2805e5d2979c51676ee950ce", "commit_date": "2023-01-13T20:19:39Z", "commit_message": "video: Don't create a new VideoRendererLock if we already have one.\n\nFixes #285.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5e89e86519dfc9ed70738bcca5c9b72becbc07fa", "commit_date": "2023-01-13T20:14:25Z", "commit_message": "quirks: Don't let grafx2 access an X11 server directly.\n\nFixes #282.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "db10d6fc01a2a567ddf58e9890b3bbeb6fa5c77c", "commit_date": "2023-01-13T16:45:58Z", "commit_message": "video: Fixed memory leak in video subsystem quit.\n\nFixes #284.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f52d7787f9f513a5a2ba99d92678af39a9548458", "commit_date": "2023-01-11T20:27:00Z", "commit_message": "audio: Deal with non-seekable rwops in SDL_LoadWAV_RW.\n\nFixes #283.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "86183bf42d74a967451483b89679ef099d4a4023", "commit_date": "2023-01-11T01:50:12Z", "commit_message": "video: Only pretend to lock the screen surface.\n\nThis fixes rendering in xrick.\n\nReference issue #283.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b35bb7c0867fb119e6d8c835bc57a4639c12e1e5", "commit_date": "2023-01-11T01:15:14Z", "commit_message": "video: Initialze the screen surface's pixels during SDL_SetVideoMode.\n\nReference Issue #283.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2bc46a0f9f400f9e6b2f8d52fc7378f90ca748f3", "commit_date": "2022-12-19T21:47:20Z", "commit_message": "Fix -Wsign-compare warnings.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3e81339b30bffb54cb0563a9bd6194ffedb2cce8", "commit_date": "2022-11-29T20:10:50Z", "commit_message": "Makefile.linux: adjust symlinks.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "137d4515585efa145baca6bf52afd1eb702a6bbc", "commit_date": "2022-11-27T17:29:40Z", "commit_message": "minor clean-up.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e8de4b55eff752cd5fa80b37b1d1e4261bf11932", "commit_date": "2022-11-27T16:11:38Z", "commit_message": "Call PumpEvents in PresentScreen when SDL_EVENTTHREAD enabled\n\nAt the moment, we \"emulate\" SDL_EVENTTHREAD by calling SDL_PumpEvents()\nin SDL_PeekEvent(). But some games don't even do this, so events aren't\npumped at all, particularly while (e.g.) videos are playing, which is\noften just a tight SDL_DisplayYUVOverlay() loop.\n\nIf we SDL_PumpEvents() from within PresentScreen(), we should at least\nget events as long as the screen is being updated.\n\nThe complexity here is that SDL_PumpEvents() itself calls\nPresentScreen() to get a minimal framerate from things rendering\ndirectly to the front buffer. So we add a quick check to avoid\nSDL_PumpEvents() from entering infinite recursion by calling itself.\n\nShould fix the difficulty with skipping videos in Alpha Centauri\nmentioned in #278.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "a3d1da652229ef7eb19ccebecd8a35ff749e4f59", "commit_date": "2022-11-27T16:09:54Z", "commit_message": "DisplayYUVOverlay: Don't update screen surface if clean\n\nCurrently, if there are multiple SDL_DisplayYUVOverlay() calls in a row,\nwe force an SDL_Flip() between them, in order to make sure that the\nscreen is updated. However, this results in the non-YUV video surface\nalso being updated, even if it otherwise wouldn't be.\n\nInstead, copy the code from all of the other places where we force an\nupdate of the screen, which checks if the surface is dirty, and if not\ncalls PresentScreen() directly without updating the VideoSurface. (After\nchecking we're in the correct thread, of course...)\n\nThis hopefully fixes video artefacts in Alpha Centauri (bug #279)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "484c6a8ca710f2e5c877426a2500275aa2a2c324", "commit_date": "2022-11-23T03:29:33Z", "commit_message": "Copyright was never updated for 2022. Still like five weeks left!", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8bc4b0e345770c3ec36e4100cd00128a18b3282e", "commit_date": "2022-11-19T00:23:43Z", "commit_message": "quirks: Add SDL12COMPAT_COMPATIBILITY_AUDIOCVT=1 to \"pink-pony\".\n\nFixes #259.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "fe0713a5a7c3266a4b0fe870dcbcbb748fff324b", "commit_date": "2022-11-19T00:23:00Z", "commit_message": "audio: fixed compatibility downsampler.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "209ebaec06d37d46cb79e4ded1b549b5b0fb485e", "commit_date": "2022-11-19T00:22:07Z", "commit_message": "debugging: Make note of the binary name we see.\n\nThis is useful when you go to add a quirk for \"mygame\" but it turns out\nthat name is just a script that runs \"mygame.bin\" or whatever.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "178fe4ce85b144fff1b016f768c69b9dd76dcafa", "commit_date": "2022-11-18T23:56:36Z", "commit_message": "quirks: Added SDL12COMPAT_COMPATIBILITY_AUDIOCVT=1 to \"fillets\"\n\nFixes #234.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "cc5c30984d8cffff056857dc62f337b962f20583", "commit_date": "2022-11-18T23:56:10Z", "commit_message": "audio: Fixed logic bug in compatibility resampler.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "10a88ff2cc75c1151b4d365f79edc87f9ce2cc1f", "commit_date": "2022-11-18T21:48:02Z", "commit_message": "quirks: SDL12COMPAT_COMPATIBILITY_AUDIOCVT should default to off.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f58ff7cf742afaae84a2fdbbafe67d71a8c11780", "commit_date": "2022-11-18T21:36:11Z", "commit_message": "audio: Add a quirk to mimick SDL 1.2's audio converters more closely.\n\nIn practice, you _don't_ want this; the resampler is extremely low\nquality and will overflow buffers if the frequency conversion isn't a\nmultiple of two (just like SDL 1.2), but it works if the app allocates\nits conversion buffer incorrectly, and it's possible that some app\nrelies on the quirky conversion in some form, too.\n\nFixes #232.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "76a1af147ea87bca20358ad54912a3f620115db2", "commit_date": "2022-11-17T19:58:31Z", "commit_message": "quirks: quake2xp now uses SDL_GL_GetProcAddress, so no quirk needed!\n\nReference Issue #273.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "616e81294c04ba7d8523034b78c64c8f64c5c181", "commit_date": "2022-11-17T18:47:50Z", "commit_message": "quirks: Turn off OpenGL scaling for Quake 2 XP.\n\nFixes #273.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "683234e8708a081224942181710ca5dd3cee409e", "commit_date": "2022-11-17T15:55:07Z", "commit_message": "Fixed infinite loop in SDL_FreeYUVOverlay()\n\nFixes https://github.com/libsdl-org/sdl12-compat/issues/275", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1c6b5baf3923e5afcd115e00273d9d7ffcb22956", "commit_date": "2022-11-17T09:11:24Z", "commit_message": "SDL does support 1 and 4 bit surfaces, so allow these depths\n\n1-bit bitmap surfaces are used by Maelstrom for rendering text, for example\n\nFixes https://github.com/libsdl-org/sdl12-compat/issues/274", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "77892a1ef5260fe78e593c8337dbe98874ff336c", "commit_date": "2022-10-25T13:19:17Z", "commit_message": "fix SDL12COMPAT_MAX_VIDMODE,\n\n.. was broken by commit 7be4b3c99a436e360a43aefc929087c46cdadee9", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "023e81237c9cc463e7761a332d517bae2318a2c5", "commit_date": "2022-10-24T18:44:13Z", "commit_message": "HOW_TO_TEST_GAMES: Added note on setgid binaries.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "883b629995e998e04b2ccd80a2c3ada46b0ce093", "commit_date": "2022-10-24T18:27:17Z", "commit_message": "Bumped version to 1.2.61 for future development towards a 1.2.62 release.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}]}