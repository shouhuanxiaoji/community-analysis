{"master": [{"commit_oid": "2cdc323743a04c37dd5df83d39ac94f924df517b", "commit_date": "2023-09-25T11:52:13Z", "commit_message": "workflows/tests.yml: add gentoo to CI\n\nSigned-off-by: Andrew Ammerlaan <andrewammerlaan@gentoo.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2dbc4a9c155c02c65b932deca89f238a9a72cb49", "commit_date": "2023-09-25T11:52:13Z", "commit_message": "run_test.sh: add gentoo as valid os id in tests\n\nSigned-off-by: Andrew Ammerlaan <andrewammerlaan@gentoo.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c22fad076ebc8771f5d3feaf3fd2043bfb1134de", "commit_date": "2023-09-24T12:53:26Z", "commit_message": "Bump release\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "727d5e68342d5ca62d462d2ab204f6823b3be8ac", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "Drop hard-coded /etc/kernel references\n\nIf the user has set KCONF we should honour it.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "41bb1957df02234e9b5d79240779030efc604892", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: remove DESTDIR prefix for KCONF\n\nUsual conventions dictates that DESTDIR is applied at the install stage.\nWe currently embed it into each use-configurable toggle, which goes\nagainst that.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1300f2aac6294cab70b4c457fbc9e0ad78b72257", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "Drop hard-coded /usr/lib/dkms references\n\nIf the user has set LIBDIR we should honour it.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "67523951a2b7c1ab04718ee30d5f1b5c4cfb7c95", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: remove DESTDIR prefix for LIBDIR\n\nUsual conventions dictates that DESTDIR is applied at the install stage.\nWe currently embed it into each use-configurable toggle, which goes\nagainst that.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "559681df1b9bed65e74bb4e373aea1d0df2ac572", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "Drop hard-coded /usr/sbin references\n\nIf the user has provided SBIN we should honour it.\n\nThe Makefile handling is a bit repetitive, but polishing that is an\nexercise for another day.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b046a2e462ec107d42b0460bc6a4f197e43ca786", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: reshuffle all/install/tarball target deps\n\nThe current all target is a bit bonkers - it cleans all the generated\nfiles, does not explicitly regenerate them and creates a distribution\ntarball.\n\nWith the latter having the side effect of regenerating the required\nfiles, by having a dependency list.\n\nSimilar to the tarball target, install also has an explicit dependency\nlist of files that need to be generated.\n\nAll of this is fairly uncommon to how all the projects (that I've seen)\noperate. Namely:\n\nall: all_the_generated_targets\n\ninstall: all\n   install steps\n\ntarball: all\n\nclean:\n   foobar ... the target is never a dependency of any of the above\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9c4a22a4e1d381b6dc6a72270097f6520393f68a", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: remove DESTDIR prefix for SBIN\n\nUsual conventions dictates that DESTDIR is applied at the install stage.\nWe currently embed it into each use-configurable toggle, which goes\nagainst that.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f5a7bc152d4940b4daa56ab1fc7b245c59cf6494", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: inline and ban DOCDIR/SHAREDIR\n\nAFACIT no linux distro out there uses the non-default values. Similar to\nMAN - some BSD/Solaris distros might have differing path. Although until\nthat proves to be an issue, let's remove these.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "646e0278d68cef8b554c1a9fb12592032ddef99e", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: remove DESTDIR prefix for SYSTEMD\n\nUsual conventions dictates that DESTDIR is applied at the install stage.\nWe currently embed it into each use-configurable toggle, which goes\nagainst that.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f64fdb08fbf7fcb6cf61748e96a587ef278f1285", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: inline and ban MAN\n\nThere is a single instance of the variable, there's no Linux\ndistributions that I can see overriding the default. Yet most\nimportantly the variable should really be called MANDIR, to be\nconsistent with the vast majority of projects out there.\n\nBSD, Solaris and friends tend to use different path, but dkms is not\nusually used on those.\n\nAs needed we can reinstate the config toggle (as MANDIR really) if\nneeded.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e6f300a8cbdc31150311a971c8b5550a34315c11", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: stop gzip compressing the man page\n\nThe uncompressed manual is absolutely tiny, plus the decision to\ncompress or not is up-to the distribution. In cases where people\nbuild/install dkms manually they can handle this themselves.\n\nFor example: Gentoo has a workaround to remove the compression\n@AndrewAmmerlaan - you can now drop that \\o/\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1f7eee0b8c19a88a1cda42c8433e7a1d94339a55", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: inline and ban BASHDIR\n\nThere are dozen of instances across the codebase, that use /usr...\nalthough none of them actually honour the variable. Skimming through\nexisting projects/distros - they all seem to use the default.\n\nInline the instance and print a meaningful error in case it's set.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f2f36dd6e0cc056b64ebae77ff7c757cc4ae004e", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: inline and ban ETC\n\nThere are dozen of instances across the codebase, that use /etc...\nalthough none of them actually honour the variable. Skimming through\nexisting projects/distros - they all seem to use the default.\n\nInline the instance and print a meaningful error in case it's set.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7d3276a028e9f52765f2c13ccc4e8dea9171045c", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: inline and ban VAR\n\nThere are dozen of instances across the codebase, that use /var...\nalthough none of them actually honour the variable. Skimming through\nexisting projects/distros - they all seem to use the default.\n\nInline the instance and print a meaningful error in case it's set.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "6db654cd57155ddea68f99d4f29501c71fc11447", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: create install directories with install\n\nmkdir inherits the umask of the environment. Using install gets us past\nthat, while also being consistent with the rest of the codebase.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7b6c36947d5392070741efed410939cc568f1fd1", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "make: remove unused variables\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f0f7cde0b94f100fbd07f34622c12da0eefb0b97", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "Remove lsb_release\n\nThe codebase has moved to use /etc/os-release with a fallback to\nlsb_release. That said, the latter has two variants a data file in /etc\nor an executable in $PATH.\n\nThe in-tree lsb_release is an executable script, although it's installed\noutside of $PATH and no distribution (that I can see) adjusts the\nenvironment variable or even uses external lsb_release dependency.\n\nConsidering the lack of practical users, let's remove the script. We can\nworry about the remaining in-tree lsb-release references later on.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7b010f73cd03bde968b70ba16b022e066a743ac6", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "Remove lsb-release/lsb_release handling\n\nA while ago we started using os-release to get the distribution\nname/details. Since then all the distros that I've seen (apart from\nDebian and derivatives) have dropped lsb-release from their\ndependencies.\n\nLet's remove the final remanands, this in turns allows us to remove the\nspecial PATH mangling and the unmaintained in-tree lsb_release (see next\ncommit).\n\nAs a nice bonus - source the /etc/os-release in a sub-shell, so we don't\nget any other control flow/variables as side-effect.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "046741f874b4fca9794d4ecd0ca216c389135a40", "commit_date": "2023-09-21T18:02:44Z", "commit_message": "Remove find-provides script\n\nIt was used solely by the make_rpm machinery. With that one gone we can\ndrop the script.\n\nThe script seems outdated (no support for zstd modules) and\nundocumented. If we are to revive it (no objections there) we should\naddress those two as a base acceptance entry.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "029104f50adb9d9430c8b74ba289f71add6a163e", "commit_date": "2023-08-23T06:38:06Z", "commit_message": "Fix grammatical error\n\nSigned-off-by: kayos@tcp.direct <kayos@tcp.direct>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "30bdbdd84c660cdaef0f0414e9aa2af6c9f2bf04", "commit_date": "2023-06-25T20:07:55Z", "commit_message": "Makefile: fix file extensionf of kernel-install plugin\n\n- Plugins need the .install extension, otherwise they are ignored.\n\n40 ensures that dkms is run before dracut, useful if dkms modules are to be\nincluded in the initrd.\n\nFedora already installs the plugin with this name.\n\nSigned-off-by: Andrew Ammerlaan <andrewammerlaan@gentoo.org>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4682876f9881e63066f414f734719cc7663c6930", "commit_date": "2023-06-20T11:09:06Z", "commit_message": "fix hardcoded architecture in test output", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9f5c56eba7d05e59aa3dff2f9971ba9f9e6dd1be", "commit_date": "2023-06-20T11:09:06Z", "commit_message": "dkms: error out if $arch cannot be determined\n\nif for some reason $arch cannot be determined (e.g. due to a broken rpm\nshim on distributions using a different package manager), dkms will\nhappily build a module, placing state info in\n/var/lib/dkms/$module/$version/$kernel//, but that subsequently causes\nerrors because the module is not considered to be installed and at the\nsame time cannot be removed any more\n\nBefore:\n\nsid# dkms status\nsid# ln -s /bin/true /usr/bin/rpm\nsid# dkms add dkms_test/1.0\nCreating symlink /var/lib/dkms/dkms_test/1.0/source -> /usr/src/dkms_test-1.0\nsid# dkms status\ndkms_test/1.0: added\nsid# dkms build -k 6.1.0-9-amd64 dkms_test/1.0\nSign command: /usr/lib/linux-kbuild-6.1/scripts/sign-file\nSigning key: /var/lib/dkms/mok.key\nPublic certificate (MOK): /var/lib/dkms/mok.pub\n\nBuilding module:\nCleaning build area...\nmake -j16 KERNELRELEASE=6.1.0-9-amd64 -C\n/lib/modules/6.1.0-9-amd64/build M=/var/lib/dkms/dkms_test/1.0/build...\nSigning module /var/lib/dkms/dkms_test/1.0/build/dkms_test.ko\nCleaning build area...\nsid# dkms status\ndkms_test/1.0: added\nsid# dkms build -k 6.1.0-9-amd64 dkms_test/1.0\nSign command: /usr/lib/linux-kbuild-6.1/scripts/sign-file\nSigning key: /var/lib/dkms/mok.key\nPublic certificate (MOK): /var/lib/dkms/mok.pub\nError! This module/version has already been built on: 6.1.0-9-amd64\nDirectory /var/lib/dkms/dkms_test/1.0/6.1.0-9-amd64/ already exists. Use\nthe dkms remove function before trying to build again.\nsid# dkms status\ndkms_test/1.0: added\nsid# dkms remove -k 6.1.0-9-amd64 dkms_test/1.0\nModule dkms_test 1.0 is not installed for kernel 6.1.0-9-amd64 ().  Skipping...\nModule dkms_test 1.0 is not built for kernel 6.1.0-9-amd64 ().  Skipping...\nsid# dkms status\ndkms_test/1.0: added\nsid# dkms remove dkms_test/1.0 --all\nsid# dkms status\ndkms_test/1.0: added\nsid# find /var/lib/dkms/dkms_test/1.0/\n/var/lib/dkms/dkms_test/1.0/\n/var/lib/dkms/dkms_test/1.0/6.1.0-9-amd64\n/var/lib/dkms/dkms_test/1.0/6.1.0-9-amd64/module\n/var/lib/dkms/dkms_test/1.0/6.1.0-9-amd64/module/dkms_test.ko\n/var/lib/dkms/dkms_test/1.0/6.1.0-9-amd64/log\n/var/lib/dkms/dkms_test/1.0/6.1.0-9-amd64/log/make.log\n/var/lib/dkms/dkms_test/1.0/6.1.0-9-amd64/log/.config\n/var/lib/dkms/dkms_test/1.0/source\n\nAfter:\n\nsid# dkms status\nsid# ln -s /bin/true /usr/bin/rpm\nsid# dkms add dkms_test/1.0\nError! Could not determine architecture.\nsid# echo $?\n12\n\nto manually recover from the bug use\n  rm -rf /var/lib/dkms/$module/$version\nand add/build/install the module(s) again", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "eeb6fb4552a6776be9d21caef0d0d83852524664", "commit_date": "2023-06-20T11:09:06Z", "commit_message": "CI: Debian: rely on the compiler dependency of the header package\n\nDebian (but not Ubuntu) builds its kernels with a versioned compiler\nbinary (gcc-XX) and the linux-headers-* packages depend on that compiler", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "78cc990de1903844b7f14d87de530038917891df", "commit_date": "2023-06-20T11:09:06Z", "commit_message": "CI: add Debian 12 (bookworm) to the test matrix", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "aa3a04ab274c30bc8edaead2ed574a768e8b41a6", "commit_date": "2023-06-20T11:09:06Z", "commit_message": "move .kernelvariables parsing to prepare_build()\n\nwhere the .config based compiler detection happens,\nensures that the compiler is set for PRE_BUILD", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7c7d0c303c006b59f9615c6f6a564da4a2f2121e", "commit_date": "2023-06-20T11:09:06Z", "commit_message": "restore non-clang CC detection from .config", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "782bd07641b957012f9b8d621bf9b51f82bfc728", "commit_date": "2023-04-27T15:06:25Z", "commit_message": "Bump release", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9c2f32c6607a412866d9242670593a6483cb89f7", "commit_date": "2023-04-27T14:28:04Z", "commit_message": "CI: remove Debian 9 from the matrix\n\nThe distribution has recently been archived and the packages are no\nlonger reachable... In the default configuration at least - I didn't try\nrummaging through the apt config.\n\nAFAICT Debian 9 has gone EOL in 2020, with LTS finishing in 2022. There\nis an ELTS still ongoing but that's outside of our concerns... Unless\nsomeone comes up with enticing suggestions that is ;-)\n\nSigned-off-by: Emil Velikov <emil.velikov@collabora.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8606438d07b3d80b5b696998c60351d5e10bd225", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "dkms: unconditionally set $running_distribution\n\nthis is used in multiple\n  case \"$running_distribution\" in ...\nstatements that are independent of $addon_modules_dir", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3f574b5af8fb211304625be6cd4e90f81035a4f6", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "dkms_autoinstaller: remove bashism from posix sh script", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e4fb6d766f1a9fe546f1784918c57a230006de4a", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "dkms: fix wrong comparison operators (SC2071)\n\nSC2071 (error): > is for string comparisons. Use -gt instead.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "468025752343dbc8609704bf0915f52b9c5c50f2", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "dkms: fix test for mktarball generated tarball (SC2157)\n\nSC2157 (error): Argument to implicit -n is always true due to literal strings.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "20eeeed5bc82585ffd29dbf2a94e25fcd5ebbeb7", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "dkms: always quote $arg in [ -n \"$arg\" ] (SC2070)\n\nSC2070 (error): -n doesn't work with unquoted arguments. Quote or use [[ ]].", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f50d5c47e077fdc22f526ae23cf9d3c8dcb4dfe8", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "dkms_find-provides is a bash script", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7df4928047e219ae96f67169085b18120759b662", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "sort kernel lists by version\n\nthis is a purely cosmetic change to get a \"natural\" processing order in\ncase multiple kernels versions are installed, e.g. 4.1 < 4.2 < 4.10 < 5.0\ninstead of alphanumeric order, e.g. 4.1 < 4.10 < 4.2 < 5.0", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "da958b298d8e1f188ee7be42babc6494bcf1510a", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "add BUILD_EXCLUSIVE_CONFIG\n\nsupport build exclusion depending on kernel features being present/absent,\ne.g. BUILD_EXCLUSIVE_CONFIG=\"CONFIG_FOO !CONFIG_BAR\"\n\nCloses #219", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "566223d6b895a51c84ab2e513caeb97c9185cdf1", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "add BUILD_EXCLUSIVE_KERNEL_MIN/MAX\n\nskip building the module if kernelver does not satisfy\nBUILD_EXCLUSIVE_KERNEL_MIN <= kernelver <= BUILD_EXCLUSIVE_KERNEL_MAX\n\nCloses #300", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bd33c75da11758fd8ec2da3365fc653751ab1a70", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "run_test: interleave stdout with stderr in expected output, again", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3a097173fbf3c7713ad790c912df66196a3452e6", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "Revert \"run_test: reorder expected output to be stdout followed by stderr\"\n\nThis reverts commit 288f58029f7a1f4e12fa51d48b44156f1dcc01e5.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2f3b3de122e7210b6d0d0c991af5ac531258ede4", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "run_test: run commands via 'stdbuf -o L -e L'\n\nfor deterministic output interleaving", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5111f9cfe56cd357d81d7471fd090459bf905f99", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "print a warning if /proc is not mounted\n\nthe bash idiom <(foo) relies on the /dev/fd -> /proc/self/fd symlink\n\nif /proc is not mounted, dkms status (and other actions) may fail with\n\n   /usr/sbin/dkms: line ####: /dev/fd/##: No such file or directory\n\nhttps://bugs.debian.org/810665", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "61e2ad319dc41f05c4b02cd39ed3a10543a4231f", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "run_test: make run_with_expected_output() a special case of ..._error()", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "88066a5cb8e274df3922b61def04e9dbae445068", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "run_test: simplify run_with_expected_error()\n\nthere is no point in special casing a mismatching return code of 0", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b277befa4a4e0f8c0bcdd24f9ced6b2ac4b86b8e", "commit_date": "2023-04-20T08:17:39Z", "commit_message": "whitespace cleanup", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "df27a1d76521d95e1bf2d1055b9e8e2486b286a2", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "dkms_autoinstaller: skip autoinstall if headers are missing\n\nalign the behavior with dkms_common.postinst which also skips the build\nstep if headers are not available\n\nBefore this change the following installation order succeeds (while\nlinux-headers-... is *not* installed) (Debian syntax):\n  apt install linux-image-... && apt install ...-dkms\nwhile the opposite order causes a failure:\n  apt install ...-dkms && apt install linux-image-...\nAfter this change both ways succeed.", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "75f4f0d9417ef01eef94e7a4ba3dcd4d3ff4895e", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "autoinstall: let skipped modules \"satisfy\" dependencies\n\notherwise a module with a build_exclusive constraint can fail due to a\nmissing dependency, since build_exclusive is only evaluated after all\ndependencies are satisfied\n\na build-exclusive module depending on another build-exclusive module\njust needs the same (or a more strict) build-exclusive constraint", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "9a6927071be6f8a3f488f2b85890b796e2603cff", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "autoinstall: marking modules as skipped is progress, too\n\nresolving skipped modules with dependencies may need multiple rounds", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "8e55e5e945bc24c9642c9832b444cda4129ae21f", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: add tests for skipped modules with dependencies", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "74829397eae7e8129659bbd530ffe5a46b81549b", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: add tests for succeeding, failing and skipped modules", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7ea8d7dc472096fe865a02d8b05a94c015c02ac8", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: add tests for succeeding and skipped modules", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0f499c987b13439e9f6e30895c3876ff512e8eb0", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "autoinstall: do not fail on modules skipped due to BUILD_EXCLUSIVE_*\n\nCloses #302", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "cac91325f4f9a10055a2d5b414808065cd640098", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "prepare_build: use return code 77 if skipping due to BUILD_EXCLUSIVE_*\n\nerror code 9 is used at multiple locations throughout the dkms code\nto indicate different unrelated errors\n\nerror code 77 has been used by GNU autotest for skipped tests and was\nlater adopted by other testing frameworks", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b0dcf89549c170b1c6c78fda28138fd54cab0f3e", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "autoinstall: be more verbose on success", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f3f418121bb26fcf65df9fd6a314a31b69e974c1", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "autoinstall: be more verbose on failure", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c7309d8845b3883919dadf038169fc090e681b78", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: add tests for BUILD_EXCLUSIVE_* modules", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "47713e156c3ac85177adedf098c458c70ab48676", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "preserve the order of the modules\n\nthe keys of an associative array have no defined order\n\nthis is no problem for regular operation, but tests that run\nautoinstall to (try to) build multiple modules need a deterministic\nordering of the modules to produce deterministic output", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "715ac469c8c8bbc17bc5d9ff1b0fa1385e9a9e4b", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "autoinstall: simplify building the list of candidate modules\n\nensures that\n* installed_modules does not contain duplicates\n  (could happen if multiple kernels are installed)\n* the intersection between installed_modules and to_install is empty\n  (could happen if multiple versions of a dkms module are installed)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "144229100069b1d54b60cd998c7697acce911ad9", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: test dkms autoinstall w/o headers", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "35e504342dad3f6a8d078042c252f281f85b2102", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "tests: whitespace cleanup", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "288f58029f7a1f4e12fa51d48b44156f1dcc01e5", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: reorder expected output to be stdout followed by stderr", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4a78ac10f52da2aec770c41b81355543c09eda28", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: collect stdout and stderr separately to avoid interleaving\n\ninterleaving may be nondeterministic due to buffering", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "b20a728aa4a395c5498d71b490f56b67c9b2c3f4", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: run command and collect exit code before evaluating the result", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "66eec5dd89d0f2a8afdd46f89e2e55aef061370c", "commit_date": "2023-04-03T11:07:30Z", "commit_message": "run_test: fix picking the dkms subcommand for genericize_expected_output", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "499d28b3745f993b72d7f8608f22a778c53009cc", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "print a warning if $TMPDIR is full\n\na full $TMPDIR usually results in\n\n  /usr/sbin/dkms: line ##: echo: write error: No space left on device\n\nthe resulting infinite loop reported in https://bugs.debian.org/702018\nseems to be no longer reproducible as the code waiting for some tempfile\nto grow no longer exists", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c0ddac27797916e4b8c051fa8eb0ed91ff849d71", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "fall back to $conf as possible bad dkms.conf", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0416704f80f7770de0526c290cf6cc8abf812380", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "dkms.8: reorder dkms.conf directives\n\nmove required ones further up and fix grouping", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "640b08e40230b5de5bbc602f3cd9f8307f02d941", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "man: clarify 'dkms add' arguments", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7dfcb66551e4c413260bc51a34e5cbf1d0c2a313", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "do not fail after installing 0 out of 0 modules", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "be4a10d82f54aa5587f73015d416c16b2b82a8dd", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "test add/build/install of a test module building zero kernel modules", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "cd7ad52fd617de15826a623c29c5c6611c4f5443", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "emit only a warning if dkms.conf specifies zero modules", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c8127619102226b4c1c8def6edfe63495c78c46c", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "test dkms.conf defining zero modules", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3876239f72d6f4af0288c0bcb5d6afefa4723977", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "test building module without source", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3a83b481e3477c87cabfa1ca0555f8107c057980", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "test dkms add with empty source tree", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ea518917b252d2ad291fdebd57376ab922b0db11", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "default BUILT_MODULE_NAME only if the number of modules is 1", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "25edf265fa0f7522c161a332a22905a0c3b372e5", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "cache the absolute resolved pwd", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "95ca2fcfdf50437c89df7e3ddfa691399a785697", "commit_date": "2023-03-31T14:50:31Z", "commit_message": "be more verbose about missing openssl", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "78bc5aa693ec9928778836469b815d2da5434e19", "commit_date": "2023-03-29T14:21:55Z", "commit_message": "default built_module_name[0] to $PACKAGE_NAME\n\n$module is not yet set in add_source_tree", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7b8ce06785ca5b95163623191c405163d63dff89", "commit_date": "2023-03-29T14:21:55Z", "commit_message": "test dkms.conf with defaulted BUILT_MODULE_NAME", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7d7ceabf5d7f6be4f5a2d0c877d548782c090782", "commit_date": "2023-03-29T14:21:55Z", "commit_message": "test dkms.conf with invalid values", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "cbab40c3ef62f25bae0a22d4b5d0fea98078f804", "commit_date": "2023-03-29T14:21:55Z", "commit_message": "fix filename in error message", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "62bff14e8b5ba6e98bf3ed3ed75fc82280b83294", "commit_date": "2023-03-29T14:21:55Z", "commit_message": "check for mandatory directives first", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "603f3751cb9959b8e129f14a631916f29bc738fe", "commit_date": "2023-03-29T14:21:55Z", "commit_message": "test dkms add with empty dkms.conf", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "06673032747f1363ecbb51954f0692442b07b7ef", "commit_date": "2023-03-29T14:21:55Z", "commit_message": "add some test classifications", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "0e12fe12cb63dd59420a8db3dcd5d0a680e772e2", "commit_date": "2023-03-26T18:25:47Z", "commit_message": "README: update the update-secureboot-policy refernce\n\nThe tool hasn't been used on Debian for a while now. Update the readme\nto be less misleading.\n\nFixes: 985bfd5 (\"Fix signing without custom key on Debian\")\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "326b4c43b90ba63da689346cbc398f7be00da145", "commit_date": "2023-03-26T18:25:47Z", "commit_message": "README: trim trailing white space, re-wrap\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "561c73c6764e0e6110b811880844f8630de1491a", "commit_date": "2023-03-26T18:25:47Z", "commit_message": "README: fix all the typos\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1b081757e5ed5b183e4c6e18872e04b8cb26c858", "commit_date": "2023-03-26T18:25:47Z", "commit_message": "dkms: reinstate --enroll-key\n\nThis is a Debian/Ubuntu patch, the following is their original commit\nmessage:\n\n When a brand new secureboot key is created, and it hasn't been\n previously enrolled as a mok key, it will be rejected by the\n kernel. After creating a new key, one should be enrolling it.\n\nSide note: The update-secureboot-policy script seemingly originates from\nUbuntu, where Debian has an ancient copy, which lacks both --new-key and\n--enroll-key.\n\n[Emil Velikov]\n - add side note, remove EFI messages from test output\n\nFixes: 3ca52f8 (\"Fix signing on ubuntu & debian (#244)\")\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "52aaafd0bd4cfa774ea8267e8b54b2429d296f32", "commit_date": "2023-03-26T18:25:47Z", "commit_message": "run_tests: select the noninteractive debconf frontend\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "efdd2cfd2cb1aa2707466df689e3a511d2a25779", "commit_date": "2023-03-25T20:03:09Z", "commit_message": "CI: sort the AlmaLinux variants\n\nUse the newest version at the top, just like the rest of the list.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2c30e8554dd22a968c8c2fc5d1cceb3feee3da0f", "commit_date": "2023-03-25T20:03:09Z", "commit_message": "CI: switch from Alpine 3.10-3.14 -> 3.15-3.17\n\nIn practical sense 3.14 and older are EOL - 3.14 still have one month\nleft. Switch to versions which are actively supported upstream.\n\nv2: update the compression suffix expectation\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7360270d4fd4eefe4db953025a52abf41b543ca3", "commit_date": "2023-03-25T15:56:54Z", "commit_message": "CI: remove Debian 8 from the build matrix\n\nDebian 8 was EOL circa July 2020, their repo keys have been expired for\naround three months now and as of a few days ago, the packages were\nmoved from the official server(s).\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ef3f4253b1d2dedf15b379a0f4f2b15d03c4d536", "commit_date": "2023-03-23T10:50:06Z", "commit_message": "run prepare_kernel before prepare_signing\n\nAll further preparatory steps are moot if there are no usable kernel\nheaders, so check that first.\nThis also avoids misleading errors from prepare_signing (missing\n.config, missing signing script).", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "31e43a6a7f7241f552e12c1464bdefb85b40f033", "commit_date": "2023-03-23T10:50:06Z", "commit_message": "use log_action_msg instead of log_daemon_msg w/o log_end_msg", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "1d95db4b07e31848335824e3facc78dd51e11f45", "commit_date": "2023-03-23T10:50:06Z", "commit_message": "use 'echo -n' as fallback for log_daemon_msg\n\nthe final newline is supplied by log_end_msg", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ce521f095dd4a62c70897dc86c94d99a641c1143", "commit_date": "2023-03-23T10:50:06Z", "commit_message": "run_test: use the installed dkms binary\n\nthe local one is not executable anyway", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "e39e67554a7584157c0eb7688da72f31b885005a", "commit_date": "2023-03-23T10:50:06Z", "commit_message": "run_test: run tests with parallel_jobs=1", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "293c7383a7e280a8c2ea91d193e6fcf74cff0b30", "commit_date": "2023-03-23T10:50:06Z", "commit_message": "run_test: cache $(uname -m) as ${KERNEL_ARCH}", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "38d7ac9cc3a7b7cf4392aefaf9d464b7088aa78c", "commit_date": "2023-03-23T10:50:06Z", "commit_message": "spelling corrections", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "027b2e45c2da5d98b7e16b1d3b450011e34d72a8", "commit_date": "2023-03-21T12:54:04Z", "commit_message": "run_test.sh: sanitize output based on signing-tool state\n\nCurrently we strip out all the signing, even when non is happening. This\ncan trivially mask bugs, so let's stop that.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "93d83d6939e44d22da0e9cfa38fad19e22106f8d", "commit_date": "2023-03-21T12:54:04Z", "commit_message": "run_tests: declare -i NO_SIGNING_TOOL and compare as such\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "c2b29f1176b421b5b82ccbfeb42c23b71020a79f", "commit_date": "2023-03-21T12:54:04Z", "commit_message": "dkms: skip module signing when hash is unknown\n\nCurrently we'll attempt to sign the modules, even when we don't have the\nkernel config and/or when CONFIG_MODULE_SIG_HASH is not set.\n\nThis serves little purpose, since in either of those cases the kernel\nwon't check the signature.\n\nSurprise! Turns out Debian 9 does not enable signing, even though it\nships the sign-file tool.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "244f40b51dd74f003f95ad59aeaaeff6964d4ffb", "commit_date": "2023-03-21T12:54:04Z", "commit_message": "dkms: move kernel_config check at the start of prepare_signing()\n\nNo functional change for now. Later commit will rework the behaviour, so\nthis keeps code motion and behaviour changes into separate commits.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "7dd4e41af0d7eab30807d4ff07e10ac1ef3867a7", "commit_date": "2023-03-21T12:54:04Z", "commit_message": "dkms: initialize do_signing, handle as int\n\nThe variable is a simple int/bool, so make sure it's initialized and\nproperly check it.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "38edf1951d6e8ba83f3adfb4d37baaed0f0058b6", "commit_date": "2023-03-12T22:22:17Z", "commit_message": "github: enable weekly testing\n\nEnsure that we catch upstream breaking changes early.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "3e0af663ee01af84abae23b32e50934ee631b5e0", "commit_date": "2023-03-05T10:44:12Z", "commit_message": "run_tests: properly track the sig key/hashalgo\n\nCurrently we make a few odd assumptions - we track the key field first.\nWhich may be either empty (kmod build w/o openssl) or missing all\ntogether (aka something has gone horribly wrong). Then based on that we\ntry and workaround the hashalgo.\n\nThat approach was chosen since kmod <26 was buggy (at least the hashalgo\nprovided was).\n\nInstead - start with a kmod version check (anything half-recent uses\n26+) then check the algo, which if unknown tells us to not look at\nthe empty key. Or if the hash is known and key is missing we can\nmeaningfully error out.\n\nIn the process of this, use modinfo -F instead of the current modinfo |\ngrep | sed dance.\n\nSide note: the NO_SIGNING_TOOL hunk (and surrounding code) should be\nde duplicated into a function or sorts. But that for another day.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f2f0bb021bf58e0703498165f13eba14baad53ec", "commit_date": "2023-03-05T10:44:12Z", "commit_message": "run_test.sh: s/return/exit/ in non-functions\n\nReturn is only a thing in functions, swap it with exit.\n\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2bb211d997256e2dc90430e4376efacdc45d9a09", "commit_date": "2023-02-26T17:17:59Z", "commit_message": "man: reinstate NO_WEAK_MODULES section\n\nThe documentation was dropped, even though the functionality is still\nthere... oops\n\nCloses: https://github.com/dell/dkms/issues/304\nFixes: 961f9ce (\"dkms: deprecate initrd and modules.conf handling\")\nSigned-off-by: Emil Velikov <emil.l.velikov@gmail.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "bbc19999bcd837a467475ba571c6466035f3c9ad", "commit_date": "2023-02-25T09:51:35Z", "commit_message": "Update README.md\n\nThe certificate and private key are reversed", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ce3e217f7d3746ab23cedf86613f636780b23a72", "commit_date": "2023-01-25T14:39:09Z", "commit_message": "Merge pull request #297 from xuzhen/cmp\n\nFix updating modules with no version", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "df5894f81d18d91fb392b3351a8a12f942f61f7e", "commit_date": "2023-01-25T14:37:30Z", "commit_message": "Merge pull request #294 from hadogenes/build_clang_and_lld\n\nFix building with clang and lld", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "f2ee1664b9a35a6a550802749165993f166c1a2a", "commit_date": "2023-01-25T08:53:12Z", "commit_message": "Add test cases", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "36d755f1bdacf65bcf939539d2c2277eec95edfd", "commit_date": "2023-01-25T08:53:12Z", "commit_message": "Fix installation when modules has same versions but different srcverions", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "ab65154e4880f75544df1d662614043e4ab9e339", "commit_date": "2023-01-24T09:15:28Z", "commit_message": "Change cc and ld to local variables\n\nSigned-off-by: Jacek Szafarkiewicz <szafar@linux.pl>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "4729aefebb98d229e542609c2b6c92545c7a69d8", "commit_date": "2023-01-24T09:15:01Z", "commit_message": "Better way to detect clang compiler\n\nSigned-off-by: Jacek Szafarkiewicz <szafar@linux.pl>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "484009979fe3344dba6ef626f7ef1d3fc5348b2d", "commit_date": "2023-01-22T20:47:49Z", "commit_message": "Export LD and KERNEL_LD as ld.lld when CONFIG_LD_IS_LLD=y is set\n\nSigned-off-by: Jacek Szafarkiewicz <szafar@linux.pl>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "5c5462b075dbb63a5eca68c78ff52a0d57be0aa7", "commit_date": "2023-01-22T20:47:22Z", "commit_message": "Export KERNEL_CC when exporting CC\n\nSigned-off-by: Jacek Szafarkiewicz <szafar@linux.pl>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "2a06ad8e0aa254a12cdb43659d098e3d449b039c", "commit_date": "2023-01-22T20:45:50Z", "commit_message": "Use $kernel_config instead of $kernel_source_dir/.config\n\nSigned-off-by: Jacek Szafarkiewicz <szafar@linux.pl>", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}, {"commit_oid": "85934f2c2908dc07d4b09069e13227a0faf2c45f", "commit_date": "2023-01-20T16:15:25Z", "commit_message": "Speed up modprobe when modprob_on_install=True (#293)", "commit_author": "", "message_analysis": {"glm6b_2": [], "manual": [], "noob_engine": []}}]}