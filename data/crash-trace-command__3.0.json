{"devel": [{"commit_oid": "17c35d075f067d80fee112ae18365b8defa2ca5a", "commit_date": "2021-02-19T02:50:57Z", "commit_message": "Makefile: fix build failure on aarch64 and ppc64le\n\nCurrently, there is build failure on aarch64 and ppc64le as follows:\n\n    gcc -O2 -flto=auto -ffat-lto-objects -fexceptions -g -grecord-gcc-switches -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -fstack-protector-strong -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1  -m64 -mcpu=power8 -mtune=power8 -fasynchronous-unwind-tables -fstack-clash-protection -Wall -I/usr/include/crash -nostartfiles -shared -rdynamic -o trace.so trace.c -fPIC -D\n    gcc: error: macro name missing after '-D'\n\nThe failure is caused by missing arguments for -D option because\nTARGET variable is empty.\n\nThis commit fixes the issue by defining TARGET variable properly\naccording to aarch64 and ppc64le.\n\nSigned-off-by: HATAYAMA Daisuke <d.hatayama@fujitsu.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "153629a96b07a8ae96b0b28cce100fde9ea1398d", "commit_date": "2021-02-19T02:22:51Z", "commit_message": "Makefile: set DT_SONAME to trace.so\n\nFedora never requires SONAME versioning for plugins according to the\nPackaging Guidelines:\n\n    https://docs.fedoraproject.org/en-US/packaging-guidelines/#_downstream_so_name_versioning\n\n    In cases where upstream ships unversioned .so library (so this is\n    not needed for plugins, drivers, etc.), the packager MUST try to\n    convince upstream to start versioning it.\n\nOn the other hand, fedpkg lint still prints warning if the shared\nlibrary doesn't have DT_SONAME. To surpress this, we set DT_SONAME\nfield to trace.so for in case.\n\nSigned-off-by: HATAYAMA Daisuke <d.hatayama@fujitsu.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}], "master": [{"commit_oid": "c5913a960dfa07d64397e6b591e6f0d40ea0b503", "commit_date": "2023-10-11T02:22:00Z", "commit_message": "trace: Support module memory layout change on Linux 6.4\n\nLinux kernel introduced new module memory layout on Linux 6.4 at the\ncommit ac3b432 (module: replace module_layout with module_memory) and\ncrash utility supported it at the commit 7750e61 (Support module\nmemory layout change on Linux 6.4).\n\nIn the change, crash utility changed definition and usage of data\nstructure for kernel modules. However, crash trace also refers to the\ndata structures. As a result, with the crash utility with the change,\ncrash trace command results in segmentation fault:\n\n  crash> extend trace.so\n  /usr/lib64/crash/extensions/trace.so: shared object loaded\n  crash> trace show\n  Segmentation fault (core dumped)\n\nTo fix this issue, let's support the new definition and usage of\nstruct load_module in crash trace. This is at the same time intended\nfor crash trace to support the new module memory layout of the Linux\nkernel.\n\nOn the other hand, there is still inevitable dependency left to size\nof struct load_module, one of the data structures of crash utility, in\ncrash trace. struct symbol_table_data holds an array of objects of\nstruct load_module in member variable load_modules and we need to know\nsize of struct load_module in advance to refer to its elements.\n\n  struct symbol_table_data {\n  ...snip...\n        int mods_installed;\n        struct load_module *current;\n        struct load_module *load_modules;\n\nDue to this, once crash trace is built with the defs.h including\nchange of size of struct load_module, it can never be used with the\nolder crash utility that was built with a different size of struct\nload_module.\n\nBecause there is no preferable way to tackle the dependency without\naltering implementation of crash utility, we have no choice but accept\nbreaking backward-compatibility for the time being.\n\nSigned-off-by: HATAYAMA Daisuke <d.hatayama@fujitsu.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}, {"commit_oid": "153629a96b07a8ae96b0b28cce100fde9ea1398d", "commit_date": "2021-02-19T02:22:51Z", "commit_message": "Makefile: set DT_SONAME to trace.so\n\nFedora never requires SONAME versioning for plugins according to the\nPackaging Guidelines:\n\n    https://docs.fedoraproject.org/en-US/packaging-guidelines/#_downstream_so_name_versioning\n\n    In cases where upstream ships unversioned .so library (so this is\n    not needed for plugins, drivers, etc.), the packager MUST try to\n    convince upstream to start versioning it.\n\nOn the other hand, fedpkg lint still prints warning if the shared\nlibrary doesn't have DT_SONAME. To surpress this, we set DT_SONAME\nfield to trace.so for in case.\n\nSigned-off-by: HATAYAMA Daisuke <d.hatayama@fujitsu.com>", "commit_author": "", "message_analysis": {"glm6b_2": [], "llama2_7b_chat": [], "manual": [], "noob_engine": []}}]}